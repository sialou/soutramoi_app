{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\nlet AuthGuard = class AuthGuard {\n  constructor(router, auth) {\n    this.router = router;\n    this.auth = auth;\n  }\n  canActivate(route, state) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (yield this.auth.isLogged()) {\n        return true;\n      }\n      this.router.navigate(['/auth/login']);\n      return false;\n    });\n  }\n};\nAuthGuard.ctorParameters = () => [{\n  type: Router\n}, {\n  type: AuthService\n}];\nAuthGuard = __decorate([Injectable({\n  providedIn: 'root'\n})], AuthGuard);\nexport { AuthGuard };","map":{"version":3,"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAA8CC,MAAM,QAA6B,iBAAiB;AAElG,SAASC,WAAW,QAAQ,0BAA0B;AAK/C,IAAMC,SAAS,GAAf,MAAMA,SAAS;EACpBC,YAAoBC,MAAc,EAAUC,IAAiB;IAAzC,WAAM,GAAND,MAAM;IAAkB,SAAI,GAAJC,IAAI;EAAiB;EAE3DC,WAAW,CAACC,KAA6B,EAAEC,KAA0B;;MACzE,IAAI,MAAM,IAAI,CAACH,IAAI,CAACI,QAAQ,EAAE,EAAE;QAC9B,OAAO,IAAI;;MAGb,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;MAErC,OAAO,KAAK;IACd,CAAC;;;;;;;;AAXUR,SAAS,eAHrBH,UAAU,CAAC;EACVY,UAAU,EAAE;CACb,CAAC,GACWT,SAAS,CAYrB;SAZYA,SAAS","names":["Injectable","Router","AuthService","AuthGuard","constructor","router","auth","canActivate","route","state","isLogged","navigate","providedIn"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/guards/auth.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { AuthService } from '../services/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(private router: Router, private auth: AuthService) { }\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    if (await this.auth.isLogged()) {\n      return true;\n    }\n\n    this.router.navigate(['/auth/login']);\n\n    return false;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}