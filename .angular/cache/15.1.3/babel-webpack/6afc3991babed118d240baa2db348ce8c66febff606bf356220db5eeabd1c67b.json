{"ast":null,"code":"import _asyncToGenerator from \"/home/digifemmes-22lab149/Bureau/soutramoi_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from '@angular/core';\nimport { InjectionToken, NgZone, Injectable, Optional, Inject, Component, ChangeDetectionStrategy, Input, ViewChild, Directive, Host, HostListener, EventEmitter, Output, forwardRef, ViewEncapsulation, TemplateRef, ContentChild, NgModule } from '@angular/core';\nimport * as MapboxGl from 'mapbox-gl';\nimport { AttributionControl, FullscreenControl, GeolocateControl, NavigationControl, ScaleControl } from 'mapbox-gl';\nimport { AsyncSubject, Subscription, fromEvent, Subject, lastValueFrom, merge } from 'rxjs';\nimport { first, switchMap, mapTo, filter, startWith, debounceTime, tap, takeUntil, take } from 'rxjs/operators';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nconst _c0 = [\"content\"];\nconst _c1 = [\"*\"];\nconst _c2 = [\"container\"];\nfunction MarkersForClustersComponent_ng_container_1_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    $implicit: a0\n  };\n};\nfunction MarkersForClustersComponent_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mgl-marker\", 3);\n    i0.ɵɵtemplate(2, MarkersForClustersComponent_ng_container_1_ng_container_1_ng_container_2_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const feature_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"feature\", feature_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.clusterPointTpl)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(3, _c3, feature_r1));\n  }\n}\nfunction MarkersForClustersComponent_ng_container_1_ng_container_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction MarkersForClustersComponent_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mgl-marker\", 3);\n    i0.ɵɵtemplate(2, MarkersForClustersComponent_ng_container_1_ng_container_2_ng_container_2_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const feature_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"feature\", feature_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r3.pointTpl)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(3, _c3, feature_r1));\n  }\n}\nfunction MarkersForClustersComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MarkersForClustersComponent_ng_container_1_ng_container_1_Template, 3, 5, \"ng-container\", 2);\n    i0.ɵɵtemplate(2, MarkersForClustersComponent_ng_container_1_ng_container_2_Template, 3, 5, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const feature_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", feature_r1.properties[\"cluster\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !feature_r1.properties[\"cluster\"]);\n  }\n}\nconst _c4 = function () {\n  return {\n    \"circle-radius\": 0\n  };\n};\nconst MAPBOX_API_KEY = new InjectionToken('MapboxApiKey');\nclass MapService {\n  constructor(zone, MAPBOX_API_KEY) {\n    this.zone = zone;\n    this.MAPBOX_API_KEY = MAPBOX_API_KEY;\n    this.mapCreated = new AsyncSubject();\n    this.mapLoaded = new AsyncSubject();\n    this.markersToRemove = [];\n    this.popupsToRemove = [];\n    this.imageIdsToRemove = [];\n    this.subscription = new Subscription();\n    this.mapCreated$ = this.mapCreated.asObservable();\n    this.mapLoaded$ = this.mapLoaded.asObservable();\n  }\n  setup(options) {\n    // Need onStable to wait for a potential @angular/route transition to end\n    this.zone.onStable.pipe(first()).subscribe(() => {\n      // Workaround rollup issue\n      // this.assign(\n      //   MapboxGl,\n      //   'accessToken',\n      //   options.accessToken || this.MAPBOX_API_KEY\n      // );\n      if (options.customMapboxApiUrl) {\n        this.assign(MapboxGl, 'config.API_URL', options.customMapboxApiUrl);\n      }\n      this.createMap({\n        ...options.mapOptions,\n        accessToken: options.accessToken || this.MAPBOX_API_KEY || ''\n      });\n      this.hookEvents(options.mapEvents);\n      this.mapEvents = options.mapEvents;\n      this.mapCreated.next(undefined);\n      this.mapCreated.complete();\n    });\n  }\n  destroyMap() {\n    if (this.mapInstance) {\n      this.subscription.unsubscribe();\n      this.mapInstance.remove();\n    }\n  }\n  updateProjection(projection) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setProjection(projection);\n    });\n  }\n  updateMinZoom(minZoom) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMinZoom(minZoom);\n    });\n  }\n  updateMaxZoom(maxZoom) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxZoom(maxZoom);\n    });\n  }\n  updateMinPitch(minPitch) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMinPitch(minPitch);\n    });\n  }\n  updateMaxPitch(maxPitch) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxPitch(maxPitch);\n    });\n  }\n  updateRenderWorldCopies(status) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setRenderWorldCopies(status);\n    });\n  }\n  updateScrollZoom(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.scrollZoom.enable() : this.mapInstance.scrollZoom.disable();\n    });\n  }\n  updateDragRotate(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.dragRotate.enable() : this.mapInstance.dragRotate.disable();\n    });\n  }\n  updateTouchPitch(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.touchPitch.enable() : this.mapInstance.touchPitch.disable();\n    });\n  }\n  updateTouchZoomRotate(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.touchZoomRotate.enable() : this.mapInstance.touchZoomRotate.disable();\n    });\n  }\n  updateDoubleClickZoom(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.doubleClickZoom.enable() : this.mapInstance.doubleClickZoom.disable();\n    });\n  }\n  updateKeyboard(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.keyboard.enable() : this.mapInstance.keyboard.disable();\n    });\n  }\n  updateDragPan(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.dragPan.enable() : this.mapInstance.dragPan.disable();\n    });\n  }\n  updateBoxZoom(status) {\n    return this.zone.runOutsideAngular(() => {\n      status ? this.mapInstance.boxZoom.enable() : this.mapInstance.boxZoom.disable();\n    });\n  }\n  updateStyle(style) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setStyle(style);\n    });\n  }\n  updateMaxBounds(maxBounds) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxBounds(maxBounds);\n    });\n  }\n  changeCanvasCursor(cursor) {\n    const canvas = this.mapInstance.getCanvasContainer();\n    canvas.style.cursor = cursor;\n  }\n  queryRenderedFeatures(pointOrBox, parameters) {\n    return this.mapInstance.queryRenderedFeatures(pointOrBox, parameters);\n  }\n  panTo(center, options) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.panTo(center, options);\n    });\n  }\n  move(movingMethod, movingOptions, zoom, center, bearing, pitch) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance[movingMethod]({\n        ...movingOptions,\n        zoom: zoom != null ? zoom : this.mapInstance.getZoom(),\n        center: center != null ? center : this.mapInstance.getCenter(),\n        bearing: bearing != null ? bearing : this.mapInstance.getBearing(),\n        pitch: pitch != null ? pitch : this.mapInstance.getPitch()\n      });\n    });\n  }\n  addLayer(layer, bindEvents, before) {\n    this.zone.runOutsideAngular(() => {\n      Object.keys(layer.layerOptions).forEach(key => {\n        const tkey = key;\n        if (layer.layerOptions[tkey] === undefined) {\n          delete layer.layerOptions[tkey];\n        }\n      });\n      this.mapInstance.addLayer(layer.layerOptions, before);\n      if (bindEvents) {\n        if (layer.layerEvents.layerClick.observed || layer.layerEvents.click.observed) {\n          this.mapInstance.on('click', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerClick.emit(evt);\n              layer.layerEvents.click.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerDblClick.observed || layer.layerEvents.dblClick.observed) {\n          this.mapInstance.on('dblclick', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerDblClick.emit(evt);\n              layer.layerEvents.dblClick.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseDown.observed || layer.layerEvents.mouseDown.observed) {\n          this.mapInstance.on('mousedown', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseDown.emit(evt);\n              layer.layerEvents.mouseDown.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseUp.observed || layer.layerEvents.mouseUp.observed) {\n          this.mapInstance.on('mouseup', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseUp.emit(evt);\n              layer.layerEvents.mouseUp.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseEnter.observed || layer.layerEvents.mouseEnter.observed) {\n          this.mapInstance.on('mouseenter', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseEnter.emit(evt);\n              layer.layerEvents.mouseEnter.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseLeave.observed || layer.layerEvents.mouseLeave.observed) {\n          this.mapInstance.on('mouseleave', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseLeave.emit(evt);\n              layer.layerEvents.mouseLeave.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseMove.observed || layer.layerEvents.mouseMove.observed) {\n          this.mapInstance.on('mousemove', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseMove.emit(evt);\n              layer.layerEvents.mouseMove.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseOver.observed || layer.layerEvents.mouseOver.observed) {\n          this.mapInstance.on('mouseover', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseOver.emit(evt);\n              layer.layerEvents.mouseOver.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseOut.observed || layer.layerEvents.mouseOut.observed) {\n          this.mapInstance.on('mouseout', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseOut.emit(evt);\n              layer.layerEvents.mouseOut.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerContextMenu.observed || layer.layerEvents.contextMenu.observed) {\n          this.mapInstance.on('contextmenu', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerContextMenu.emit(evt);\n              layer.layerEvents.contextMenu.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchStart.observed || layer.layerEvents.touchStart.observed) {\n          this.mapInstance.on('touchstart', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchStart.emit(evt);\n              layer.layerEvents.touchStart.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchEnd.observed || layer.layerEvents.touchEnd.observed) {\n          this.mapInstance.on('touchend', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchEnd.emit(evt);\n              layer.layerEvents.touchEnd.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchCancel.observed || layer.layerEvents.touchCancel.observed) {\n          this.mapInstance.on('touchcancel', layer.layerOptions.id, evt => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchCancel.emit(evt);\n              layer.layerEvents.touchCancel.emit(evt);\n            });\n          });\n        }\n      }\n    });\n  }\n  removeLayer(layerId) {\n    this.zone.runOutsideAngular(() => {\n      if (this.mapInstance.getLayer(layerId) != null) {\n        this.mapInstance.removeLayer(layerId);\n      }\n    });\n  }\n  addMarker(marker) {\n    const options = {\n      offset: marker.markersOptions.offset,\n      anchor: marker.markersOptions.anchor,\n      draggable: !!marker.markersOptions.draggable,\n      rotationAlignment: marker.markersOptions.rotationAlignment,\n      pitchAlignment: marker.markersOptions.pitchAlignment,\n      clickTolerance: marker.markersOptions.clickTolerance\n    };\n    if (marker.markersOptions.element.childNodes.length > 0) {\n      options.element = marker.markersOptions.element;\n    }\n    const markerInstance = new MapboxGl.Marker(options);\n    if (marker.markersEvents.markerDragStart.observed || marker.markersEvents.dragStart.observed) {\n      markerInstance.on('dragstart', event => {\n        if (event) {\n          const {\n            target\n          } = event;\n          this.zone.run(() => {\n            marker.markersEvents.markerDragStart.emit(target);\n            marker.markersEvents.dragStart.emit(target);\n          });\n        }\n      });\n    }\n    /*\n          */\n    if (marker.markersEvents.markerDrag.observed || marker.markersEvents.drag.observed) {\n      markerInstance.on('drag', event => {\n        if (event) {\n          const {\n            target\n          } = event;\n          this.zone.run(() => {\n            marker.markersEvents.markerDrag.emit(target);\n            marker.markersEvents.drag.emit(target);\n          });\n        }\n      });\n    }\n    if (marker.markersEvents.markerDragEnd.observed || marker.markersEvents.dragEnd.observed) {\n      markerInstance.on('dragend', event => {\n        if (event) {\n          const {\n            target\n          } = event;\n          this.zone.run(() => {\n            marker.markersEvents.markerDragEnd.emit(target);\n            marker.markersEvents.dragEnd.emit(target);\n          });\n        }\n      });\n    }\n    const lngLat = marker.markersOptions.feature ? marker.markersOptions.feature.geometry.coordinates : marker.markersOptions.lngLat;\n    markerInstance.setLngLat(lngLat);\n    return this.zone.runOutsideAngular(() => {\n      markerInstance.addTo(this.mapInstance);\n      return markerInstance;\n    });\n  }\n  removeMarker(marker) {\n    this.markersToRemove.push(marker);\n  }\n  createPopup(popup, element) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(popup.popupOptions).forEach(key => popup.popupOptions[key] === undefined && delete popup.popupOptions[key]);\n      const popupInstance = new MapboxGl.Popup(popup.popupOptions);\n      popupInstance.setDOMContent(element);\n      if (popup.popupEvents.popupClose.observed || popup.popupEvents.close.observed) {\n        popupInstance.on('close', () => {\n          this.zone.run(() => {\n            popup.popupEvents.popupClose.emit();\n            popup.popupEvents.close.emit();\n          });\n        });\n      }\n      if (popup.popupEvents.popupOpen.observed || popup.popupEvents.open.observed) {\n        popupInstance.on('open', () => {\n          this.zone.run(() => {\n            popup.popupEvents.popupOpen.emit();\n            popup.popupEvents.open.emit();\n          });\n        });\n      }\n      return popupInstance;\n    });\n  }\n  addPopupToMap(popup, lngLat, skipOpenEvent = false) {\n    return this.zone.runOutsideAngular(() => {\n      if (skipOpenEvent && popup._listeners) {\n        delete popup._listeners['open'];\n      }\n      popup.setLngLat(lngLat);\n      popup.addTo(this.mapInstance);\n    });\n  }\n  addPopupToMarker(marker, popup) {\n    return this.zone.runOutsideAngular(() => {\n      marker.setPopup(popup);\n    });\n  }\n  removePopupFromMap(popup, skipCloseEvent = false) {\n    if (skipCloseEvent && popup._listeners) {\n      delete popup._listeners['close'];\n    }\n    this.popupsToRemove.push(popup);\n  }\n  removePopupFromMarker(marker) {\n    return this.zone.runOutsideAngular(() => {\n      marker.setPopup(undefined);\n    });\n  }\n  addControl(control, position) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.addControl(control, position);\n    });\n  }\n  removeControl(control) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.removeControl(control);\n    });\n  }\n  loadAndAddImage(imageId, url, options) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.zone.runOutsideAngular(() => new Promise((resolve, reject) => {\n        _this.mapInstance.loadImage(url, (error, image) => {\n          if (error) {\n            reject(error);\n            return;\n          }\n          _this.addImage(imageId, image, options);\n          resolve();\n        });\n      }));\n    })();\n  }\n  addImage(imageId, data, options) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.addImage(imageId, data, options);\n    });\n  }\n  removeImage(imageId) {\n    this.imageIdsToRemove.push(imageId);\n  }\n  addSource(sourceId, source) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(source).forEach(key => source[key] === undefined && delete source[key]);\n      this.mapInstance.addSource(sourceId, source);\n    });\n  }\n  getSource(sourceId) {\n    return this.mapInstance.getSource(sourceId);\n  }\n  removeSource(sourceId) {\n    this.zone.runOutsideAngular(() => {\n      this.findLayersBySourceId(sourceId).forEach(layer => this.mapInstance.removeLayer(layer.id));\n      this.mapInstance.removeSource(sourceId);\n    });\n  }\n  setAllLayerPaintProperty(layerId, paint) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(paint).forEach(key => {\n        // TODO Check for perf, setPaintProperty only on changed paint props maybe\n        this.mapInstance.setPaintProperty(layerId, key, paint[key]);\n      });\n    });\n  }\n  setAllLayerLayoutProperty(layerId, layout) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(layout).forEach(key => {\n        // TODO Check for perf, setPaintProperty only on changed paint props maybe\n        this.mapInstance.setLayoutProperty(layerId, key, layout[key]);\n      });\n    });\n  }\n  setLayerFilter(layerId, filter) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setFilter(layerId, filter);\n    });\n  }\n  setLayerBefore(layerId, beforeId) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.moveLayer(layerId, beforeId);\n    });\n  }\n  setLayerZoomRange(layerId, minZoom, maxZoom) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setLayerZoomRange(layerId, minZoom ? minZoom : 0, maxZoom ? maxZoom : 20);\n    });\n  }\n  fitBounds(bounds, options) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.fitBounds(bounds, options);\n    });\n  }\n  fitScreenCoordinates(points, bearing, options) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.fitScreenCoordinates(points[0], points[1], bearing, options);\n    });\n  }\n  applyChanges() {\n    this.zone.runOutsideAngular(() => {\n      this.removeMarkers();\n      this.removePopups();\n      this.removeImages();\n    });\n  }\n  createMap(optionsWithAccessToken) {\n    NgZone.assertNotInAngularZone();\n    Object.keys(optionsWithAccessToken).forEach(key => {\n      const tkey = key;\n      if (optionsWithAccessToken[tkey] === undefined) {\n        delete optionsWithAccessToken[tkey];\n      }\n    });\n    this.mapInstance = new MapboxGl.Map(optionsWithAccessToken);\n    const isIEorEdge = window && /msie\\s|trident\\/|edge\\//i.test(window.navigator.userAgent);\n    if (isIEorEdge) {\n      this.mapInstance.setStyle(optionsWithAccessToken.style);\n    }\n    this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(() => this.applyChanges()));\n  }\n  removeMarkers() {\n    for (const marker of this.markersToRemove) {\n      marker.remove();\n    }\n    this.markersToRemove = [];\n  }\n  removePopups() {\n    for (const popup of this.popupsToRemove) {\n      popup.remove();\n    }\n    this.popupsToRemove = [];\n  }\n  removeImages() {\n    for (const imageId of this.imageIdsToRemove) {\n      this.mapInstance.removeImage(imageId);\n    }\n    this.imageIdsToRemove = [];\n  }\n  findLayersBySourceId(sourceId) {\n    const layers = this.mapInstance.getStyle().layers;\n    if (layers == null) {\n      return [];\n    }\n    return layers.filter(l => 'source' in l ? l.source === sourceId : false);\n  }\n  hookEvents(events) {\n    this.mapInstance.on('load', evt => {\n      this.mapLoaded.next(undefined);\n      this.mapLoaded.complete();\n      this.zone.run(() => {\n        events.mapLoad.emit(evt.target);\n        events.load.emit(evt.target);\n      });\n    });\n    if (events.mapResize.observed || events.resize.observed) {\n      this.mapInstance.on('resize', evt => this.zone.run(() => {\n        events.mapResize.emit(evt);\n        events.resize.emit(evt);\n      }));\n    }\n    if (events.mapRemove.observed || events.remove.observed) {\n      this.mapInstance.on('remove', evt => this.zone.run(() => {\n        events.mapRemove.emit(evt);\n        events.remove.emit(evt);\n      }));\n    }\n    if (events.mapMouseDown.observed || events.mouseDown.observed) {\n      this.mapInstance.on('mousedown', evt => this.zone.run(() => {\n        events.mapMouseDown.emit(evt);\n        events.mouseDown.emit(evt);\n      }));\n    }\n    if (events.mapMouseUp.observed || events.mouseUp.observed) {\n      this.mapInstance.on('mouseup', evt => this.zone.run(() => {\n        events.mapMouseUp.emit(evt);\n        events.mouseUp.emit(evt);\n      }));\n    }\n    if (events.mapMouseMove.observed || events.mouseMove.observed) {\n      this.mapInstance.on('mousemove', evt => this.zone.run(() => {\n        events.mapMouseMove.emit(evt);\n        events.mouseMove.emit(evt);\n      }));\n    }\n    if (events.mapClick.observed || events.click.observed) {\n      this.mapInstance.on('click', evt => this.zone.run(() => {\n        events.mapClick.emit(evt);\n        events.click.emit(evt);\n      }));\n    }\n    if (events.mapDblClick.observed || events.dblClick.observed) {\n      this.mapInstance.on('dblclick', evt => this.zone.run(() => {\n        events.mapDblClick.emit(evt);\n        events.dblClick.emit(evt);\n      }));\n    }\n    if (events.mapMouseOver.observed || events.mouseOver.observed) {\n      this.mapInstance.on('mouseover', evt => this.zone.run(() => {\n        events.mapMouseOver.emit(evt);\n        events.mouseOver.emit(evt);\n      }));\n    }\n    if (events.mapMouseOut.observed || events.mouseOut.observed) {\n      this.mapInstance.on('mouseout', evt => this.zone.run(() => {\n        events.mapMouseOut.emit(evt);\n        events.mouseOut.emit(evt);\n      }));\n    }\n    if (events.mapContextMenu.observed || events.contextMenu.observed) {\n      this.mapInstance.on('contextmenu', evt => this.zone.run(() => {\n        events.mapContextMenu.emit(evt);\n        events.contextMenu.emit(evt);\n      }));\n    }\n    if (events.mapTouchStart.observed || events.touchStart.observed) {\n      this.mapInstance.on('touchstart', evt => this.zone.run(() => {\n        events.mapTouchStart.emit(evt);\n        events.touchStart.emit(evt);\n      }));\n    }\n    if (events.mapTouchEnd.observed || events.touchEnd.observed) {\n      this.mapInstance.on('touchend', evt => this.zone.run(() => {\n        events.mapTouchEnd.emit(evt);\n        events.touchEnd.emit(evt);\n      }));\n    }\n    if (events.mapTouchMove.observed || events.touchMove.observed) {\n      this.mapInstance.on('touchmove', evt => this.zone.run(() => {\n        events.mapTouchMove.emit(evt);\n        events.touchMove.emit(evt);\n      }));\n    }\n    if (events.mapTouchCancel.observed || events.touchCancel.observed) {\n      this.mapInstance.on('touchcancel', evt => this.zone.run(() => {\n        events.mapTouchCancel.emit(evt);\n        events.touchCancel.emit(evt);\n      }));\n    }\n    if (events.mapWheel.observed || events.wheel.observed) {\n      this.mapInstance.on('wheel', evt => this.zone.run(() => {\n        events.mapWheel.emit(evt);\n        events.wheel.emit(evt);\n      }));\n    }\n    if (events.moveStart.observed) {\n      this.mapInstance.on('movestart', evt => this.zone.run(() => events.moveStart.emit(evt)));\n    }\n    if (events.move.observed) {\n      this.mapInstance.on('move', evt => this.zone.run(() => events.move.emit(evt)));\n    }\n    if (events.moveEnd.observed) {\n      this.mapInstance.on('moveend', evt => this.zone.run(() => events.moveEnd.emit(evt)));\n    }\n    if (events.mapDragStart.observed || events.dragStart.observed) {\n      this.mapInstance.on('dragstart', evt => this.zone.run(() => {\n        events.mapDragStart.emit(evt);\n        events.dragStart.emit(evt);\n      }));\n    }\n    if (events.mapDrag.observed || events.drag.observed) {\n      this.mapInstance.on('drag', evt => this.zone.run(() => {\n        events.mapDrag.emit(evt);\n        events.drag.emit(evt);\n      }));\n    }\n    if (events.mapDragEnd.observed || events.dragEnd.observed) {\n      this.mapInstance.on('dragend', evt => this.zone.run(() => {\n        events.mapDragEnd.emit(evt);\n        events.dragEnd.emit(evt);\n      }));\n    }\n    if (events.zoomStart.observed) {\n      this.mapInstance.on('zoomstart', evt => this.zone.run(() => events.zoomStart.emit(evt)));\n    }\n    if (events.zoomEvt.observed) {\n      this.mapInstance.on('zoom', evt => this.zone.run(() => events.zoomEvt.emit(evt)));\n    }\n    if (events.zoomEnd.observed) {\n      this.mapInstance.on('zoomend', evt => this.zone.run(() => events.zoomEnd.emit(evt)));\n    }\n    if (events.rotateStart.observed) {\n      this.mapInstance.on('rotatestart', evt => this.zone.run(() => events.rotateStart.emit(evt)));\n    }\n    if (events.rotate.observed) {\n      this.mapInstance.on('rotate', evt => this.zone.run(() => events.rotate.emit(evt)));\n    }\n    if (events.rotateEnd.observed) {\n      this.mapInstance.on('rotateend', evt => this.zone.run(() => events.rotateEnd.emit(evt)));\n    }\n    if (events.pitchStart.observed) {\n      this.mapInstance.on('pitchstart', evt => this.zone.run(() => events.pitchStart.emit(evt)));\n    }\n    if (events.pitchEvt.observed) {\n      this.mapInstance.on('pitch', evt => this.zone.run(() => events.pitchEvt.emit(evt)));\n    }\n    if (events.pitchEnd.observed) {\n      this.mapInstance.on('pitchend', evt => this.zone.run(() => events.pitchEnd.emit(evt)));\n    }\n    if (events.boxZoomStart.observed) {\n      this.mapInstance.on('boxzoomstart', evt => this.zone.run(() => events.boxZoomStart.emit(evt)));\n    }\n    if (events.boxZoomEnd.observed) {\n      this.mapInstance.on('boxzoomend', evt => this.zone.run(() => events.boxZoomEnd.emit(evt)));\n    }\n    if (events.boxZoomCancel.observed) {\n      this.mapInstance.on('boxzoomcancel', evt => this.zone.run(() => events.boxZoomCancel.emit(evt)));\n    }\n    if (events.webGlContextLost.observed) {\n      this.mapInstance.on('webglcontextlost', evt => this.zone.run(() => events.webGlContextLost.emit(evt)));\n    }\n    if (events.webGlContextRestored.observed) {\n      this.mapInstance.on('webglcontextrestored', evt => this.zone.run(() => events.webGlContextRestored.emit(evt)));\n    }\n    if (events.render.observed) {\n      this.mapInstance.on('render', evt => this.zone.run(() => events.render.emit(evt)));\n    }\n    if (events.mapError.observed || events.error.observed) {\n      this.mapInstance.on('error', evt => this.zone.run(() => {\n        events.mapError.emit(evt);\n        events.error.emit(evt);\n      }));\n    }\n    if (events.data.observed) {\n      this.mapInstance.on('data', evt => this.zone.run(() => events.data.emit(evt)));\n    }\n    if (events.styleData.observed) {\n      this.mapInstance.on('styledata', evt => this.zone.run(() => events.styleData.emit(evt)));\n    }\n    if (events.sourceData.observed) {\n      this.mapInstance.on('sourcedata', evt => this.zone.run(() => events.sourceData.emit(evt)));\n    }\n    if (events.dataLoading.observed) {\n      this.mapInstance.on('dataloading', evt => this.zone.run(() => events.dataLoading.emit(evt)));\n    }\n    if (events.styleDataLoading.observed) {\n      this.mapInstance.on('styledataloading', evt => this.zone.run(() => events.styleDataLoading.emit(evt)));\n    }\n    if (events.sourceDataLoading.observed) {\n      this.mapInstance.on('sourcedataloading', evt => this.zone.run(() => events.sourceDataLoading.emit(evt)));\n    }\n    if (events.styleImageMissing.observed) {\n      this.mapInstance.on('styleimagemissing', evt => this.zone.run(() => events.styleImageMissing.emit(evt)));\n    }\n    if (events.idle.observed) {\n      this.mapInstance.on('idle', evt => this.zone.run(() => events.idle.emit(evt)));\n    }\n  }\n  // TODO move this elsewhere\n  assign(obj, prop, value) {\n    if (typeof prop === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      prop = prop.split('.');\n    }\n    if (prop.length > 1) {\n      const e = prop.shift();\n      this.assign(obj[e] = Object.prototype.toString.call(obj[e]) === '[object Object]' ? obj[e] : {}, prop, value);\n    } else {\n      obj[prop[0]] = value;\n    }\n  }\n}\nMapService.ɵfac = function MapService_Factory(t) {\n  return new (t || MapService)(i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(MAPBOX_API_KEY, 8));\n};\nMapService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: MapService,\n  factory: MapService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [MAPBOX_API_KEY]\n      }]\n    }];\n  }, null);\n})();\nclass CustomControl {\n  constructor(container) {\n    this.container = container;\n  }\n  onAdd() {\n    return this.container;\n  }\n  onRemove() {\n    return this.container.parentNode.removeChild(this.container);\n  }\n  getDefaultPosition() {\n    return 'top-right';\n  }\n}\nclass ControlComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.controlAdded = false;\n  }\n  ngAfterContentInit() {\n    if (this.content.nativeElement.childNodes.length) {\n      this.control = new CustomControl(this.content.nativeElement);\n      this.mapService.mapCreated$.subscribe(() => {\n        this.mapService.addControl(this.control, this.position);\n        this.controlAdded = true;\n      });\n    }\n  }\n  ngOnDestroy() {\n    if (this.controlAdded) {\n      this.mapService.removeControl(this.control);\n    }\n  }\n}\nControlComponent.ɵfac = function ControlComponent_Factory(t) {\n  return new (t || ControlComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nControlComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ControlComponent,\n  selectors: [[\"mgl-control\"]],\n  viewQuery: function ControlComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  inputs: {\n    position: \"position\"\n  },\n  ngContentSelectors: _c1,\n  decls: 3,\n  vars: 0,\n  consts: [[1, \"mapboxgl-ctrl\"], [\"content\", \"\"]],\n  template: function ControlComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0, 1);\n      i0.ɵɵprojection(2);\n      i0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ControlComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-control',\n      template: '<div class=\"mapboxgl-ctrl\" #content><ng-content></ng-content></div>',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    position: [{\n      type: Input\n    }],\n    content: [{\n      type: ViewChild,\n      args: ['content', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass AttributionControlDirective {\n  constructor(mapService, controlComponent) {\n    this.mapService = mapService;\n    this.controlComponent = controlComponent;\n  }\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options = {};\n      if (this.compact !== undefined) {\n        options.compact = this.compact;\n      }\n      if (this.customAttribution !== undefined) {\n        options.customAttribution = this.customAttribution;\n      }\n      this.controlComponent.control = new AttributionControl(options);\n      this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n    });\n  }\n}\nAttributionControlDirective.ɵfac = function AttributionControlDirective_Factory(t) {\n  return new (t || AttributionControlDirective)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(ControlComponent, 1));\n};\nAttributionControlDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: AttributionControlDirective,\n  selectors: [[\"\", \"mglAttribution\", \"\"]],\n  inputs: {\n    compact: \"compact\",\n    customAttribution: \"customAttribution\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AttributionControlDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[mglAttribution]'\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: ControlComponent,\n      decorators: [{\n        type: Host\n      }]\n    }];\n  }, {\n    compact: [{\n      type: Input\n    }],\n    customAttribution: [{\n      type: Input\n    }]\n  });\n})();\nclass FullscreenControlDirective {\n  constructor(mapService, controlComponent) {\n    this.mapService = mapService;\n    this.controlComponent = controlComponent;\n  }\n  onFullscreen() {\n    this.mapService.mapInstance.resize();\n  }\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      this.controlComponent.control = new FullscreenControl({\n        container: this.container\n      });\n      this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n    });\n  }\n}\nFullscreenControlDirective.ɵfac = function FullscreenControlDirective_Factory(t) {\n  return new (t || FullscreenControlDirective)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(ControlComponent, 1));\n};\nFullscreenControlDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: FullscreenControlDirective,\n  selectors: [[\"\", \"mglFullscreen\", \"\"]],\n  hostBindings: function FullscreenControlDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"webkitfullscreenchange\", function FullscreenControlDirective_webkitfullscreenchange_HostBindingHandler($event) {\n        return ctx.onFullscreen($event.target);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  inputs: {\n    container: \"container\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(FullscreenControlDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[mglFullscreen]'\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: ControlComponent,\n      decorators: [{\n        type: Host\n      }]\n    }];\n  }, {\n    container: [{\n      type: Input\n    }],\n    onFullscreen: [{\n      type: HostListener,\n      args: ['window:webkitfullscreenchange', ['$event.target']]\n    }]\n  });\n})();\nclass GeolocateControlDirective {\n  constructor(mapService, controlComponent) {\n    this.mapService = mapService;\n    this.controlComponent = controlComponent;\n    this.geolocate = new EventEmitter();\n  }\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options = {\n        positionOptions: this.positionOptions,\n        fitBoundsOptions: this.fitBoundsOptions,\n        trackUserLocation: this.trackUserLocation,\n        showUserLocation: this.showUserLocation,\n        showUserHeading: this.showUserHeading\n      };\n      Object.keys(options).forEach(key => {\n        const tkey = key;\n        if (options[tkey] === undefined) {\n          delete options[tkey];\n        }\n      });\n      this.controlComponent.control = new GeolocateControl(options);\n      this.controlComponent.control.on('geolocate', data => {\n        this.geolocate.emit(data);\n      });\n      this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n    });\n  }\n}\nGeolocateControlDirective.ɵfac = function GeolocateControlDirective_Factory(t) {\n  return new (t || GeolocateControlDirective)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(ControlComponent, 1));\n};\nGeolocateControlDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: GeolocateControlDirective,\n  selectors: [[\"\", \"mglGeolocate\", \"\"]],\n  inputs: {\n    positionOptions: \"positionOptions\",\n    fitBoundsOptions: \"fitBoundsOptions\",\n    trackUserLocation: \"trackUserLocation\",\n    showUserLocation: \"showUserLocation\",\n    showUserHeading: \"showUserHeading\"\n  },\n  outputs: {\n    geolocate: \"geolocate\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GeolocateControlDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[mglGeolocate]'\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: ControlComponent,\n      decorators: [{\n        type: Host\n      }]\n    }];\n  }, {\n    positionOptions: [{\n      type: Input\n    }],\n    fitBoundsOptions: [{\n      type: Input\n    }],\n    trackUserLocation: [{\n      type: Input\n    }],\n    showUserLocation: [{\n      type: Input\n    }],\n    showUserHeading: [{\n      type: Input\n    }],\n    geolocate: [{\n      type: Output\n    }]\n  });\n})();\nclass NavigationControlDirective {\n  constructor(mapService, controlComponent) {\n    this.mapService = mapService;\n    this.controlComponent = controlComponent;\n  }\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options = {};\n      if (this.showCompass !== undefined) {\n        options.showCompass = this.showCompass;\n      }\n      if (this.showZoom !== undefined) {\n        options.showZoom = this.showZoom;\n      }\n      this.controlComponent.control = new NavigationControl(options);\n      this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n    });\n  }\n}\nNavigationControlDirective.ɵfac = function NavigationControlDirective_Factory(t) {\n  return new (t || NavigationControlDirective)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(ControlComponent, 1));\n};\nNavigationControlDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NavigationControlDirective,\n  selectors: [[\"\", \"mglNavigation\", \"\"]],\n  inputs: {\n    showCompass: \"showCompass\",\n    showZoom: \"showZoom\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NavigationControlDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[mglNavigation]'\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: ControlComponent,\n      decorators: [{\n        type: Host\n      }]\n    }];\n  }, {\n    showCompass: [{\n      type: Input\n    }],\n    showZoom: [{\n      type: Input\n    }]\n  });\n})();\nclass ScaleControlDirective {\n  constructor(mapService, controlComponent) {\n    this.mapService = mapService;\n    this.controlComponent = controlComponent;\n  }\n  ngOnChanges(changes) {\n    if (changes['unit'] && !changes['unit'].isFirstChange()) {\n      this.controlComponent.control.setUnit(changes['unit'].currentValue);\n    }\n  }\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options = {};\n      if (this.maxWidth !== undefined) {\n        options.maxWidth = this.maxWidth;\n      }\n      if (this.unit !== undefined) {\n        options.unit = this.unit;\n      }\n      this.controlComponent.control = new ScaleControl(options);\n      this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n    });\n  }\n}\nScaleControlDirective.ɵfac = function ScaleControlDirective_Factory(t) {\n  return new (t || ScaleControlDirective)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(ControlComponent, 1));\n};\nScaleControlDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: ScaleControlDirective,\n  selectors: [[\"\", \"mglScale\", \"\"]],\n  inputs: {\n    maxWidth: \"maxWidth\",\n    unit: \"unit\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ScaleControlDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[mglScale]'\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: ControlComponent,\n      decorators: [{\n        type: Host\n      }]\n    }];\n  }, {\n    maxWidth: [{\n      type: Input\n    }],\n    unit: [{\n      type: Input\n    }]\n  });\n})();\nconst deprecationWarning = (context, oldApi, newApi) => {\n  console.warn(`[ngx-mapbox-gl]: ${context}: ${oldApi} is deprecated, please use ${newApi} instead.`);\n};\nclass LayerComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.layerClick = new EventEmitter();\n    this.layerDblClick = new EventEmitter();\n    this.layerMouseDown = new EventEmitter();\n    this.layerMouseUp = new EventEmitter();\n    this.layerMouseEnter = new EventEmitter();\n    this.layerMouseLeave = new EventEmitter();\n    this.layerMouseMove = new EventEmitter();\n    this.layerMouseOver = new EventEmitter();\n    this.layerMouseOut = new EventEmitter();\n    this.layerContextMenu = new EventEmitter();\n    this.layerTouchStart = new EventEmitter();\n    this.layerTouchEnd = new EventEmitter();\n    this.layerTouchCancel = new EventEmitter();\n    /**\n     * @deprecated Use layerClick instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.click = new EventEmitter();\n    /**\n     * @deprecated Use layerDblClick instead\n     */\n    this.dblClick = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseDown instead\n     */\n    this.mouseDown = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseUp instead\n     */\n    this.mouseUp = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseEnter instead\n     */\n    this.mouseEnter = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseLeave instead\n     */\n    this.mouseLeave = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseMove instead\n     */\n    this.mouseMove = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseOver instead\n     */\n    this.mouseOver = new EventEmitter();\n    /**\n     * @deprecated Use layerMouseOut instead\n     */\n    this.mouseOut = new EventEmitter();\n    /**\n     * @deprecated Use layerContextMenu instead\n     */\n    this.contextMenu = new EventEmitter();\n    /**\n     * @deprecated Use layerTouchStart instead\n     */\n    this.touchStart = new EventEmitter();\n    /**\n     * @deprecated Use layerTouchEnd instead\n     */\n    this.touchEnd = new EventEmitter();\n    /**\n     * @deprecated Use layerTouchCancel instead\n     */\n    this.touchCancel = new EventEmitter();\n    this.layerAdded = false;\n  }\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    this.sub = this.mapService.mapLoaded$.pipe(switchMap(() => fromEvent(this.mapService.mapInstance, 'styledata').pipe(mapTo(false), filter(() => !this.mapService.mapInstance.getLayer(this.id)), startWith(true)))).subscribe(bindEvents => this.init(bindEvents));\n  }\n  ngOnChanges(changes) {\n    if (!this.layerAdded) {\n      return;\n    }\n    if (changes['paint'] && !changes['paint'].isFirstChange()) {\n      this.mapService.setAllLayerPaintProperty(this.id, changes['paint'].currentValue);\n    }\n    if (changes['layout'] && !changes['layout'].isFirstChange()) {\n      this.mapService.setAllLayerLayoutProperty(this.id, changes['layout'].currentValue);\n    }\n    if (changes['filter'] && !changes['filter'].isFirstChange()) {\n      this.mapService.setLayerFilter(this.id, changes['filter'].currentValue);\n    }\n    if (changes['before'] && !changes['before'].isFirstChange()) {\n      this.mapService.setLayerBefore(this.id, changes['before'].currentValue);\n    }\n    if (changes['minzoom'] && !changes['minzoom'].isFirstChange() || changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) {\n      this.mapService.setLayerZoomRange(this.id, this.minzoom, this.maxzoom);\n    }\n  }\n  ngOnDestroy() {\n    if (this.layerAdded) {\n      this.mapService.removeLayer(this.id);\n    }\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n  init(bindEvents) {\n    const layer = {\n      layerOptions: {\n        id: this.id,\n        type: this.type,\n        source: this.source,\n        metadata: this.metadata,\n        'source-layer': this.sourceLayer,\n        minzoom: this.minzoom,\n        maxzoom: this.maxzoom,\n        filter: this.filter,\n        layout: this.layout,\n        paint: this.paint\n      },\n      layerEvents: {\n        layerClick: this.layerClick,\n        layerDblClick: this.layerDblClick,\n        layerMouseDown: this.layerMouseDown,\n        layerMouseUp: this.layerMouseUp,\n        layerMouseEnter: this.layerMouseEnter,\n        layerMouseLeave: this.layerMouseLeave,\n        layerMouseMove: this.layerMouseMove,\n        layerMouseOver: this.layerMouseOver,\n        layerMouseOut: this.layerMouseOut,\n        layerContextMenu: this.layerContextMenu,\n        layerTouchStart: this.layerTouchStart,\n        layerTouchEnd: this.layerTouchEnd,\n        layerTouchCancel: this.layerTouchCancel,\n        click: this.click,\n        dblClick: this.dblClick,\n        mouseDown: this.mouseDown,\n        mouseUp: this.mouseUp,\n        mouseEnter: this.mouseEnter,\n        mouseLeave: this.mouseLeave,\n        mouseMove: this.mouseMove,\n        mouseOver: this.mouseOver,\n        mouseOut: this.mouseOut,\n        contextMenu: this.contextMenu,\n        touchStart: this.touchStart,\n        touchEnd: this.touchEnd,\n        touchCancel: this.touchCancel\n      }\n    };\n    this.mapService.addLayer(layer, bindEvents, this.before);\n    this.layerAdded = true;\n  }\n  warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, LayerComponent.name);\n    if (this.click.observed) {\n      dw('click', 'layerClick');\n    }\n    if (this.dblClick.observed) {\n      dw('dblClick', 'layerDblClick');\n    }\n    if (this.mouseDown.observed) {\n      dw('mouseDown', 'layerMouseDown');\n    }\n    if (this.mouseUp.observed) {\n      dw('mouseUp', 'layerMouseUp');\n    }\n    if (this.mouseEnter.observed) {\n      dw('mouseEnter', 'layerMouseEnter');\n    }\n    if (this.mouseLeave.observed) {\n      dw('mouseLeave', 'layerMouseLeave');\n    }\n    if (this.mouseMove.observed) {\n      dw('mouseMove', 'layerMouseMove');\n    }\n    if (this.mouseOver.observed) {\n      dw('mouseOver', 'layerMouseOver');\n    }\n    if (this.mouseOut.observed) {\n      dw('mouseOut', 'layerMouseOut');\n    }\n    if (this.contextMenu.observed) {\n      dw('contextMenu', 'layerContextMenu');\n    }\n    if (this.touchStart.observed) {\n      dw('touchStart', 'layerTouchStart');\n    }\n    if (this.touchEnd.observed) {\n      dw('touchEnd', 'layerTouchEnd');\n    }\n    if (this.touchCancel.observed) {\n      dw('touchCancel', 'layerTouchCancel');\n    }\n  }\n}\nLayerComponent.ɵfac = function LayerComponent_Factory(t) {\n  return new (t || LayerComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nLayerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LayerComponent,\n  selectors: [[\"mgl-layer\"]],\n  inputs: {\n    id: \"id\",\n    source: \"source\",\n    type: \"type\",\n    metadata: \"metadata\",\n    sourceLayer: \"sourceLayer\",\n    filter: \"filter\",\n    layout: \"layout\",\n    paint: \"paint\",\n    before: \"before\",\n    minzoom: \"minzoom\",\n    maxzoom: \"maxzoom\"\n  },\n  outputs: {\n    layerClick: \"layerClick\",\n    layerDblClick: \"layerDblClick\",\n    layerMouseDown: \"layerMouseDown\",\n    layerMouseUp: \"layerMouseUp\",\n    layerMouseEnter: \"layerMouseEnter\",\n    layerMouseLeave: \"layerMouseLeave\",\n    layerMouseMove: \"layerMouseMove\",\n    layerMouseOver: \"layerMouseOver\",\n    layerMouseOut: \"layerMouseOut\",\n    layerContextMenu: \"layerContextMenu\",\n    layerTouchStart: \"layerTouchStart\",\n    layerTouchEnd: \"layerTouchEnd\",\n    layerTouchCancel: \"layerTouchCancel\",\n    click: \"click\",\n    dblClick: \"dblClick\",\n    mouseDown: \"mouseDown\",\n    mouseUp: \"mouseUp\",\n    mouseEnter: \"mouseEnter\",\n    mouseLeave: \"mouseLeave\",\n    mouseMove: \"mouseMove\",\n    mouseOver: \"mouseOver\",\n    mouseOut: \"mouseOut\",\n    contextMenu: \"contextMenu\",\n    touchStart: \"touchStart\",\n    touchEnd: \"touchEnd\",\n    touchCancel: \"touchCancel\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function LayerComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LayerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-layer',\n      template: ''\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    source: [{\n      type: Input\n    }],\n    type: [{\n      type: Input\n    }],\n    metadata: [{\n      type: Input\n    }],\n    sourceLayer: [{\n      type: Input\n    }],\n    filter: [{\n      type: Input\n    }],\n    layout: [{\n      type: Input\n    }],\n    paint: [{\n      type: Input\n    }],\n    before: [{\n      type: Input\n    }],\n    minzoom: [{\n      type: Input\n    }],\n    maxzoom: [{\n      type: Input\n    }],\n    layerClick: [{\n      type: Output\n    }],\n    layerDblClick: [{\n      type: Output\n    }],\n    layerMouseDown: [{\n      type: Output\n    }],\n    layerMouseUp: [{\n      type: Output\n    }],\n    layerMouseEnter: [{\n      type: Output\n    }],\n    layerMouseLeave: [{\n      type: Output\n    }],\n    layerMouseMove: [{\n      type: Output\n    }],\n    layerMouseOver: [{\n      type: Output\n    }],\n    layerMouseOut: [{\n      type: Output\n    }],\n    layerContextMenu: [{\n      type: Output\n    }],\n    layerTouchStart: [{\n      type: Output\n    }],\n    layerTouchEnd: [{\n      type: Output\n    }],\n    layerTouchCancel: [{\n      type: Output\n    }],\n    click: [{\n      type: Output\n    }],\n    dblClick: [{\n      type: Output\n    }],\n    mouseDown: [{\n      type: Output\n    }],\n    mouseUp: [{\n      type: Output\n    }],\n    mouseEnter: [{\n      type: Output\n    }],\n    mouseLeave: [{\n      type: Output\n    }],\n    mouseMove: [{\n      type: Output\n    }],\n    mouseOver: [{\n      type: Output\n    }],\n    mouseOut: [{\n      type: Output\n    }],\n    contextMenu: [{\n      type: Output\n    }],\n    touchStart: [{\n      type: Output\n    }],\n    touchEnd: [{\n      type: Output\n    }],\n    touchCancel: [{\n      type: Output\n    }]\n  });\n})();\nclass GeoJSONSourceComponent {\n  constructor(mapService, zone) {\n    this.mapService = mapService;\n    this.zone = zone;\n    this.updateFeatureData = new Subject();\n    this.sub = new Subscription();\n    this.sourceAdded = false;\n    this.featureIdCounter = 0;\n  }\n  ngOnInit() {\n    if (!this.data) {\n      this.data = {\n        type: 'FeatureCollection',\n        features: []\n      };\n    }\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata').pipe(filter(() => !this.mapService.mapInstance.getSource(this.id))).subscribe(() => {\n        this.init();\n      });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n  ngOnChanges(changes) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (changes['maxzoom'] && !changes['maxzoom'].isFirstChange() || changes['attribution'] && !changes['attribution'].isFirstChange() || changes['buffer'] && !changes['buffer'].isFirstChange() || changes['tolerance'] && !changes['tolerance'].isFirstChange() || changes['cluster'] && !changes['cluster'].isFirstChange() || changes['clusterRadius'] && !changes['clusterRadius'].isFirstChange() || changes['clusterMaxZoom'] && !changes['clusterMaxZoom'].isFirstChange() || changes['clusterMinPoints'] && !changes['clusterMinPoints'].isFirstChange() || changes['clusterProperties'] && !changes['clusterProperties'].isFirstChange() || changes['lineMetrics'] && !changes['lineMetrics'].isFirstChange() || changes['generateId'] && !changes['generateId'].isFirstChange() || changes['promoteId'] && !changes['promoteId'].isFirstChange() || changes['filter'] && !changes['filter'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n    if (changes['data'] && !changes['data'].isFirstChange()) {\n      const source = this.mapService.getSource(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setData(this.data);\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n  /**\n   * For clustered sources, fetches the zoom at which the given cluster expands.\n   *\n   * @param clusterId The value of the cluster's cluster_id property.\n   */\n  getClusterExpansionZoom(clusterId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const source = _this2.mapService.getSource(_this2.id);\n      return _this2.zone.run( /*#__PURE__*/_asyncToGenerator(function* () {\n        return new Promise((resolve, reject) => {\n          source.getClusterExpansionZoom(clusterId, (error, zoom) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve(zoom);\n            }\n          });\n        });\n      }));\n    })();\n  }\n  /**\n   * For clustered sources, fetches the children of the given cluster on the next zoom level (as an array of GeoJSON features).\n   *\n   * @param clusterId The value of the cluster's cluster_id property.\n   */\n  getClusterChildren(clusterId) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const source = _this3.mapService.getSource(_this3.id);\n      return _this3.zone.run( /*#__PURE__*/_asyncToGenerator(function* () {\n        return new Promise((resolve, reject) => {\n          source.getClusterChildren(clusterId, (error, features) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve(features);\n            }\n          });\n        });\n      }));\n    })();\n  }\n  /**\n   * For clustered sources, fetches the original points that belong to the cluster (as an array of GeoJSON features).\n   *\n   * @param clusterId The value of the cluster's cluster_id property.\n   * @param limit The maximum number of features to return.\n   * @param offset The number of features to skip (e.g. for pagination).\n   */\n  getClusterLeaves(clusterId, limit, offset) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const source = _this4.mapService.getSource(_this4.id);\n      return _this4.zone.run( /*#__PURE__*/_asyncToGenerator(function* () {\n        return new Promise((resolve, reject) => {\n          source.getClusterLeaves(clusterId, limit, offset, (error, features) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve(features);\n            }\n          });\n        });\n      }));\n    })();\n  }\n  _addFeature(feature) {\n    const collection = this.data;\n    collection.features.push(feature);\n    this.updateFeatureData.next(null);\n  }\n  _removeFeature(feature) {\n    const collection = this.data;\n    const index = collection.features.indexOf(feature);\n    if (index > -1) {\n      collection.features.splice(index, 1);\n    }\n    this.updateFeatureData.next(null);\n  }\n  _getNewFeatureId() {\n    return ++this.featureIdCounter;\n  }\n  init() {\n    const source = {\n      type: 'geojson',\n      data: this.data,\n      maxzoom: this.maxzoom,\n      attribution: this.attribution,\n      buffer: this.buffer,\n      tolerance: this.tolerance,\n      cluster: this.cluster,\n      clusterRadius: this.clusterRadius,\n      clusterMaxZoom: this.clusterMaxZoom,\n      clusterMinPoints: this.clusterMinPoints,\n      clusterProperties: this.clusterProperties,\n      lineMetrics: this.lineMetrics,\n      generateId: this.generateId,\n      promoteId: this.promoteId,\n      filter: this.filter\n    };\n    this.mapService.addSource(this.id, source);\n    const sub = this.updateFeatureData.pipe(debounceTime(0)).subscribe(() => {\n      const source = this.mapService.getSource(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setData(this.data);\n    });\n    this.sub.add(sub);\n    this.sourceAdded = true;\n  }\n}\nGeoJSONSourceComponent.ɵfac = function GeoJSONSourceComponent_Factory(t) {\n  return new (t || GeoJSONSourceComponent)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(i0.NgZone));\n};\nGeoJSONSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: GeoJSONSourceComponent,\n  selectors: [[\"mgl-geojson-source\"]],\n  inputs: {\n    id: \"id\",\n    data: \"data\",\n    maxzoom: \"maxzoom\",\n    attribution: \"attribution\",\n    buffer: \"buffer\",\n    tolerance: \"tolerance\",\n    cluster: \"cluster\",\n    clusterRadius: \"clusterRadius\",\n    clusterMaxZoom: \"clusterMaxZoom\",\n    clusterMinPoints: \"clusterMinPoints\",\n    clusterProperties: \"clusterProperties\",\n    lineMetrics: \"lineMetrics\",\n    generateId: \"generateId\",\n    promoteId: \"promoteId\",\n    filter: \"filter\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function GeoJSONSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GeoJSONSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-geojson-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    data: [{\n      type: Input\n    }],\n    maxzoom: [{\n      type: Input\n    }],\n    attribution: [{\n      type: Input\n    }],\n    buffer: [{\n      type: Input\n    }],\n    tolerance: [{\n      type: Input\n    }],\n    cluster: [{\n      type: Input\n    }],\n    clusterRadius: [{\n      type: Input\n    }],\n    clusterMaxZoom: [{\n      type: Input\n    }],\n    clusterMinPoints: [{\n      type: Input\n    }],\n    clusterProperties: [{\n      type: Input\n    }],\n    lineMetrics: [{\n      type: Input\n    }],\n    generateId: [{\n      type: Input\n    }],\n    promoteId: [{\n      type: Input\n    }],\n    filter: [{\n      type: Input\n    }]\n  });\n})();\nclass FeatureComponent {\n  constructor(GeoJSONSourceComponent) {\n    this.GeoJSONSourceComponent = GeoJSONSourceComponent;\n    this.type = 'Feature';\n  }\n  ngOnInit() {\n    if (!this.id) {\n      this.id = this.GeoJSONSourceComponent._getNewFeatureId();\n    }\n    this.feature = {\n      type: this.type,\n      geometry: this.geometry,\n      properties: this.properties ? this.properties : {}\n    };\n    this.feature.id = this.id;\n    this.GeoJSONSourceComponent._addFeature(this.feature);\n  }\n  ngOnDestroy() {\n    this.GeoJSONSourceComponent._removeFeature(this.feature);\n  }\n  updateCoordinates(coordinates) {\n    this.feature.geometry.coordinates = coordinates;\n    this.GeoJSONSourceComponent.updateFeatureData.next(null);\n  }\n}\nFeatureComponent.ɵfac = function FeatureComponent_Factory(t) {\n  return new (t || FeatureComponent)(i0.ɵɵdirectiveInject(forwardRef(() => GeoJSONSourceComponent)));\n};\nFeatureComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: FeatureComponent,\n  selectors: [[\"mgl-feature\"]],\n  inputs: {\n    id: \"id\",\n    geometry: \"geometry\",\n    properties: \"properties\"\n  },\n  decls: 0,\n  vars: 0,\n  template: function FeatureComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(FeatureComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-feature',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: GeoJSONSourceComponent,\n      decorators: [{\n        type: Inject,\n        args: [forwardRef(() => GeoJSONSourceComponent)]\n      }]\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    geometry: [{\n      type: Input\n    }],\n    properties: [{\n      type: Input\n    }]\n  });\n})();\nclass DraggableDirective {\n  constructor(mapService, ngZone, featureComponent) {\n    this.mapService = mapService;\n    this.ngZone = ngZone;\n    this.featureComponent = featureComponent;\n    this.featureDragStart = new EventEmitter();\n    this.featureDragEnd = new EventEmitter();\n    this.featureDrag = new EventEmitter();\n    /**\n     * @deprecated Use featureDragStart instead\n     */\n    this.dragStart = new EventEmitter();\n    /**\n     * @deprecated Use featureDragEnd instead\n     */\n    this.dragEnd = new EventEmitter();\n    /**\n     * @deprecated Use featureDrag instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.drag = new EventEmitter();\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    let enter$;\n    let leave$;\n    let updateCoords;\n    if (this.featureComponent && this.layer) {\n      enter$ = this.layer.layerMouseEnter;\n      leave$ = this.layer.layerMouseLeave;\n      updateCoords = this.featureComponent.updateCoordinates.bind(this.featureComponent);\n      if (this.featureComponent.geometry.type !== 'Point') {\n        throw new Error('mglDraggable only support point feature');\n      }\n    } else {\n      throw new Error('mglDraggable can only be used on Feature (with a layer as input) or Marker');\n    }\n    this.handleDraggable(enter$, leave$, updateCoords);\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n  handleDraggable(enter$, leave$, updateCoords) {\n    let moving = false;\n    let inside = false;\n    this.mapService.mapCreated$.subscribe(() => {\n      const mouseUp$ = fromEvent(this.mapService.mapInstance, 'mouseup');\n      const dragStart$ = enter$.pipe(filter(() => !moving), filter(evt => this.filterFeature(evt)), tap(() => {\n        inside = true;\n        this.mapService.changeCanvasCursor('move');\n        this.mapService.updateDragPan(false);\n      }), switchMap(() => fromEvent(this.mapService.mapInstance, 'mousedown').pipe(takeUntil(leave$))));\n      const dragging$ = dragStart$.pipe(switchMap(() => fromEvent(this.mapService.mapInstance, 'mousemove').pipe(takeUntil(mouseUp$))));\n      const dragEnd$ = dragStart$.pipe(switchMap(() => mouseUp$.pipe(take(1))));\n      this.sub.add(dragStart$.subscribe(evt => {\n        moving = true;\n        if (this.featureDragStart.observed || this.dragStart.observed) {\n          this.ngZone.run(() => {\n            this.featureDragStart.emit(evt);\n            this.dragStart.emit(evt);\n          });\n        }\n      }));\n      this.sub.add(dragging$.subscribe(evt => {\n        updateCoords([evt.lngLat.lng, evt.lngLat.lat]);\n        if (this.featureDrag.observed || this.drag.observed) {\n          this.ngZone.run(() => {\n            this.featureDrag.emit(evt);\n            this.drag.emit(evt);\n          });\n        }\n      }));\n      this.sub.add(dragEnd$.subscribe(evt => {\n        moving = false;\n        if (this.featureDragEnd.observed || this.dragEnd.observed) {\n          this.ngZone.run(() => {\n            this.featureDragEnd.emit(evt);\n            this.dragEnd.emit(evt);\n          });\n        }\n        if (!inside) {\n          // It's possible to dragEnd outside the target (small input lag)\n          this.mapService.changeCanvasCursor('');\n          this.mapService.updateDragPan(true);\n        }\n      }));\n      this.sub.add(leave$.pipe(tap(() => inside = false), filter(() => !moving)).subscribe(() => {\n        this.mapService.changeCanvasCursor('');\n        this.mapService.updateDragPan(true);\n      }));\n    });\n  }\n  filterFeature(evt) {\n    if (this.featureComponent && this.layer) {\n      const feature = this.mapService.queryRenderedFeatures(evt.point, {\n        layers: [this.layer.id],\n        filter: ['all', ['==', '$type', 'Point'], ['==', '$id', this.featureComponent.id]]\n      })[0];\n      if (!feature) {\n        return false;\n      }\n    }\n    return true;\n  }\n  warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, DraggableDirective.name);\n    if (this.dragStart.observed) {\n      dw('dragStart', 'featureDragStart');\n    }\n    if (this.dragEnd.observed) {\n      dw('dragEnd', 'featureDragEnd');\n    }\n    if (this.drag.observed) {\n      dw('drag', 'featureDrag');\n    }\n  }\n}\nDraggableDirective.ɵfac = function DraggableDirective_Factory(t) {\n  return new (t || DraggableDirective)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(FeatureComponent, 9));\n};\nDraggableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: DraggableDirective,\n  selectors: [[\"\", \"mglDraggable\", \"\"]],\n  inputs: {\n    layer: [\"mglDraggable\", \"layer\"]\n  },\n  outputs: {\n    featureDragStart: \"featureDragStart\",\n    featureDragEnd: \"featureDragEnd\",\n    featureDrag: \"featureDrag\",\n    dragStart: \"dragStart\",\n    dragEnd: \"dragEnd\",\n    drag: \"drag\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DraggableDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[mglDraggable]'\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: i0.NgZone\n    }, {\n      type: FeatureComponent,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Host\n      }]\n    }];\n  }, {\n    layer: [{\n      type: Input,\n      args: ['mglDraggable']\n    }],\n    featureDragStart: [{\n      type: Output\n    }],\n    featureDragEnd: [{\n      type: Output\n    }],\n    featureDrag: [{\n      type: Output\n    }],\n    dragStart: [{\n      type: Output\n    }],\n    dragEnd: [{\n      type: Output\n    }],\n    drag: [{\n      type: Output\n    }]\n  });\n})();\nclass ImageComponent {\n  constructor(mapService, zone) {\n    this.mapService = mapService;\n    this.zone = zone;\n    this.imageError = new EventEmitter();\n    this.imageLoaded = new EventEmitter();\n    /**\n     * @deprecated Use imageError instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.error = new EventEmitter();\n    /**\n     * @deprecated Use imageLoaded instead\n     */\n    this.loaded = new EventEmitter();\n    this.isAdded = false;\n    this.isAdding = false;\n  }\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    this.sub = this.mapService.mapLoaded$.pipe(switchMap(() => fromEvent(this.mapService.mapInstance, 'styledata').pipe(startWith(undefined), filter(() => !this.isAdding && !this.mapService.mapInstance.hasImage(this.id))))).subscribe(() => this.init());\n  }\n  ngOnChanges(changes) {\n    if (changes['data'] && !changes['data'].isFirstChange() || changes['options'] && !changes['options'].isFirstChange() || changes['url'] && !changes['url'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n  ngOnDestroy() {\n    if (this.isAdded) {\n      this.mapService.removeImage(this.id);\n    }\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n  init() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.isAdding = true;\n      if (_this5.data) {\n        _this5.mapService.addImage(_this5.id, _this5.data, _this5.options);\n        _this5.isAdded = true;\n        _this5.isAdding = false;\n      } else if (_this5.url) {\n        try {\n          yield _this5.mapService.loadAndAddImage(_this5.id, _this5.url, _this5.options);\n          _this5.isAdded = true;\n          _this5.isAdding = false;\n          _this5.zone.run(() => {\n            _this5.imageLoaded.emit();\n            _this5.loaded.emit();\n          });\n        } catch (error) {\n          _this5.zone.run(() => {\n            _this5.imageError.emit(error);\n            _this5.error.emit(error);\n          });\n        }\n      }\n    })();\n  }\n  warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, ImageComponent.name);\n    if (this.error.observed) {\n      dw('error', 'imageError');\n    }\n    if (this.loaded.observed) {\n      dw('loaded', 'imageLoaded');\n    }\n  }\n}\nImageComponent.ɵfac = function ImageComponent_Factory(t) {\n  return new (t || ImageComponent)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(i0.NgZone));\n};\nImageComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ImageComponent,\n  selectors: [[\"mgl-image\"]],\n  inputs: {\n    id: \"id\",\n    data: \"data\",\n    options: \"options\",\n    url: \"url\"\n  },\n  outputs: {\n    imageError: \"imageError\",\n    imageLoaded: \"imageLoaded\",\n    error: \"error\",\n    loaded: \"loaded\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function ImageComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImageComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-image',\n      template: ''\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    data: [{\n      type: Input\n    }],\n    options: [{\n      type: Input\n    }],\n    url: [{\n      type: Input\n    }],\n    imageError: [{\n      type: Output\n    }],\n    imageLoaded: [{\n      type: Output\n    }],\n    error: [{\n      type: Output\n    }],\n    loaded: [{\n      type: Output\n    }]\n  });\n})();\nclass MapComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    /* Added by ngx-mapbox-gl */\n    this.movingMethod = 'flyTo';\n    this.mapResize = new EventEmitter();\n    this.mapRemove = new EventEmitter();\n    this.mapMouseDown = new EventEmitter();\n    this.mapMouseUp = new EventEmitter();\n    this.mapMouseMove = new EventEmitter();\n    this.mapClick = new EventEmitter();\n    this.mapDblClick = new EventEmitter();\n    this.mapMouseOver = new EventEmitter();\n    this.mapMouseOut = new EventEmitter();\n    this.mapContextMenu = new EventEmitter();\n    this.mapTouchStart = new EventEmitter();\n    this.mapTouchEnd = new EventEmitter();\n    this.mapTouchMove = new EventEmitter();\n    this.mapTouchCancel = new EventEmitter();\n    this.mapWheel = new EventEmitter();\n    this.moveStart = new EventEmitter();\n    this.move = new EventEmitter();\n    this.moveEnd = new EventEmitter();\n    this.mapDragStart = new EventEmitter();\n    this.mapDrag = new EventEmitter();\n    this.mapDragEnd = new EventEmitter();\n    this.zoomStart = new EventEmitter();\n    this.zoomEvt = new EventEmitter();\n    this.zoomEnd = new EventEmitter();\n    this.rotateStart = new EventEmitter();\n    this.rotate = new EventEmitter();\n    this.rotateEnd = new EventEmitter();\n    this.pitchStart = new EventEmitter();\n    this.pitchEvt = new EventEmitter();\n    this.pitchEnd = new EventEmitter();\n    this.boxZoomStart = new EventEmitter();\n    this.boxZoomEnd = new EventEmitter();\n    this.boxZoomCancel = new EventEmitter();\n    this.webGlContextLost = new EventEmitter();\n    this.webGlContextRestored = new EventEmitter();\n    this.mapLoad = new EventEmitter();\n    this.idle = new EventEmitter();\n    this.render = new EventEmitter();\n    this.mapError = new EventEmitter();\n    this.data = new EventEmitter();\n    this.styleData = new EventEmitter();\n    this.sourceData = new EventEmitter();\n    this.dataLoading = new EventEmitter();\n    this.styleDataLoading = new EventEmitter();\n    this.sourceDataLoading = new EventEmitter();\n    this.styleImageMissing = new EventEmitter();\n    /**\n     * @deprecated Use mapResize instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.resize = new EventEmitter();\n    /**\n     * @deprecated Use mapRemove instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.remove = new EventEmitter();\n    /**\n     * @deprecated Use mapMouseDown instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.mouseDown = new EventEmitter();\n    /**\n     * @deprecated Use mapMouseUp instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.mouseUp = new EventEmitter();\n    /**\n     * @deprecated Use mapMouseMove instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.mouseMove = new EventEmitter();\n    /**\n     * @deprecated Use mapClick instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.click = new EventEmitter();\n    /**\n     * @deprecated Use mapDblClick instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.dblClick = new EventEmitter();\n    /**\n     * @deprecated Use mapMouseOver instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.mouseOver = new EventEmitter();\n    /**\n     * @deprecated Use mapMouseOut instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.mouseOut = new EventEmitter();\n    /**\n     * @deprecated Use mapContextMenu instead\n     */\n    this.contextMenu = new EventEmitter();\n    /**\n     * @deprecated Use mapTouchStart instead\n     */\n    this.touchStart = new EventEmitter();\n    /**\n     * @deprecated Use mapTouchEnd instead\n     */\n    this.touchEnd = new EventEmitter();\n    /**\n     * @deprecated Use mapTouchMove instead\n     */\n    this.touchMove = new EventEmitter();\n    /**\n     * @deprecated Use mapTouchCancel instead\n     */\n    this.touchCancel = new EventEmitter();\n    /**\n     * @deprecated Use mapWheel instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.wheel = new EventEmitter();\n    /**\n     * @deprecated Use mapDragStart instead\n     */\n    this.dragStart = new EventEmitter();\n    /**\n     * @deprecated Use mapDrag instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.drag = new EventEmitter();\n    /**\n     * @deprecated Use mapDragEnd instead\n     */\n    this.dragEnd = new EventEmitter();\n    /**\n     * @deprecated Use mapLoad instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.load = new EventEmitter();\n    /**\n     * @deprecated Use mapError instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.error = new EventEmitter();\n  }\n  get mapInstance() {\n    return this.mapService.mapInstance;\n  }\n  ngAfterViewInit() {\n    this.warnDeprecatedOutputs();\n    this.mapService.setup({\n      accessToken: this.accessToken,\n      customMapboxApiUrl: this.customMapboxApiUrl,\n      mapOptions: {\n        collectResourceTiming: this.collectResourceTiming,\n        container: this.mapContainer.nativeElement,\n        crossSourceCollisions: this.crossSourceCollisions,\n        fadeDuration: this.fadeDuration,\n        minZoom: this.minZoom,\n        maxZoom: this.maxZoom,\n        minPitch: this.minPitch,\n        maxPitch: this.maxPitch,\n        style: this.style,\n        hash: this.hash,\n        interactive: this.interactive,\n        bearingSnap: this.bearingSnap,\n        pitchWithRotate: this.pitchWithRotate,\n        clickTolerance: this.clickTolerance,\n        attributionControl: this.attributionControl,\n        logoPosition: this.logoPosition,\n        failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat,\n        preserveDrawingBuffer: this.preserveDrawingBuffer,\n        refreshExpiredTiles: this.refreshExpiredTiles,\n        maxBounds: this.maxBounds,\n        scrollZoom: this.scrollZoom,\n        boxZoom: this.boxZoom,\n        dragRotate: this.dragRotate,\n        dragPan: this.dragPan,\n        keyboard: this.keyboard,\n        doubleClickZoom: this.doubleClickZoom,\n        touchPitch: this.touchPitch,\n        touchZoomRotate: this.touchZoomRotate,\n        trackResize: this.trackResize,\n        center: this.center,\n        zoom: this.zoom,\n        bearing: this.bearing,\n        pitch: this.pitch,\n        renderWorldCopies: this.renderWorldCopies,\n        maxTileCacheSize: this.maxTileCacheSize,\n        localIdeographFontFamily: this.localIdeographFontFamily,\n        transformRequest: this.transformRequest,\n        bounds: this.bounds ? this.bounds : this.fitBounds,\n        fitBoundsOptions: this.fitBoundsOptions,\n        antialias: this.antialias,\n        locale: this.locale,\n        projection: this.projection\n      },\n      mapEvents: this\n    });\n    if (this.cursorStyle) {\n      this.mapService.changeCanvasCursor(this.cursorStyle);\n    }\n  }\n  ngOnDestroy() {\n    this.mapService.destroyMap();\n  }\n  ngOnChanges(changes) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      yield lastValueFrom(_this6.mapService.mapCreated$);\n      if (changes['cursorStyle'] && !changes['cursorStyle'].isFirstChange()) {\n        _this6.mapService.changeCanvasCursor(changes['cursorStyle'].currentValue);\n      }\n      if (changes['projection'] && !changes['projection'].isFirstChange()) {\n        _this6.mapService.updateProjection(changes['projection'].currentValue);\n      }\n      if (changes['minZoom'] && !changes['minZoom'].isFirstChange()) {\n        _this6.mapService.updateMinZoom(changes['minZoom'].currentValue);\n      }\n      if (changes['maxZoom'] && !changes['maxZoom'].isFirstChange()) {\n        _this6.mapService.updateMaxZoom(changes['maxZoom'].currentValue);\n      }\n      if (changes['minPitch'] && !changes['minPitch'].isFirstChange()) {\n        _this6.mapService.updateMinPitch(changes['minPitch'].currentValue);\n      }\n      if (changes['maxPitch'] && !changes['maxPitch'].isFirstChange()) {\n        _this6.mapService.updateMaxPitch(changes['maxPitch'].currentValue);\n      }\n      if (changes['renderWorldCopies'] && !changes['renderWorldCopies'].isFirstChange()) {\n        _this6.mapService.updateRenderWorldCopies(changes['renderWorldCopies'].currentValue);\n      }\n      if (changes['scrollZoom'] && !changes['scrollZoom'].isFirstChange()) {\n        _this6.mapService.updateScrollZoom(changes['scrollZoom'].currentValue);\n      }\n      if (changes['dragRotate'] && !changes['dragRotate'].isFirstChange()) {\n        _this6.mapService.updateDragRotate(changes['dragRotate'].currentValue);\n      }\n      if (changes['touchPitch'] && !changes['touchPitch'].isFirstChange()) {\n        _this6.mapService.updateTouchPitch(changes['touchPitch'].currentValue);\n      }\n      if (changes['touchZoomRotate'] && !changes['touchZoomRotate'].isFirstChange()) {\n        _this6.mapService.updateTouchZoomRotate(changes['touchZoomRotate'].currentValue);\n      }\n      if (changes['doubleClickZoom'] && !changes['doubleClickZoom'].isFirstChange()) {\n        _this6.mapService.updateDoubleClickZoom(changes['doubleClickZoom'].currentValue);\n      }\n      if (changes['keyboard'] && !changes['keyboard'].isFirstChange()) {\n        _this6.mapService.updateKeyboard(changes['keyboard'].currentValue);\n      }\n      if (changes['dragPan'] && !changes['dragPan'].isFirstChange()) {\n        _this6.mapService.updateDragPan(changes['dragPan'].currentValue);\n      }\n      if (changes['boxZoom'] && !changes['boxZoom'].isFirstChange()) {\n        _this6.mapService.updateBoxZoom(changes['boxZoom'].currentValue);\n      }\n      if (changes['style'] && !changes['style'].isFirstChange()) {\n        _this6.mapService.updateStyle(changes['style'].currentValue);\n      }\n      if (changes['maxBounds'] && !changes['maxBounds'].isFirstChange()) {\n        _this6.mapService.updateMaxBounds(changes['maxBounds'].currentValue);\n      }\n      if (changes['fitBounds'] && changes['fitBounds'].currentValue && !changes['fitBounds'].isFirstChange()) {\n        _this6.mapService.fitBounds(changes['fitBounds'].currentValue, _this6.fitBoundsOptions);\n      }\n      if (changes['fitScreenCoordinates'] && changes['fitScreenCoordinates'].currentValue) {\n        if ((_this6.center || _this6.zoom || _this6.pitch || _this6.fitBounds) && changes['fitScreenCoordinates'].isFirstChange()) {\n          console.warn('[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input');\n        }\n        _this6.mapService.fitScreenCoordinates(changes['fitScreenCoordinates'].currentValue, _this6.bearing ? _this6.bearing[0] : 0, _this6.movingOptions);\n      }\n      if (_this6.centerWithPanTo && changes['center'] && !changes['center'].isFirstChange() && !changes['zoom'] && !changes['bearing'] && !changes['pitch']) {\n        _this6.mapService.panTo(_this6.center, _this6.panToOptions);\n      } else if (changes['center'] && !changes['center'].isFirstChange() || changes['zoom'] && !changes['zoom'].isFirstChange() || changes['bearing'] && !changes['bearing'].isFirstChange() && !changes['fitScreenCoordinates'] || changes['pitch'] && !changes['pitch'].isFirstChange()) {\n        _this6.mapService.move(_this6.movingMethod, _this6.movingOptions, changes['zoom'] && _this6.zoom ? _this6.zoom[0] : undefined, changes['center'] ? _this6.center : undefined, changes['bearing'] && _this6.bearing ? _this6.bearing[0] : undefined, changes['pitch'] && _this6.pitch ? _this6.pitch[0] : undefined);\n      }\n    })();\n  }\n  warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, MapComponent.name);\n    if (this.resize.observed) {\n      dw('resize', 'mapResize');\n    }\n    if (this.remove.observed) {\n      dw('remove', 'mapRemove');\n    }\n    if (this.mouseDown.observed) {\n      dw('mouseDown', 'mapMouseDown');\n    }\n    if (this.mouseUp.observed) {\n      dw('mouseUp', 'mapMouseUp');\n    }\n    if (this.mouseMove.observed) {\n      dw('mouseMove', 'mapMouseMove');\n    }\n    if (this.click.observed) {\n      dw('click', 'mapClick');\n    }\n    if (this.dblClick.observed) {\n      dw('dblClick', 'mapDblClick');\n    }\n    if (this.mouseOver.observed) {\n      dw('mouseOver', 'mapMouseOver');\n    }\n    if (this.mouseOut.observed) {\n      dw('mouseOut', 'mapMouseOut');\n    }\n    if (this.contextMenu.observed) {\n      dw('contextMenu', 'mapContextMenu');\n    }\n    if (this.touchStart.observed) {\n      dw('touchStart', 'mapTouchStart');\n    }\n    if (this.touchEnd.observed) {\n      dw('touchEnd', 'mapTouchEnd');\n    }\n    if (this.touchMove.observed) {\n      dw('touchMove', 'mapTouchMove');\n    }\n    if (this.touchCancel.observed) {\n      dw('touchCancel', 'mapTouchCancel');\n    }\n    if (this.wheel.observed) {\n      dw('wheel', 'mapWheel');\n    }\n    if (this.dragStart.observed) {\n      dw('dragStart', 'mapDragStart');\n    }\n    if (this.drag.observed) {\n      dw('drag', 'mapDrag');\n    }\n    if (this.dragEnd.observed) {\n      dw('dragEnd', 'mapDragEnd');\n    }\n    if (this.load.observed) {\n      dw('load', 'mapLoad');\n    }\n    if (this.error.observed) {\n      dw('error', 'mapError');\n    }\n  }\n}\nMapComponent.ɵfac = function MapComponent_Factory(t) {\n  return new (t || MapComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nMapComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MapComponent,\n  selectors: [[\"mgl-map\"]],\n  viewQuery: function MapComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c2, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapContainer = _t.first);\n    }\n  },\n  inputs: {\n    accessToken: \"accessToken\",\n    collectResourceTiming: \"collectResourceTiming\",\n    crossSourceCollisions: \"crossSourceCollisions\",\n    customMapboxApiUrl: \"customMapboxApiUrl\",\n    fadeDuration: \"fadeDuration\",\n    hash: \"hash\",\n    refreshExpiredTiles: \"refreshExpiredTiles\",\n    failIfMajorPerformanceCaveat: \"failIfMajorPerformanceCaveat\",\n    bearingSnap: \"bearingSnap\",\n    interactive: \"interactive\",\n    pitchWithRotate: \"pitchWithRotate\",\n    clickTolerance: \"clickTolerance\",\n    attributionControl: \"attributionControl\",\n    logoPosition: \"logoPosition\",\n    maxTileCacheSize: \"maxTileCacheSize\",\n    localIdeographFontFamily: \"localIdeographFontFamily\",\n    preserveDrawingBuffer: \"preserveDrawingBuffer\",\n    trackResize: \"trackResize\",\n    transformRequest: \"transformRequest\",\n    bounds: \"bounds\",\n    antialias: \"antialias\",\n    locale: \"locale\",\n    minZoom: \"minZoom\",\n    maxZoom: \"maxZoom\",\n    minPitch: \"minPitch\",\n    maxPitch: \"maxPitch\",\n    scrollZoom: \"scrollZoom\",\n    dragRotate: \"dragRotate\",\n    touchPitch: \"touchPitch\",\n    touchZoomRotate: \"touchZoomRotate\",\n    doubleClickZoom: \"doubleClickZoom\",\n    keyboard: \"keyboard\",\n    dragPan: \"dragPan\",\n    boxZoom: \"boxZoom\",\n    style: \"style\",\n    center: \"center\",\n    maxBounds: \"maxBounds\",\n    zoom: \"zoom\",\n    bearing: \"bearing\",\n    pitch: \"pitch\",\n    fitBoundsOptions: \"fitBoundsOptions\",\n    renderWorldCopies: \"renderWorldCopies\",\n    projection: \"projection\",\n    movingMethod: \"movingMethod\",\n    movingOptions: \"movingOptions\",\n    fitBounds: \"fitBounds\",\n    fitScreenCoordinates: \"fitScreenCoordinates\",\n    centerWithPanTo: \"centerWithPanTo\",\n    panToOptions: \"panToOptions\",\n    cursorStyle: \"cursorStyle\"\n  },\n  outputs: {\n    mapResize: \"mapResize\",\n    mapRemove: \"mapRemove\",\n    mapMouseDown: \"mapMouseDown\",\n    mapMouseUp: \"mapMouseUp\",\n    mapMouseMove: \"mapMouseMove\",\n    mapClick: \"mapClick\",\n    mapDblClick: \"mapDblClick\",\n    mapMouseOver: \"mapMouseOver\",\n    mapMouseOut: \"mapMouseOut\",\n    mapContextMenu: \"mapContextMenu\",\n    mapTouchStart: \"mapTouchStart\",\n    mapTouchEnd: \"mapTouchEnd\",\n    mapTouchMove: \"mapTouchMove\",\n    mapTouchCancel: \"mapTouchCancel\",\n    mapWheel: \"mapWheel\",\n    moveStart: \"moveStart\",\n    move: \"move\",\n    moveEnd: \"moveEnd\",\n    mapDragStart: \"mapDragStart\",\n    mapDrag: \"mapDrag\",\n    mapDragEnd: \"mapDragEnd\",\n    zoomStart: \"zoomStart\",\n    zoomEvt: \"zoomEvt\",\n    zoomEnd: \"zoomEnd\",\n    rotateStart: \"rotateStart\",\n    rotate: \"rotate\",\n    rotateEnd: \"rotateEnd\",\n    pitchStart: \"pitchStart\",\n    pitchEvt: \"pitchEvt\",\n    pitchEnd: \"pitchEnd\",\n    boxZoomStart: \"boxZoomStart\",\n    boxZoomEnd: \"boxZoomEnd\",\n    boxZoomCancel: \"boxZoomCancel\",\n    webGlContextLost: \"webGlContextLost\",\n    webGlContextRestored: \"webGlContextRestored\",\n    mapLoad: \"mapLoad\",\n    idle: \"idle\",\n    render: \"render\",\n    mapError: \"mapError\",\n    data: \"data\",\n    styleData: \"styleData\",\n    sourceData: \"sourceData\",\n    dataLoading: \"dataLoading\",\n    styleDataLoading: \"styleDataLoading\",\n    sourceDataLoading: \"sourceDataLoading\",\n    styleImageMissing: \"styleImageMissing\",\n    resize: \"resize\",\n    remove: \"remove\",\n    mouseDown: \"mouseDown\",\n    mouseUp: \"mouseUp\",\n    mouseMove: \"mouseMove\",\n    click: \"click\",\n    dblClick: \"dblClick\",\n    mouseOver: \"mouseOver\",\n    mouseOut: \"mouseOut\",\n    contextMenu: \"contextMenu\",\n    touchStart: \"touchStart\",\n    touchEnd: \"touchEnd\",\n    touchMove: \"touchMove\",\n    touchCancel: \"touchCancel\",\n    wheel: \"wheel\",\n    dragStart: \"dragStart\",\n    drag: \"drag\",\n    dragEnd: \"dragEnd\",\n    load: \"load\",\n    error: \"error\"\n  },\n  features: [i0.ɵɵProvidersFeature([MapService]), i0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 0,\n  consts: [[\"container\", \"\"]],\n  template: function MapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", null, 0);\n    }\n  },\n  styles: [\"[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}\"],\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-map',\n      template: '<div #container></div>',\n      providers: [MapService],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      styles: [\":host{display:block}div{height:100%;width:100%}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    accessToken: [{\n      type: Input\n    }],\n    collectResourceTiming: [{\n      type: Input\n    }],\n    crossSourceCollisions: [{\n      type: Input\n    }],\n    customMapboxApiUrl: [{\n      type: Input\n    }],\n    fadeDuration: [{\n      type: Input\n    }],\n    hash: [{\n      type: Input\n    }],\n    refreshExpiredTiles: [{\n      type: Input\n    }],\n    failIfMajorPerformanceCaveat: [{\n      type: Input\n    }],\n    bearingSnap: [{\n      type: Input\n    }],\n    interactive: [{\n      type: Input\n    }],\n    pitchWithRotate: [{\n      type: Input\n    }],\n    clickTolerance: [{\n      type: Input\n    }],\n    attributionControl: [{\n      type: Input\n    }],\n    logoPosition: [{\n      type: Input\n    }],\n    maxTileCacheSize: [{\n      type: Input\n    }],\n    localIdeographFontFamily: [{\n      type: Input\n    }],\n    preserveDrawingBuffer: [{\n      type: Input\n    }],\n    trackResize: [{\n      type: Input\n    }],\n    transformRequest: [{\n      type: Input\n    }],\n    bounds: [{\n      type: Input\n    }],\n    antialias: [{\n      type: Input\n    }],\n    locale: [{\n      type: Input\n    }],\n    minZoom: [{\n      type: Input\n    }],\n    maxZoom: [{\n      type: Input\n    }],\n    minPitch: [{\n      type: Input\n    }],\n    maxPitch: [{\n      type: Input\n    }],\n    scrollZoom: [{\n      type: Input\n    }],\n    dragRotate: [{\n      type: Input\n    }],\n    touchPitch: [{\n      type: Input\n    }],\n    touchZoomRotate: [{\n      type: Input\n    }],\n    doubleClickZoom: [{\n      type: Input\n    }],\n    keyboard: [{\n      type: Input\n    }],\n    dragPan: [{\n      type: Input\n    }],\n    boxZoom: [{\n      type: Input\n    }],\n    style: [{\n      type: Input\n    }],\n    center: [{\n      type: Input\n    }],\n    maxBounds: [{\n      type: Input\n    }],\n    zoom: [{\n      type: Input\n    }],\n    bearing: [{\n      type: Input\n    }],\n    pitch: [{\n      type: Input\n    }],\n    fitBoundsOptions: [{\n      type: Input\n    }],\n    renderWorldCopies: [{\n      type: Input\n    }],\n    projection: [{\n      type: Input\n    }],\n    movingMethod: [{\n      type: Input\n    }],\n    movingOptions: [{\n      type: Input\n    }],\n    fitBounds: [{\n      type: Input\n    }],\n    fitScreenCoordinates: [{\n      type: Input\n    }],\n    centerWithPanTo: [{\n      type: Input\n    }],\n    panToOptions: [{\n      type: Input\n    }],\n    cursorStyle: [{\n      type: Input\n    }],\n    mapResize: [{\n      type: Output\n    }],\n    mapRemove: [{\n      type: Output\n    }],\n    mapMouseDown: [{\n      type: Output\n    }],\n    mapMouseUp: [{\n      type: Output\n    }],\n    mapMouseMove: [{\n      type: Output\n    }],\n    mapClick: [{\n      type: Output\n    }],\n    mapDblClick: [{\n      type: Output\n    }],\n    mapMouseOver: [{\n      type: Output\n    }],\n    mapMouseOut: [{\n      type: Output\n    }],\n    mapContextMenu: [{\n      type: Output\n    }],\n    mapTouchStart: [{\n      type: Output\n    }],\n    mapTouchEnd: [{\n      type: Output\n    }],\n    mapTouchMove: [{\n      type: Output\n    }],\n    mapTouchCancel: [{\n      type: Output\n    }],\n    mapWheel: [{\n      type: Output\n    }],\n    moveStart: [{\n      type: Output\n    }],\n    move: [{\n      type: Output\n    }],\n    moveEnd: [{\n      type: Output\n    }],\n    mapDragStart: [{\n      type: Output\n    }],\n    mapDrag: [{\n      type: Output\n    }],\n    mapDragEnd: [{\n      type: Output\n    }],\n    zoomStart: [{\n      type: Output\n    }],\n    zoomEvt: [{\n      type: Output\n    }],\n    zoomEnd: [{\n      type: Output\n    }],\n    rotateStart: [{\n      type: Output\n    }],\n    rotate: [{\n      type: Output\n    }],\n    rotateEnd: [{\n      type: Output\n    }],\n    pitchStart: [{\n      type: Output\n    }],\n    pitchEvt: [{\n      type: Output\n    }],\n    pitchEnd: [{\n      type: Output\n    }],\n    boxZoomStart: [{\n      type: Output\n    }],\n    boxZoomEnd: [{\n      type: Output\n    }],\n    boxZoomCancel: [{\n      type: Output\n    }],\n    webGlContextLost: [{\n      type: Output\n    }],\n    webGlContextRestored: [{\n      type: Output\n    }],\n    mapLoad: [{\n      type: Output\n    }],\n    idle: [{\n      type: Output\n    }],\n    render: [{\n      type: Output\n    }],\n    mapError: [{\n      type: Output\n    }],\n    data: [{\n      type: Output\n    }],\n    styleData: [{\n      type: Output\n    }],\n    sourceData: [{\n      type: Output\n    }],\n    dataLoading: [{\n      type: Output\n    }],\n    styleDataLoading: [{\n      type: Output\n    }],\n    sourceDataLoading: [{\n      type: Output\n    }],\n    styleImageMissing: [{\n      type: Output\n    }],\n    resize: [{\n      type: Output\n    }],\n    remove: [{\n      type: Output\n    }],\n    mouseDown: [{\n      type: Output\n    }],\n    mouseUp: [{\n      type: Output\n    }],\n    mouseMove: [{\n      type: Output\n    }],\n    click: [{\n      type: Output\n    }],\n    dblClick: [{\n      type: Output\n    }],\n    mouseOver: [{\n      type: Output\n    }],\n    mouseOut: [{\n      type: Output\n    }],\n    contextMenu: [{\n      type: Output\n    }],\n    touchStart: [{\n      type: Output\n    }],\n    touchEnd: [{\n      type: Output\n    }],\n    touchMove: [{\n      type: Output\n    }],\n    touchCancel: [{\n      type: Output\n    }],\n    wheel: [{\n      type: Output\n    }],\n    dragStart: [{\n      type: Output\n    }],\n    drag: [{\n      type: Output\n    }],\n    dragEnd: [{\n      type: Output\n    }],\n    load: [{\n      type: Output\n    }],\n    error: [{\n      type: Output\n    }],\n    mapContainer: [{\n      type: ViewChild,\n      args: ['container', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass MarkerComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.markerDragStart = new EventEmitter();\n    this.markerDragEnd = new EventEmitter();\n    this.markerDrag = new EventEmitter();\n    /**\n     * @deprecated Use markerDragStart instead\n     */\n    this.dragStart = new EventEmitter();\n    /**\n     * @deprecated Use markerDragEnd instead\n     */\n    this.dragEnd = new EventEmitter();\n    /**\n     * @deprecated Use markerDrag instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.drag = new EventEmitter();\n  }\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    if (this.feature && this.lngLat) {\n      throw new Error('feature and lngLat input are mutually exclusive');\n    }\n  }\n  ngOnChanges(changes) {\n    if (changes['lngLat'] && !changes['lngLat'].isFirstChange()) {\n      this.markerInstance.setLngLat(this.lngLat);\n    }\n    if (changes['feature'] && !changes['feature'].isFirstChange()) {\n      this.markerInstance.setLngLat(this.feature.geometry.coordinates);\n    }\n    if (changes['draggable'] && !changes['draggable'].isFirstChange()) {\n      this.markerInstance.setDraggable(!!this.draggable);\n    }\n    if (changes['popupShown'] && !changes['popupShown'].isFirstChange()) {\n      changes['popupShown'].currentValue ? this.markerInstance.getPopup().addTo(this.mapService.mapInstance) : this.markerInstance.getPopup().remove();\n    }\n    if (changes['pitchAlignment'] && !changes['pitchAlignment'].isFirstChange()) {\n      this.markerInstance.setPitchAlignment(changes['pitchAlignment'].currentValue);\n    }\n    if (changes['rotationAlignment'] && !changes['rotationAlignment'].isFirstChange()) {\n      this.markerInstance.setRotationAlignment(changes['rotationAlignment'].currentValue);\n    }\n  }\n  ngAfterViewInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      this.markerInstance = this.mapService.addMarker({\n        markersOptions: {\n          offset: this.offset,\n          anchor: this.anchor,\n          pitchAlignment: this.pitchAlignment,\n          rotationAlignment: this.rotationAlignment,\n          draggable: !!this.draggable,\n          element: this.content.nativeElement,\n          feature: this.feature,\n          lngLat: this.lngLat,\n          clickTolerance: this.clickTolerance\n        },\n        markersEvents: {\n          markerDragStart: this.markerDragStart,\n          markerDrag: this.markerDrag,\n          markerDragEnd: this.markerDragEnd,\n          dragStart: this.markerDragStart,\n          drag: this.markerDrag,\n          dragEnd: this.markerDragEnd\n        }\n      });\n    });\n  }\n  ngOnDestroy() {\n    this.mapService.removeMarker(this.markerInstance);\n    this.markerInstance = undefined;\n  }\n  togglePopup() {\n    this.markerInstance.togglePopup();\n  }\n  updateCoordinates(coordinates) {\n    this.markerInstance.setLngLat(coordinates);\n  }\n  warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, MarkerComponent.name);\n    if (this.markerDragStart.observed) {\n      dw('dragStart', 'markerDragStart');\n    }\n    if (this.markerDragEnd.observed) {\n      dw('dragEnd', 'markerDragEnd');\n    }\n    if (this.markerDrag.observed) {\n      dw('drag', 'markerDrag');\n    }\n  }\n}\nMarkerComponent.ɵfac = function MarkerComponent_Factory(t) {\n  return new (t || MarkerComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nMarkerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MarkerComponent,\n  selectors: [[\"mgl-marker\"]],\n  viewQuery: function MarkerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  inputs: {\n    offset: \"offset\",\n    anchor: \"anchor\",\n    clickTolerance: \"clickTolerance\",\n    feature: \"feature\",\n    lngLat: \"lngLat\",\n    draggable: \"draggable\",\n    popupShown: \"popupShown\",\n    className: \"className\",\n    pitchAlignment: \"pitchAlignment\",\n    rotationAlignment: \"rotationAlignment\"\n  },\n  outputs: {\n    markerDragStart: \"markerDragStart\",\n    markerDragEnd: \"markerDragEnd\",\n    markerDrag: \"markerDrag\",\n    dragStart: \"dragStart\",\n    dragEnd: \"dragEnd\",\n    drag: \"drag\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 3,\n  vars: 2,\n  consts: [[\"content\", \"\"]],\n  template: function MarkerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", null, 0);\n      i0.ɵɵprojection(2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵclassMap(ctx.className);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarkerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-marker',\n      template: '<div [class]=\"className\" #content><ng-content></ng-content></div>',\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    offset: [{\n      type: Input\n    }],\n    anchor: [{\n      type: Input\n    }],\n    clickTolerance: [{\n      type: Input\n    }],\n    feature: [{\n      type: Input\n    }],\n    lngLat: [{\n      type: Input\n    }],\n    draggable: [{\n      type: Input\n    }],\n    popupShown: [{\n      type: Input\n    }],\n    className: [{\n      type: Input\n    }],\n    pitchAlignment: [{\n      type: Input\n    }],\n    rotationAlignment: [{\n      type: Input\n    }],\n    markerDragStart: [{\n      type: Output\n    }],\n    markerDragEnd: [{\n      type: Output\n    }],\n    markerDrag: [{\n      type: Output\n    }],\n    dragStart: [{\n      type: Output\n    }],\n    dragEnd: [{\n      type: Output\n    }],\n    drag: [{\n      type: Output\n    }],\n    content: [{\n      type: ViewChild,\n      args: ['content', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass PointDirective {}\nPointDirective.ɵfac = function PointDirective_Factory(t) {\n  return new (t || PointDirective)();\n};\nPointDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: PointDirective,\n  selectors: [[\"ng-template\", \"mglPoint\", \"\"]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PointDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'ng-template[mglPoint]'\n    }]\n  }], null, null);\n})();\nclass ClusterPointDirective {}\nClusterPointDirective.ɵfac = function ClusterPointDirective_Factory(t) {\n  return new (t || ClusterPointDirective)();\n};\nClusterPointDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: ClusterPointDirective,\n  selectors: [[\"ng-template\", \"mglClusterPoint\", \"\"]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ClusterPointDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'ng-template[mglClusterPoint]'\n    }]\n  }], null, null);\n})();\nlet uniqId = 0;\nclass MarkersForClustersComponent {\n  constructor(mapService, ChangeDetectorRef, zone) {\n    this.mapService = mapService;\n    this.ChangeDetectorRef = ChangeDetectorRef;\n    this.zone = zone;\n    this.layerId = `mgl-markers-for-clusters-${uniqId++}`;\n    this.sub = new Subscription();\n  }\n  ngAfterContentInit() {\n    const clusterDataUpdate = () => fromEvent(this.mapService.mapInstance, 'data').pipe(filter(e => e.sourceId === this.source && e.sourceDataType !== 'metadata' && this.mapService.mapInstance.isSourceLoaded(this.source)));\n    const sub = this.mapService.mapCreated$.pipe(switchMap(clusterDataUpdate), switchMap(() => merge(fromEvent(this.mapService.mapInstance, 'move'), fromEvent(this.mapService.mapInstance, 'moveend')).pipe(startWith(undefined)))).subscribe(() => {\n      this.zone.run(() => {\n        this.updateCluster();\n      });\n    });\n    this.sub.add(sub);\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n  trackByClusterPoint(_index, clusterPoint) {\n    return clusterPoint.id;\n  }\n  updateCluster() {\n    // Invalid queryRenderedFeatures typing\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const params = {\n      layers: [this.layerId]\n    };\n    if (!this.pointTpl) {\n      params.filter = ['==', 'cluster', true];\n    }\n    this.clusterPoints = this.mapService.mapInstance.queryRenderedFeatures(params);\n    this.ChangeDetectorRef.markForCheck();\n  }\n}\nMarkersForClustersComponent.ɵfac = function MarkersForClustersComponent_Factory(t) {\n  return new (t || MarkersForClustersComponent)(i0.ɵɵdirectiveInject(MapService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.NgZone));\n};\nMarkersForClustersComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MarkersForClustersComponent,\n  selectors: [[\"mgl-markers-for-clusters\"]],\n  contentQueries: function MarkersForClustersComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, PointDirective, 5, TemplateRef);\n      i0.ɵɵcontentQuery(dirIndex, ClusterPointDirective, 5, TemplateRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pointTpl = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.clusterPointTpl = _t.first);\n    }\n  },\n  inputs: {\n    source: \"source\"\n  },\n  decls: 2,\n  vars: 6,\n  consts: [[\"type\", \"circle\", 3, \"id\", \"source\", \"paint\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [4, \"ngIf\"], [3, \"feature\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]],\n  template: function MarkersForClustersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"mgl-layer\", 0);\n      i0.ɵɵtemplate(1, MarkersForClustersComponent_ng_container_1_Template, 3, 2, \"ng-container\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"id\", ctx.layerId)(\"source\", ctx.source)(\"paint\", i0.ɵɵpureFunction0(5, _c4));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.clusterPoints)(\"ngForTrackBy\", ctx.trackByClusterPoint);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.NgTemplateOutlet, LayerComponent, MarkerComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MarkersForClustersComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-markers-for-clusters',\n      template: `\n    <mgl-layer\n      [id]=\"layerId\"\n      [source]=\"source\"\n      type=\"circle\"\n      [paint]=\"{ 'circle-radius': 0 }\"\n    ></mgl-layer>\n    <ng-container\n      *ngFor=\"let feature of clusterPoints; trackBy: trackByClusterPoint\"\n    >\n      <ng-container *ngIf=\"feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"clusterPointTpl; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n      <ng-container *ngIf=\"!feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"pointTpl!; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n    </ng-container>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      preserveWhitespaces: false\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    source: [{\n      type: Input\n    }],\n    pointTpl: [{\n      type: ContentChild,\n      args: [PointDirective, {\n        read: TemplateRef,\n        static: false\n      }]\n    }],\n    clusterPointTpl: [{\n      type: ContentChild,\n      args: [ClusterPointDirective, {\n        read: TemplateRef,\n        static: false\n      }]\n    }]\n  });\n})();\nclass PopupComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.popupClose = new EventEmitter();\n    this.popupOpen = new EventEmitter();\n    /**\n     * @deprecated Use popupClose instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.close = new EventEmitter();\n    /**\n     * @deprecated Use popupOpen instead\n     */\n    // eslint-disable-next-line @angular-eslint/no-output-native\n    this.open = new EventEmitter();\n  }\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    if (this.lngLat && this.marker || this.feature && this.lngLat || this.feature && this.marker) {\n      throw new Error('marker, lngLat, feature input are mutually exclusive');\n    }\n  }\n  ngOnChanges(changes) {\n    if (changes['lngLat'] && !changes['lngLat'].isFirstChange() || changes['feature'] && !changes['feature'].isFirstChange()) {\n      const newlngLat = changes['lngLat'] ? this.lngLat : this.feature.geometry.coordinates;\n      this.mapService.removePopupFromMap(this.popupInstance, true);\n      const popupInstanceTmp = this.createPopup();\n      this.mapService.addPopupToMap(popupInstanceTmp, newlngLat, this.popupInstance.isOpen());\n      this.popupInstance = popupInstanceTmp;\n    }\n    if (changes['marker'] && !changes['marker'].isFirstChange()) {\n      const previousMarker = changes['marker'].previousValue;\n      if (previousMarker.markerInstance) {\n        this.mapService.removePopupFromMarker(previousMarker.markerInstance);\n      }\n      if (this.marker && this.marker.markerInstance && this.popupInstance) {\n        this.mapService.addPopupToMarker(this.marker.markerInstance, this.popupInstance);\n      }\n    }\n    if (changes['offset'] && !changes['offset'].isFirstChange() && this.popupInstance) {\n      this.popupInstance.setOffset(this.offset);\n    }\n  }\n  ngAfterViewInit() {\n    this.popupInstance = this.createPopup();\n    this.addPopup(this.popupInstance);\n  }\n  ngOnDestroy() {\n    if (this.popupInstance) {\n      if (this.lngLat || this.feature) {\n        this.mapService.removePopupFromMap(this.popupInstance);\n      } else if (this.marker && this.marker.markerInstance) {\n        this.mapService.removePopupFromMarker(this.marker.markerInstance);\n      }\n    }\n    this.popupInstance = undefined;\n  }\n  createPopup() {\n    return this.mapService.createPopup({\n      popupOptions: {\n        closeButton: this.closeButton,\n        closeOnClick: this.closeOnClick,\n        closeOnMove: this.closeOnMove,\n        focusAfterOpen: this.focusAfterOpen,\n        anchor: this.anchor,\n        offset: this.offset,\n        className: this.className,\n        maxWidth: this.maxWidth\n      },\n      popupEvents: {\n        open: this.open,\n        close: this.close,\n        popupOpen: this.popupOpen,\n        popupClose: this.popupClose\n      }\n    }, this.content.nativeElement);\n  }\n  addPopup(popup) {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.lngLat || this.feature) {\n        this.mapService.addPopupToMap(popup, this.lngLat ? this.lngLat : this.feature.geometry.coordinates);\n      } else if (this.marker && this.marker.markerInstance) {\n        this.mapService.addPopupToMarker(this.marker.markerInstance, popup);\n      } else {\n        throw new Error('mgl-popup need either lngLat/marker/feature to be set');\n      }\n    });\n  }\n  warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, PopupComponent.name);\n    if (this.close.observed) {\n      dw('close', 'popupClose');\n    }\n    if (this.open.observed) {\n      dw('open', 'popupOpen');\n    }\n  }\n}\nPopupComponent.ɵfac = function PopupComponent_Factory(t) {\n  return new (t || PopupComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nPopupComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PopupComponent,\n  selectors: [[\"mgl-popup\"]],\n  viewQuery: function PopupComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  inputs: {\n    closeButton: \"closeButton\",\n    closeOnClick: \"closeOnClick\",\n    closeOnMove: \"closeOnMove\",\n    focusAfterOpen: \"focusAfterOpen\",\n    anchor: \"anchor\",\n    className: \"className\",\n    maxWidth: \"maxWidth\",\n    feature: \"feature\",\n    lngLat: \"lngLat\",\n    marker: \"marker\",\n    offset: \"offset\"\n  },\n  outputs: {\n    popupClose: \"popupClose\",\n    popupOpen: \"popupOpen\",\n    close: \"close\",\n    open: \"open\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 3,\n  vars: 0,\n  consts: [[\"content\", \"\"]],\n  template: function PopupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", null, 0);\n      i0.ɵɵprojection(2);\n      i0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-popup',\n      template: '<div #content><ng-content></ng-content></div>',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    closeButton: [{\n      type: Input\n    }],\n    closeOnClick: [{\n      type: Input\n    }],\n    closeOnMove: [{\n      type: Input\n    }],\n    focusAfterOpen: [{\n      type: Input\n    }],\n    anchor: [{\n      type: Input\n    }],\n    className: [{\n      type: Input\n    }],\n    maxWidth: [{\n      type: Input\n    }],\n    feature: [{\n      type: Input\n    }],\n    lngLat: [{\n      type: Input\n    }],\n    marker: [{\n      type: Input\n    }],\n    offset: [{\n      type: Input\n    }],\n    popupClose: [{\n      type: Output\n    }],\n    popupOpen: [{\n      type: Output\n    }],\n    close: [{\n      type: Output\n    }],\n    open: [{\n      type: Output\n    }],\n    content: [{\n      type: ViewChild,\n      args: ['content', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass CanvasSourceComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.sourceAdded = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata').pipe(filter(() => !this.mapService.mapInstance.getSource(this.id))).subscribe(() => {\n        this.init();\n      });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n  ngOnChanges(changes) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (changes['canvas'] && !changes['canvas'].isFirstChange() || changes['animate'] && !changes['animate'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (changes['coordinates'] && !changes['coordinates'].isFirstChange()) {\n      const source = this.mapService.getSource(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setCoordinates(this.coordinates);\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n  init() {\n    const source = {\n      type: 'canvas',\n      coordinates: this.coordinates,\n      canvas: this.canvas,\n      animate: this.animate\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\nCanvasSourceComponent.ɵfac = function CanvasSourceComponent_Factory(t) {\n  return new (t || CanvasSourceComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nCanvasSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: CanvasSourceComponent,\n  selectors: [[\"mgl-canvas-source\"]],\n  inputs: {\n    id: \"id\",\n    coordinates: \"coordinates\",\n    canvas: \"canvas\",\n    animate: \"animate\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function CanvasSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CanvasSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-canvas-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    coordinates: [{\n      type: Input\n    }],\n    canvas: [{\n      type: Input\n    }],\n    animate: [{\n      type: Input\n    }]\n  });\n})();\nclass ImageSourceComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n  }\n  ngOnInit() {\n    this.sub = this.mapService.mapLoaded$.subscribe(() => this.init());\n  }\n  ngOnChanges(changes) {\n    if (this.sourceId === undefined) {\n      return;\n    }\n    const source = this.mapService.getSource(this.sourceId);\n    if (source === undefined) {\n      return;\n    }\n    source.updateImage({\n      url: changes['url'] === undefined ? undefined : this.url,\n      coordinates: changes['coordinates'] === undefined ? undefined : this.coordinates\n    });\n  }\n  ngOnDestroy() {\n    if (this.sub !== undefined) {\n      this.sub.unsubscribe();\n    }\n    if (this.sourceId !== undefined) {\n      this.mapService.removeSource(this.sourceId);\n      this.sourceId = undefined;\n    }\n  }\n  init() {\n    const imageSource = {\n      type: 'image',\n      url: this.url,\n      coordinates: this.coordinates\n    };\n    this.mapService.addSource(this.id, imageSource);\n    this.sourceId = this.id;\n  }\n}\nImageSourceComponent.ɵfac = function ImageSourceComponent_Factory(t) {\n  return new (t || ImageSourceComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nImageSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ImageSourceComponent,\n  selectors: [[\"mgl-image-source\"]],\n  inputs: {\n    id: \"id\",\n    url: \"url\",\n    coordinates: \"coordinates\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function ImageSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImageSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-image-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    url: [{\n      type: Input\n    }],\n    coordinates: [{\n      type: Input\n    }]\n  });\n})();\nclass RasterDemSourceComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.type = 'raster-dem';\n    this.sourceAdded = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata').pipe(filter(() => !this.mapService.mapInstance.getSource(this.id))).subscribe(() => {\n        this.init();\n      });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n  ngOnChanges(changes) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (changes['url'] && !changes['url'].isFirstChange() || changes['tiles'] && !changes['tiles'].isFirstChange() || changes['bounds'] && !changes['bounds'].isFirstChange() || changes['minzoom'] && !changes['minzoom'].isFirstChange() || changes['maxzoom'] && !changes['maxzoom'].isFirstChange() || changes['tileSize'] && !changes['tileSize'].isFirstChange() || changes['attribution'] && !changes['attribution'].isFirstChange() || changes['encoding'] && !changes['encoding'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n  init() {\n    const source = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      tileSize: this.tileSize,\n      attribution: this.attribution,\n      encoding: this.encoding\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\nRasterDemSourceComponent.ɵfac = function RasterDemSourceComponent_Factory(t) {\n  return new (t || RasterDemSourceComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nRasterDemSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: RasterDemSourceComponent,\n  selectors: [[\"mgl-raster-dem-source\"]],\n  inputs: {\n    id: \"id\",\n    url: \"url\",\n    tiles: \"tiles\",\n    bounds: \"bounds\",\n    minzoom: \"minzoom\",\n    maxzoom: \"maxzoom\",\n    tileSize: \"tileSize\",\n    attribution: \"attribution\",\n    encoding: \"encoding\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function RasterDemSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RasterDemSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-raster-dem-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    url: [{\n      type: Input\n    }],\n    tiles: [{\n      type: Input\n    }],\n    bounds: [{\n      type: Input\n    }],\n    minzoom: [{\n      type: Input\n    }],\n    maxzoom: [{\n      type: Input\n    }],\n    tileSize: [{\n      type: Input\n    }],\n    attribution: [{\n      type: Input\n    }],\n    encoding: [{\n      type: Input\n    }]\n  });\n})();\nclass RasterSourceComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.type = 'raster';\n    this.sourceAdded = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata').pipe(filter(() => !this.mapService.mapInstance.getSource(this.id))).subscribe(() => {\n        this.init();\n      });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n  ngOnChanges(changes) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (changes['url'] && !changes['url'].isFirstChange() || changes['tiles'] && !changes['tiles'].isFirstChange() || changes['bounds'] && !changes['bounds'].isFirstChange() || changes['minzoom'] && !changes['minzoom'].isFirstChange() || changes['maxzoom'] && !changes['maxzoom'].isFirstChange() || changes['tileSize'] && !changes['tileSize'].isFirstChange() || changes['scheme'] && !changes['scheme'].isFirstChange() || changes['attribution'] && !changes['attribution'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n  init() {\n    const source = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      tileSize: this.tileSize,\n      scheme: this.scheme,\n      attribution: this.attribution\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\nRasterSourceComponent.ɵfac = function RasterSourceComponent_Factory(t) {\n  return new (t || RasterSourceComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nRasterSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: RasterSourceComponent,\n  selectors: [[\"mgl-raster-source\"]],\n  inputs: {\n    id: \"id\",\n    url: \"url\",\n    tiles: \"tiles\",\n    bounds: \"bounds\",\n    minzoom: \"minzoom\",\n    maxzoom: \"maxzoom\",\n    tileSize: \"tileSize\",\n    scheme: \"scheme\",\n    attribution: \"attribution\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function RasterSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RasterSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-raster-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    url: [{\n      type: Input\n    }],\n    tiles: [{\n      type: Input\n    }],\n    bounds: [{\n      type: Input\n    }],\n    minzoom: [{\n      type: Input\n    }],\n    maxzoom: [{\n      type: Input\n    }],\n    tileSize: [{\n      type: Input\n    }],\n    scheme: [{\n      type: Input\n    }],\n    attribution: [{\n      type: Input\n    }]\n  });\n})();\nclass VectorSourceComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.type = 'vector';\n    this.sourceAdded = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata').pipe(filter(() => !this.mapService.mapInstance.getSource(this.id))).subscribe(() => {\n        this.init();\n      });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n  ngOnChanges(changes) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (changes['bounds'] && !changes['bounds'].isFirstChange() || changes['scheme'] && !changes['scheme'].isFirstChange() || changes['minzoom'] && !changes['minzoom'].isFirstChange() || changes['maxzoom'] && !changes['maxzoom'].isFirstChange() || changes['attribution'] && !changes['attribution'].isFirstChange() || changes['promoteId'] && !changes['promoteId'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (changes['url'] && !changes['url'].isFirstChange() || changes['tiles'] && !changes['tiles'].isFirstChange()) {\n      const source = this.mapService.getSource(this.id);\n      if (source === undefined) {\n        return;\n      }\n      if (changes['url'] && this.url) {\n        source.setUrl(this.url);\n      }\n      if (changes['tiles'] && this.tiles) {\n        source.setTiles(this.tiles);\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n  init() {\n    const source = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      scheme: this.scheme,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      attribution: this.attribution,\n      promoteId: this.promoteId\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\nVectorSourceComponent.ɵfac = function VectorSourceComponent_Factory(t) {\n  return new (t || VectorSourceComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nVectorSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: VectorSourceComponent,\n  selectors: [[\"mgl-vector-source\"]],\n  inputs: {\n    id: \"id\",\n    url: \"url\",\n    tiles: \"tiles\",\n    bounds: \"bounds\",\n    scheme: \"scheme\",\n    minzoom: \"minzoom\",\n    maxzoom: \"maxzoom\",\n    attribution: \"attribution\",\n    promoteId: \"promoteId\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function VectorSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(VectorSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-vector-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    url: [{\n      type: Input\n    }],\n    tiles: [{\n      type: Input\n    }],\n    bounds: [{\n      type: Input\n    }],\n    scheme: [{\n      type: Input\n    }],\n    minzoom: [{\n      type: Input\n    }],\n    maxzoom: [{\n      type: Input\n    }],\n    attribution: [{\n      type: Input\n    }],\n    promoteId: [{\n      type: Input\n    }]\n  });\n})();\nclass VideoSourceComponent {\n  constructor(mapService) {\n    this.mapService = mapService;\n    this.sourceAdded = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata').pipe(filter(() => !this.mapService.mapInstance.getSource(this.id))).subscribe(() => {\n        this.init();\n      });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n  ngOnChanges(changes) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (changes['urls'] && !changes['urls'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (changes['coordinates'] && !changes['coordinates'].isFirstChange()) {\n      const source = this.mapService.getSource(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setCoordinates(this.coordinates);\n    }\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n  init() {\n    const source = {\n      type: 'video',\n      urls: this.urls,\n      coordinates: this.coordinates\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\nVideoSourceComponent.ɵfac = function VideoSourceComponent_Factory(t) {\n  return new (t || VideoSourceComponent)(i0.ɵɵdirectiveInject(MapService));\n};\nVideoSourceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: VideoSourceComponent,\n  selectors: [[\"mgl-video-source\"]],\n  inputs: {\n    id: \"id\",\n    urls: \"urls\",\n    coordinates: \"coordinates\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function VideoSourceComponent_Template(rf, ctx) {},\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(VideoSourceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'mgl-video-source',\n      template: '',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: MapService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    urls: [{\n      type: Input\n    }],\n    coordinates: [{\n      type: Input\n    }]\n  });\n})();\nclass NgxMapboxGLModule {\n  static withConfig(config) {\n    return {\n      ngModule: NgxMapboxGLModule,\n      providers: [{\n        provide: MAPBOX_API_KEY,\n        useValue: config.accessToken\n      }]\n    };\n  }\n}\nNgxMapboxGLModule.ɵfac = function NgxMapboxGLModule_Factory(t) {\n  return new (t || NgxMapboxGLModule)();\n};\nNgxMapboxGLModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NgxMapboxGLModule,\n  declarations: [MapComponent, LayerComponent, DraggableDirective, ImageComponent, VectorSourceComponent, GeoJSONSourceComponent, RasterDemSourceComponent, RasterSourceComponent, ImageSourceComponent, VideoSourceComponent, CanvasSourceComponent, FeatureComponent, MarkerComponent, PopupComponent, ControlComponent, FullscreenControlDirective, NavigationControlDirective, GeolocateControlDirective, AttributionControlDirective, ScaleControlDirective, PointDirective, ClusterPointDirective, MarkersForClustersComponent],\n  imports: [CommonModule],\n  exports: [MapComponent, LayerComponent, DraggableDirective, ImageComponent, VectorSourceComponent, GeoJSONSourceComponent, RasterDemSourceComponent, RasterSourceComponent, ImageSourceComponent, VideoSourceComponent, CanvasSourceComponent, FeatureComponent, MarkerComponent, PopupComponent, ControlComponent, FullscreenControlDirective, NavigationControlDirective, GeolocateControlDirective, AttributionControlDirective, ScaleControlDirective, PointDirective, ClusterPointDirective, MarkersForClustersComponent]\n});\nNgxMapboxGLModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [CommonModule]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxMapboxGLModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [MapComponent, LayerComponent, DraggableDirective, ImageComponent, VectorSourceComponent, GeoJSONSourceComponent, RasterDemSourceComponent, RasterSourceComponent, ImageSourceComponent, VideoSourceComponent, CanvasSourceComponent, FeatureComponent, MarkerComponent, PopupComponent, ControlComponent, FullscreenControlDirective, NavigationControlDirective, GeolocateControlDirective, AttributionControlDirective, ScaleControlDirective, PointDirective, ClusterPointDirective, MarkersForClustersComponent],\n      exports: [MapComponent, LayerComponent, DraggableDirective, ImageComponent, VectorSourceComponent, GeoJSONSourceComponent, RasterDemSourceComponent, RasterSourceComponent, ImageSourceComponent, VideoSourceComponent, CanvasSourceComponent, FeatureComponent, MarkerComponent, PopupComponent, ControlComponent, FullscreenControlDirective, NavigationControlDirective, GeolocateControlDirective, AttributionControlDirective, ScaleControlDirective, PointDirective, ClusterPointDirective, MarkersForClustersComponent]\n    }]\n  }], null, null);\n})();\n\n/*\n * Public API Surface of ngx-mapbox-gl\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AttributionControlDirective, CanvasSourceComponent, ClusterPointDirective, ControlComponent, CustomControl, DraggableDirective, FeatureComponent, FullscreenControlDirective, GeoJSONSourceComponent, GeolocateControlDirective, ImageComponent, ImageSourceComponent, LayerComponent, MAPBOX_API_KEY, MapComponent, MapService, MarkerComponent, MarkersForClustersComponent, NavigationControlDirective, NgxMapboxGLModule, PointDirective, PopupComponent, RasterDemSourceComponent, RasterSourceComponent, ScaleControlDirective, VectorSourceComponent, VideoSourceComponent, deprecationWarning };","map":{"version":3,"names":["i0","InjectionToken","NgZone","Injectable","Optional","Inject","Component","ChangeDetectionStrategy","Input","ViewChild","Directive","Host","HostListener","EventEmitter","Output","forwardRef","ViewEncapsulation","TemplateRef","ContentChild","NgModule","MapboxGl","AttributionControl","FullscreenControl","GeolocateControl","NavigationControl","ScaleControl","AsyncSubject","Subscription","fromEvent","Subject","lastValueFrom","merge","first","switchMap","mapTo","filter","startWith","debounceTime","tap","takeUntil","take","i2","CommonModule","MAPBOX_API_KEY","MapService","constructor","zone","mapCreated","mapLoaded","markersToRemove","popupsToRemove","imageIdsToRemove","subscription","mapCreated$","asObservable","mapLoaded$","setup","options","onStable","pipe","subscribe","customMapboxApiUrl","assign","createMap","mapOptions","accessToken","hookEvents","mapEvents","next","undefined","complete","destroyMap","mapInstance","unsubscribe","remove","updateProjection","projection","runOutsideAngular","setProjection","updateMinZoom","minZoom","setMinZoom","updateMaxZoom","maxZoom","setMaxZoom","updateMinPitch","minPitch","setMinPitch","updateMaxPitch","maxPitch","setMaxPitch","updateRenderWorldCopies","status","setRenderWorldCopies","updateScrollZoom","scrollZoom","enable","disable","updateDragRotate","dragRotate","updateTouchPitch","touchPitch","updateTouchZoomRotate","touchZoomRotate","updateDoubleClickZoom","doubleClickZoom","updateKeyboard","keyboard","updateDragPan","dragPan","updateBoxZoom","boxZoom","updateStyle","style","setStyle","updateMaxBounds","maxBounds","setMaxBounds","changeCanvasCursor","cursor","canvas","getCanvasContainer","queryRenderedFeatures","pointOrBox","parameters","panTo","center","move","movingMethod","movingOptions","zoom","bearing","pitch","getZoom","getCenter","getBearing","getPitch","addLayer","layer","bindEvents","before","Object","keys","layerOptions","forEach","key","tkey","layerEvents","layerClick","observed","click","on","id","evt","run","emit","layerDblClick","dblClick","layerMouseDown","mouseDown","layerMouseUp","mouseUp","layerMouseEnter","mouseEnter","layerMouseLeave","mouseLeave","layerMouseMove","mouseMove","layerMouseOver","mouseOver","layerMouseOut","mouseOut","layerContextMenu","contextMenu","layerTouchStart","touchStart","layerTouchEnd","touchEnd","layerTouchCancel","touchCancel","removeLayer","layerId","getLayer","addMarker","marker","offset","markersOptions","anchor","draggable","rotationAlignment","pitchAlignment","clickTolerance","element","childNodes","length","markerInstance","Marker","markersEvents","markerDragStart","dragStart","event","target","markerDrag","drag","markerDragEnd","dragEnd","lngLat","feature","geometry","coordinates","setLngLat","addTo","removeMarker","push","createPopup","popup","popupOptions","popupInstance","Popup","setDOMContent","popupEvents","popupClose","close","popupOpen","open","addPopupToMap","skipOpenEvent","_listeners","addPopupToMarker","setPopup","removePopupFromMap","skipCloseEvent","removePopupFromMarker","addControl","control","position","removeControl","loadAndAddImage","imageId","url","Promise","resolve","reject","loadImage","error","image","addImage","data","removeImage","addSource","sourceId","source","getSource","removeSource","findLayersBySourceId","setAllLayerPaintProperty","paint","setPaintProperty","setAllLayerLayoutProperty","layout","setLayoutProperty","setLayerFilter","setFilter","setLayerBefore","beforeId","moveLayer","setLayerZoomRange","fitBounds","bounds","fitScreenCoordinates","points","applyChanges","removeMarkers","removePopups","removeImages","optionsWithAccessToken","assertNotInAngularZone","Map","isIEorEdge","window","test","navigator","userAgent","add","onMicrotaskEmpty","layers","getStyle","l","events","mapLoad","load","mapResize","resize","mapRemove","mapMouseDown","mapMouseUp","mapMouseMove","mapClick","mapDblClick","mapMouseOver","mapMouseOut","mapContextMenu","mapTouchStart","mapTouchEnd","mapTouchMove","touchMove","mapTouchCancel","mapWheel","wheel","moveStart","moveEnd","mapDragStart","mapDrag","mapDragEnd","zoomStart","zoomEvt","zoomEnd","rotateStart","rotate","rotateEnd","pitchStart","pitchEvt","pitchEnd","boxZoomStart","boxZoomEnd","boxZoomCancel","webGlContextLost","webGlContextRestored","render","mapError","styleData","sourceData","dataLoading","styleDataLoading","sourceDataLoading","styleImageMissing","idle","obj","prop","value","split","e","shift","prototype","toString","call","ɵfac","ɵprov","type","decorators","args","CustomControl","container","onAdd","onRemove","parentNode","removeChild","getDefaultPosition","ControlComponent","mapService","controlAdded","ngAfterContentInit","content","nativeElement","ngOnDestroy","ɵcmp","selector","template","changeDetection","OnPush","static","AttributionControlDirective","controlComponent","Error","compact","customAttribution","ɵdir","FullscreenControlDirective","onFullscreen","GeolocateControlDirective","geolocate","positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation","showUserHeading","NavigationControlDirective","showCompass","showZoom","ScaleControlDirective","ngOnChanges","changes","isFirstChange","setUnit","currentValue","maxWidth","unit","deprecationWarning","context","oldApi","newApi","console","warn","LayerComponent","layerAdded","ngOnInit","warnDeprecatedOutputs","sub","init","minzoom","maxzoom","metadata","sourceLayer","dw","bind","name","GeoJSONSourceComponent","updateFeatureData","sourceAdded","featureIdCounter","features","sub1","setData","getClusterExpansionZoom","clusterId","getClusterChildren","getClusterLeaves","limit","_addFeature","collection","_removeFeature","index","indexOf","splice","_getNewFeatureId","attribution","buffer","tolerance","cluster","clusterRadius","clusterMaxZoom","clusterMinPoints","clusterProperties","lineMetrics","generateId","promoteId","FeatureComponent","properties","updateCoordinates","DraggableDirective","ngZone","featureComponent","featureDragStart","featureDragEnd","featureDrag","enter$","leave$","updateCoords","handleDraggable","moving","inside","mouseUp$","dragStart$","filterFeature","dragging$","dragEnd$","lng","lat","point","ImageComponent","imageError","imageLoaded","loaded","isAdded","isAdding","hasImage","MapComponent","ngAfterViewInit","collectResourceTiming","mapContainer","crossSourceCollisions","fadeDuration","hash","interactive","bearingSnap","pitchWithRotate","attributionControl","logoPosition","failIfMajorPerformanceCaveat","preserveDrawingBuffer","refreshExpiredTiles","trackResize","renderWorldCopies","maxTileCacheSize","localIdeographFontFamily","transformRequest","antialias","locale","cursorStyle","centerWithPanTo","panToOptions","providers","styles","MarkerComponent","setDraggable","getPopup","setPitchAlignment","setRotationAlignment","togglePopup","encapsulation","None","popupShown","className","PointDirective","ClusterPointDirective","uniqId","MarkersForClustersComponent","ChangeDetectorRef","clusterDataUpdate","sourceDataType","isSourceLoaded","updateCluster","trackByClusterPoint","_index","clusterPoint","params","pointTpl","clusterPoints","markForCheck","NgForOf","NgIf","NgTemplateOutlet","preserveWhitespaces","read","clusterPointTpl","PopupComponent","newlngLat","popupInstanceTmp","isOpen","previousMarker","previousValue","setOffset","addPopup","closeButton","closeOnClick","closeOnMove","focusAfterOpen","CanvasSourceComponent","setCoordinates","animate","ImageSourceComponent","updateImage","imageSource","RasterDemSourceComponent","tiles","tileSize","encoding","RasterSourceComponent","scheme","VectorSourceComponent","setUrl","setTiles","VideoSourceComponent","urls","NgxMapboxGLModule","withConfig","config","ngModule","provide","useValue","ɵmod","ɵinj","imports","declarations","exports"],"sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/node_modules/ngx-mapbox-gl/fesm2020/ngx-mapbox-gl.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, NgZone, Injectable, Optional, Inject, Component, ChangeDetectionStrategy, Input, ViewChild, Directive, Host, HostListener, EventEmitter, Output, forwardRef, ViewEncapsulation, TemplateRef, ContentChild, NgModule } from '@angular/core';\nimport * as MapboxGl from 'mapbox-gl';\nimport { AttributionControl, FullscreenControl, GeolocateControl, NavigationControl, ScaleControl } from 'mapbox-gl';\nimport { AsyncSubject, Subscription, fromEvent, Subject, lastValueFrom, merge } from 'rxjs';\nimport { first, switchMap, mapTo, filter, startWith, debounceTime, tap, takeUntil, take } from 'rxjs/operators';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nconst MAPBOX_API_KEY = new InjectionToken('MapboxApiKey');\nclass MapService {\n    constructor(zone, MAPBOX_API_KEY) {\n        this.zone = zone;\n        this.MAPBOX_API_KEY = MAPBOX_API_KEY;\n        this.mapCreated = new AsyncSubject();\n        this.mapLoaded = new AsyncSubject();\n        this.markersToRemove = [];\n        this.popupsToRemove = [];\n        this.imageIdsToRemove = [];\n        this.subscription = new Subscription();\n        this.mapCreated$ = this.mapCreated.asObservable();\n        this.mapLoaded$ = this.mapLoaded.asObservable();\n    }\n    setup(options) {\n        // Need onStable to wait for a potential @angular/route transition to end\n        this.zone.onStable.pipe(first()).subscribe(() => {\n            // Workaround rollup issue\n            // this.assign(\n            //   MapboxGl,\n            //   'accessToken',\n            //   options.accessToken || this.MAPBOX_API_KEY\n            // );\n            if (options.customMapboxApiUrl) {\n                this.assign(MapboxGl, 'config.API_URL', options.customMapboxApiUrl);\n            }\n            this.createMap({\n                ...options.mapOptions,\n                accessToken: options.accessToken || this.MAPBOX_API_KEY || '',\n            });\n            this.hookEvents(options.mapEvents);\n            this.mapEvents = options.mapEvents;\n            this.mapCreated.next(undefined);\n            this.mapCreated.complete();\n        });\n    }\n    destroyMap() {\n        if (this.mapInstance) {\n            this.subscription.unsubscribe();\n            this.mapInstance.remove();\n        }\n    }\n    updateProjection(projection) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setProjection(projection);\n        });\n    }\n    updateMinZoom(minZoom) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setMinZoom(minZoom);\n        });\n    }\n    updateMaxZoom(maxZoom) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setMaxZoom(maxZoom);\n        });\n    }\n    updateMinPitch(minPitch) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setMinPitch(minPitch);\n        });\n    }\n    updateMaxPitch(maxPitch) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setMaxPitch(maxPitch);\n        });\n    }\n    updateRenderWorldCopies(status) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setRenderWorldCopies(status);\n        });\n    }\n    updateScrollZoom(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.scrollZoom.enable()\n                : this.mapInstance.scrollZoom.disable();\n        });\n    }\n    updateDragRotate(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.dragRotate.enable()\n                : this.mapInstance.dragRotate.disable();\n        });\n    }\n    updateTouchPitch(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.touchPitch.enable()\n                : this.mapInstance.touchPitch.disable();\n        });\n    }\n    updateTouchZoomRotate(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.touchZoomRotate.enable()\n                : this.mapInstance.touchZoomRotate.disable();\n        });\n    }\n    updateDoubleClickZoom(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.doubleClickZoom.enable()\n                : this.mapInstance.doubleClickZoom.disable();\n        });\n    }\n    updateKeyboard(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.keyboard.enable()\n                : this.mapInstance.keyboard.disable();\n        });\n    }\n    updateDragPan(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.dragPan.enable()\n                : this.mapInstance.dragPan.disable();\n        });\n    }\n    updateBoxZoom(status) {\n        return this.zone.runOutsideAngular(() => {\n            status\n                ? this.mapInstance.boxZoom.enable()\n                : this.mapInstance.boxZoom.disable();\n        });\n    }\n    updateStyle(style) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setStyle(style);\n        });\n    }\n    updateMaxBounds(maxBounds) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setMaxBounds(maxBounds);\n        });\n    }\n    changeCanvasCursor(cursor) {\n        const canvas = this.mapInstance.getCanvasContainer();\n        canvas.style.cursor = cursor;\n    }\n    queryRenderedFeatures(pointOrBox, parameters) {\n        return this.mapInstance.queryRenderedFeatures(pointOrBox, parameters);\n    }\n    panTo(center, options) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.panTo(center, options);\n        });\n    }\n    move(movingMethod, movingOptions, zoom, center, bearing, pitch) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance[movingMethod]({\n                ...movingOptions,\n                zoom: zoom != null ? zoom : this.mapInstance.getZoom(),\n                center: center != null ? center : this.mapInstance.getCenter(),\n                bearing: bearing != null ? bearing : this.mapInstance.getBearing(),\n                pitch: pitch != null ? pitch : this.mapInstance.getPitch(),\n            });\n        });\n    }\n    addLayer(layer, bindEvents, before) {\n        this.zone.runOutsideAngular(() => {\n            Object.keys(layer.layerOptions).forEach((key) => {\n                const tkey = key;\n                if (layer.layerOptions[tkey] === undefined) {\n                    delete layer.layerOptions[tkey];\n                }\n            });\n            this.mapInstance.addLayer(layer.layerOptions, before);\n            if (bindEvents) {\n                if (layer.layerEvents.layerClick.observed ||\n                    layer.layerEvents.click.observed) {\n                    this.mapInstance.on('click', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerClick.emit(evt);\n                            layer.layerEvents.click.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerDblClick.observed ||\n                    layer.layerEvents.dblClick.observed) {\n                    this.mapInstance.on('dblclick', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerDblClick.emit(evt);\n                            layer.layerEvents.dblClick.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseDown.observed ||\n                    layer.layerEvents.mouseDown.observed) {\n                    this.mapInstance.on('mousedown', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseDown.emit(evt);\n                            layer.layerEvents.mouseDown.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseUp.observed ||\n                    layer.layerEvents.mouseUp.observed) {\n                    this.mapInstance.on('mouseup', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseUp.emit(evt);\n                            layer.layerEvents.mouseUp.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseEnter.observed ||\n                    layer.layerEvents.mouseEnter.observed) {\n                    this.mapInstance.on('mouseenter', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseEnter.emit(evt);\n                            layer.layerEvents.mouseEnter.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseLeave.observed ||\n                    layer.layerEvents.mouseLeave.observed) {\n                    this.mapInstance.on('mouseleave', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseLeave.emit(evt);\n                            layer.layerEvents.mouseLeave.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseMove.observed ||\n                    layer.layerEvents.mouseMove.observed) {\n                    this.mapInstance.on('mousemove', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseMove.emit(evt);\n                            layer.layerEvents.mouseMove.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseOver.observed ||\n                    layer.layerEvents.mouseOver.observed) {\n                    this.mapInstance.on('mouseover', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseOver.emit(evt);\n                            layer.layerEvents.mouseOver.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerMouseOut.observed ||\n                    layer.layerEvents.mouseOut.observed) {\n                    this.mapInstance.on('mouseout', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerMouseOut.emit(evt);\n                            layer.layerEvents.mouseOut.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerContextMenu.observed ||\n                    layer.layerEvents.contextMenu.observed) {\n                    this.mapInstance.on('contextmenu', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerContextMenu.emit(evt);\n                            layer.layerEvents.contextMenu.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerTouchStart.observed ||\n                    layer.layerEvents.touchStart.observed) {\n                    this.mapInstance.on('touchstart', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerTouchStart.emit(evt);\n                            layer.layerEvents.touchStart.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerTouchEnd.observed ||\n                    layer.layerEvents.touchEnd.observed) {\n                    this.mapInstance.on('touchend', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerTouchEnd.emit(evt);\n                            layer.layerEvents.touchEnd.emit(evt);\n                        });\n                    });\n                }\n                if (layer.layerEvents.layerTouchCancel.observed ||\n                    layer.layerEvents.touchCancel.observed) {\n                    this.mapInstance.on('touchcancel', layer.layerOptions.id, (evt) => {\n                        this.zone.run(() => {\n                            layer.layerEvents.layerTouchCancel.emit(evt);\n                            layer.layerEvents.touchCancel.emit(evt);\n                        });\n                    });\n                }\n            }\n        });\n    }\n    removeLayer(layerId) {\n        this.zone.runOutsideAngular(() => {\n            if (this.mapInstance.getLayer(layerId) != null) {\n                this.mapInstance.removeLayer(layerId);\n            }\n        });\n    }\n    addMarker(marker) {\n        const options = {\n            offset: marker.markersOptions.offset,\n            anchor: marker.markersOptions.anchor,\n            draggable: !!marker.markersOptions.draggable,\n            rotationAlignment: marker.markersOptions.rotationAlignment,\n            pitchAlignment: marker.markersOptions.pitchAlignment,\n            clickTolerance: marker.markersOptions.clickTolerance,\n        };\n        if (marker.markersOptions.element.childNodes.length > 0) {\n            options.element = marker.markersOptions.element;\n        }\n        const markerInstance = new MapboxGl.Marker(options);\n        if (marker.markersEvents.markerDragStart.observed ||\n            marker.markersEvents.dragStart.observed) {\n            markerInstance.on('dragstart', (event) => {\n                if (event) {\n                    const { target } = event;\n                    this.zone.run(() => {\n                        marker.markersEvents.markerDragStart.emit(target);\n                        marker.markersEvents.dragStart.emit(target);\n                    });\n                }\n            });\n        }\n        /*\n    \n         */\n        if (marker.markersEvents.markerDrag.observed ||\n            marker.markersEvents.drag.observed) {\n            markerInstance.on('drag', (event) => {\n                if (event) {\n                    const { target } = event;\n                    this.zone.run(() => {\n                        marker.markersEvents.markerDrag.emit(target);\n                        marker.markersEvents.drag.emit(target);\n                    });\n                }\n            });\n        }\n        if (marker.markersEvents.markerDragEnd.observed ||\n            marker.markersEvents.dragEnd.observed) {\n            markerInstance.on('dragend', (event) => {\n                if (event) {\n                    const { target } = event;\n                    this.zone.run(() => {\n                        marker.markersEvents.markerDragEnd.emit(target);\n                        marker.markersEvents.dragEnd.emit(target);\n                    });\n                }\n            });\n        }\n        const lngLat = marker.markersOptions.feature\n            ? marker.markersOptions.feature.geometry.coordinates\n            : marker.markersOptions.lngLat;\n        markerInstance.setLngLat(lngLat);\n        return this.zone.runOutsideAngular(() => {\n            markerInstance.addTo(this.mapInstance);\n            return markerInstance;\n        });\n    }\n    removeMarker(marker) {\n        this.markersToRemove.push(marker);\n    }\n    createPopup(popup, element) {\n        return this.zone.runOutsideAngular(() => {\n            Object.keys(popup.popupOptions).forEach((key) => popup.popupOptions[key] === undefined &&\n                delete popup.popupOptions[key]);\n            const popupInstance = new MapboxGl.Popup(popup.popupOptions);\n            popupInstance.setDOMContent(element);\n            if (popup.popupEvents.popupClose.observed ||\n                popup.popupEvents.close.observed) {\n                popupInstance.on('close', () => {\n                    this.zone.run(() => {\n                        popup.popupEvents.popupClose.emit();\n                        popup.popupEvents.close.emit();\n                    });\n                });\n            }\n            if (popup.popupEvents.popupOpen.observed ||\n                popup.popupEvents.open.observed) {\n                popupInstance.on('open', () => {\n                    this.zone.run(() => {\n                        popup.popupEvents.popupOpen.emit();\n                        popup.popupEvents.open.emit();\n                    });\n                });\n            }\n            return popupInstance;\n        });\n    }\n    addPopupToMap(popup, lngLat, skipOpenEvent = false) {\n        return this.zone.runOutsideAngular(() => {\n            if (skipOpenEvent && popup._listeners) {\n                delete popup._listeners['open'];\n            }\n            popup.setLngLat(lngLat);\n            popup.addTo(this.mapInstance);\n        });\n    }\n    addPopupToMarker(marker, popup) {\n        return this.zone.runOutsideAngular(() => {\n            marker.setPopup(popup);\n        });\n    }\n    removePopupFromMap(popup, skipCloseEvent = false) {\n        if (skipCloseEvent && popup._listeners) {\n            delete popup._listeners['close'];\n        }\n        this.popupsToRemove.push(popup);\n    }\n    removePopupFromMarker(marker) {\n        return this.zone.runOutsideAngular(() => {\n            marker.setPopup(undefined);\n        });\n    }\n    addControl(control, position) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.addControl(control, position);\n        });\n    }\n    removeControl(control) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.removeControl(control);\n        });\n    }\n    async loadAndAddImage(imageId, url, options) {\n        return this.zone.runOutsideAngular(() => new Promise((resolve, reject) => {\n            this.mapInstance.loadImage(url, (error, image) => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                this.addImage(imageId, image, options);\n                resolve();\n            });\n        }));\n    }\n    addImage(imageId, data, options) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.addImage(imageId, data, options);\n        });\n    }\n    removeImage(imageId) {\n        this.imageIdsToRemove.push(imageId);\n    }\n    addSource(sourceId, source) {\n        return this.zone.runOutsideAngular(() => {\n            Object.keys(source).forEach((key) => source[key] === undefined && delete source[key]);\n            this.mapInstance.addSource(sourceId, source);\n        });\n    }\n    getSource(sourceId) {\n        return this.mapInstance.getSource(sourceId);\n    }\n    removeSource(sourceId) {\n        this.zone.runOutsideAngular(() => {\n            this.findLayersBySourceId(sourceId).forEach((layer) => this.mapInstance.removeLayer(layer.id));\n            this.mapInstance.removeSource(sourceId);\n        });\n    }\n    setAllLayerPaintProperty(layerId, paint) {\n        return this.zone.runOutsideAngular(() => {\n            Object.keys(paint).forEach((key) => {\n                // TODO Check for perf, setPaintProperty only on changed paint props maybe\n                this.mapInstance.setPaintProperty(layerId, key, paint[key]);\n            });\n        });\n    }\n    setAllLayerLayoutProperty(layerId, layout) {\n        return this.zone.runOutsideAngular(() => {\n            Object.keys(layout).forEach((key) => {\n                // TODO Check for perf, setPaintProperty only on changed paint props maybe\n                this.mapInstance.setLayoutProperty(layerId, key, layout[key]);\n            });\n        });\n    }\n    setLayerFilter(layerId, filter) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setFilter(layerId, filter);\n        });\n    }\n    setLayerBefore(layerId, beforeId) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.moveLayer(layerId, beforeId);\n        });\n    }\n    setLayerZoomRange(layerId, minZoom, maxZoom) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.setLayerZoomRange(layerId, minZoom ? minZoom : 0, maxZoom ? maxZoom : 20);\n        });\n    }\n    fitBounds(bounds, options) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.fitBounds(bounds, options);\n        });\n    }\n    fitScreenCoordinates(points, bearing, options) {\n        return this.zone.runOutsideAngular(() => {\n            this.mapInstance.fitScreenCoordinates(points[0], points[1], bearing, options);\n        });\n    }\n    applyChanges() {\n        this.zone.runOutsideAngular(() => {\n            this.removeMarkers();\n            this.removePopups();\n            this.removeImages();\n        });\n    }\n    createMap(optionsWithAccessToken) {\n        NgZone.assertNotInAngularZone();\n        Object.keys(optionsWithAccessToken).forEach((key) => {\n            const tkey = key;\n            if (optionsWithAccessToken[tkey] === undefined) {\n                delete optionsWithAccessToken[tkey];\n            }\n        });\n        this.mapInstance = new MapboxGl.Map(optionsWithAccessToken);\n        const isIEorEdge = window && /msie\\s|trident\\/|edge\\//i.test(window.navigator.userAgent);\n        if (isIEorEdge) {\n            this.mapInstance.setStyle(optionsWithAccessToken.style);\n        }\n        this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(() => this.applyChanges()));\n    }\n    removeMarkers() {\n        for (const marker of this.markersToRemove) {\n            marker.remove();\n        }\n        this.markersToRemove = [];\n    }\n    removePopups() {\n        for (const popup of this.popupsToRemove) {\n            popup.remove();\n        }\n        this.popupsToRemove = [];\n    }\n    removeImages() {\n        for (const imageId of this.imageIdsToRemove) {\n            this.mapInstance.removeImage(imageId);\n        }\n        this.imageIdsToRemove = [];\n    }\n    findLayersBySourceId(sourceId) {\n        const layers = this.mapInstance.getStyle().layers;\n        if (layers == null) {\n            return [];\n        }\n        return layers.filter((l) => 'source' in l ? l.source === sourceId : false);\n    }\n    hookEvents(events) {\n        this.mapInstance.on('load', (evt) => {\n            this.mapLoaded.next(undefined);\n            this.mapLoaded.complete();\n            this.zone.run(() => {\n                events.mapLoad.emit(evt.target);\n                events.load.emit(evt.target);\n            });\n        });\n        if (events.mapResize.observed || events.resize.observed) {\n            this.mapInstance.on('resize', (evt) => this.zone.run(() => {\n                events.mapResize.emit(evt);\n                events.resize.emit(evt);\n            }));\n        }\n        if (events.mapRemove.observed || events.remove.observed) {\n            this.mapInstance.on('remove', (evt) => this.zone.run(() => {\n                events.mapRemove.emit(evt);\n                events.remove.emit(evt);\n            }));\n        }\n        if (events.mapMouseDown.observed || events.mouseDown.observed) {\n            this.mapInstance.on('mousedown', (evt) => this.zone.run(() => {\n                events.mapMouseDown.emit(evt);\n                events.mouseDown.emit(evt);\n            }));\n        }\n        if (events.mapMouseUp.observed || events.mouseUp.observed) {\n            this.mapInstance.on('mouseup', (evt) => this.zone.run(() => {\n                events.mapMouseUp.emit(evt);\n                events.mouseUp.emit(evt);\n            }));\n        }\n        if (events.mapMouseMove.observed || events.mouseMove.observed) {\n            this.mapInstance.on('mousemove', (evt) => this.zone.run(() => {\n                events.mapMouseMove.emit(evt);\n                events.mouseMove.emit(evt);\n            }));\n        }\n        if (events.mapClick.observed || events.click.observed) {\n            this.mapInstance.on('click', (evt) => this.zone.run(() => {\n                events.mapClick.emit(evt);\n                events.click.emit(evt);\n            }));\n        }\n        if (events.mapDblClick.observed || events.dblClick.observed) {\n            this.mapInstance.on('dblclick', (evt) => this.zone.run(() => {\n                events.mapDblClick.emit(evt);\n                events.dblClick.emit(evt);\n            }));\n        }\n        if (events.mapMouseOver.observed || events.mouseOver.observed) {\n            this.mapInstance.on('mouseover', (evt) => this.zone.run(() => {\n                events.mapMouseOver.emit(evt);\n                events.mouseOver.emit(evt);\n            }));\n        }\n        if (events.mapMouseOut.observed || events.mouseOut.observed) {\n            this.mapInstance.on('mouseout', (evt) => this.zone.run(() => {\n                events.mapMouseOut.emit(evt);\n                events.mouseOut.emit(evt);\n            }));\n        }\n        if (events.mapContextMenu.observed || events.contextMenu.observed) {\n            this.mapInstance.on('contextmenu', (evt) => this.zone.run(() => {\n                events.mapContextMenu.emit(evt);\n                events.contextMenu.emit(evt);\n            }));\n        }\n        if (events.mapTouchStart.observed || events.touchStart.observed) {\n            this.mapInstance.on('touchstart', (evt) => this.zone.run(() => {\n                events.mapTouchStart.emit(evt);\n                events.touchStart.emit(evt);\n            }));\n        }\n        if (events.mapTouchEnd.observed || events.touchEnd.observed) {\n            this.mapInstance.on('touchend', (evt) => this.zone.run(() => {\n                events.mapTouchEnd.emit(evt);\n                events.touchEnd.emit(evt);\n            }));\n        }\n        if (events.mapTouchMove.observed || events.touchMove.observed) {\n            this.mapInstance.on('touchmove', (evt) => this.zone.run(() => {\n                events.mapTouchMove.emit(evt);\n                events.touchMove.emit(evt);\n            }));\n        }\n        if (events.mapTouchCancel.observed || events.touchCancel.observed) {\n            this.mapInstance.on('touchcancel', (evt) => this.zone.run(() => {\n                events.mapTouchCancel.emit(evt);\n                events.touchCancel.emit(evt);\n            }));\n        }\n        if (events.mapWheel.observed || events.wheel.observed) {\n            this.mapInstance.on('wheel', (evt) => this.zone.run(() => {\n                events.mapWheel.emit(evt);\n                events.wheel.emit(evt);\n            }));\n        }\n        if (events.moveStart.observed) {\n            this.mapInstance.on('movestart', (evt) => this.zone.run(() => events.moveStart.emit(evt)));\n        }\n        if (events.move.observed) {\n            this.mapInstance.on('move', (evt) => this.zone.run(() => events.move.emit(evt)));\n        }\n        if (events.moveEnd.observed) {\n            this.mapInstance.on('moveend', (evt) => this.zone.run(() => events.moveEnd.emit(evt)));\n        }\n        if (events.mapDragStart.observed || events.dragStart.observed) {\n            this.mapInstance.on('dragstart', (evt) => this.zone.run(() => {\n                events.mapDragStart.emit(evt);\n                events.dragStart.emit(evt);\n            }));\n        }\n        if (events.mapDrag.observed || events.drag.observed) {\n            this.mapInstance.on('drag', (evt) => this.zone.run(() => {\n                events.mapDrag.emit(evt);\n                events.drag.emit(evt);\n            }));\n        }\n        if (events.mapDragEnd.observed || events.dragEnd.observed) {\n            this.mapInstance.on('dragend', (evt) => this.zone.run(() => {\n                events.mapDragEnd.emit(evt);\n                events.dragEnd.emit(evt);\n            }));\n        }\n        if (events.zoomStart.observed) {\n            this.mapInstance.on('zoomstart', (evt) => this.zone.run(() => events.zoomStart.emit(evt)));\n        }\n        if (events.zoomEvt.observed) {\n            this.mapInstance.on('zoom', (evt) => this.zone.run(() => events.zoomEvt.emit(evt)));\n        }\n        if (events.zoomEnd.observed) {\n            this.mapInstance.on('zoomend', (evt) => this.zone.run(() => events.zoomEnd.emit(evt)));\n        }\n        if (events.rotateStart.observed) {\n            this.mapInstance.on('rotatestart', (evt) => this.zone.run(() => events.rotateStart.emit(evt)));\n        }\n        if (events.rotate.observed) {\n            this.mapInstance.on('rotate', (evt) => this.zone.run(() => events.rotate.emit(evt)));\n        }\n        if (events.rotateEnd.observed) {\n            this.mapInstance.on('rotateend', (evt) => this.zone.run(() => events.rotateEnd.emit(evt)));\n        }\n        if (events.pitchStart.observed) {\n            this.mapInstance.on('pitchstart', (evt) => this.zone.run(() => events.pitchStart.emit(evt)));\n        }\n        if (events.pitchEvt.observed) {\n            this.mapInstance.on('pitch', (evt) => this.zone.run(() => events.pitchEvt.emit(evt)));\n        }\n        if (events.pitchEnd.observed) {\n            this.mapInstance.on('pitchend', (evt) => this.zone.run(() => events.pitchEnd.emit(evt)));\n        }\n        if (events.boxZoomStart.observed) {\n            this.mapInstance.on('boxzoomstart', (evt) => this.zone.run(() => events.boxZoomStart.emit(evt)));\n        }\n        if (events.boxZoomEnd.observed) {\n            this.mapInstance.on('boxzoomend', (evt) => this.zone.run(() => events.boxZoomEnd.emit(evt)));\n        }\n        if (events.boxZoomCancel.observed) {\n            this.mapInstance.on('boxzoomcancel', (evt) => this.zone.run(() => events.boxZoomCancel.emit(evt)));\n        }\n        if (events.webGlContextLost.observed) {\n            this.mapInstance.on('webglcontextlost', (evt) => this.zone.run(() => events.webGlContextLost.emit(evt)));\n        }\n        if (events.webGlContextRestored.observed) {\n            this.mapInstance.on('webglcontextrestored', (evt) => this.zone.run(() => events.webGlContextRestored.emit(evt)));\n        }\n        if (events.render.observed) {\n            this.mapInstance.on('render', (evt) => this.zone.run(() => events.render.emit(evt)));\n        }\n        if (events.mapError.observed || events.error.observed) {\n            this.mapInstance.on('error', (evt) => this.zone.run(() => {\n                events.mapError.emit(evt);\n                events.error.emit(evt);\n            }));\n        }\n        if (events.data.observed) {\n            this.mapInstance.on('data', (evt) => this.zone.run(() => events.data.emit(evt)));\n        }\n        if (events.styleData.observed) {\n            this.mapInstance.on('styledata', (evt) => this.zone.run(() => events.styleData.emit(evt)));\n        }\n        if (events.sourceData.observed) {\n            this.mapInstance.on('sourcedata', (evt) => this.zone.run(() => events.sourceData.emit(evt)));\n        }\n        if (events.dataLoading.observed) {\n            this.mapInstance.on('dataloading', (evt) => this.zone.run(() => events.dataLoading.emit(evt)));\n        }\n        if (events.styleDataLoading.observed) {\n            this.mapInstance.on('styledataloading', (evt) => this.zone.run(() => events.styleDataLoading.emit(evt)));\n        }\n        if (events.sourceDataLoading.observed) {\n            this.mapInstance.on('sourcedataloading', (evt) => this.zone.run(() => events.sourceDataLoading.emit(evt)));\n        }\n        if (events.styleImageMissing.observed) {\n            this.mapInstance.on('styleimagemissing', (evt) => this.zone.run(() => events.styleImageMissing.emit(evt)));\n        }\n        if (events.idle.observed) {\n            this.mapInstance.on('idle', (evt) => this.zone.run(() => events.idle.emit(evt)));\n        }\n    }\n    // TODO move this elsewhere\n    assign(obj, prop, value) {\n        if (typeof prop === 'string') {\n            // eslint-disable-next-line no-param-reassign\n            prop = prop.split('.');\n        }\n        if (prop.length > 1) {\n            const e = prop.shift();\n            this.assign((obj[e] =\n                Object.prototype.toString.call(obj[e]) === '[object Object]'\n                    ? obj[e]\n                    : {}), prop, value);\n        }\n        else {\n            obj[prop[0]] = value;\n        }\n    }\n}\nMapService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MapService, deps: [{ token: i0.NgZone }, { token: MAPBOX_API_KEY, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nMapService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MapService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MapService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAPBOX_API_KEY]\n                }] }]; } });\n\nclass CustomControl {\n    constructor(container) {\n        this.container = container;\n    }\n    onAdd() {\n        return this.container;\n    }\n    onRemove() {\n        return this.container.parentNode.removeChild(this.container);\n    }\n    getDefaultPosition() {\n        return 'top-right';\n    }\n}\nclass ControlComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.controlAdded = false;\n    }\n    ngAfterContentInit() {\n        if (this.content.nativeElement.childNodes.length) {\n            this.control = new CustomControl(this.content.nativeElement);\n            this.mapService.mapCreated$.subscribe(() => {\n                this.mapService.addControl(this.control, this.position);\n                this.controlAdded = true;\n            });\n        }\n    }\n    ngOnDestroy() {\n        if (this.controlAdded) {\n            this.mapService.removeControl(this.control);\n        }\n    }\n}\nControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ControlComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: ControlComponent, selector: \"mgl-control\", inputs: { position: \"position\" }, viewQueries: [{ propertyName: \"content\", first: true, predicate: [\"content\"], descendants: true, static: true }], ngImport: i0, template: '<div class=\"mapboxgl-ctrl\" #content><ng-content></ng-content></div>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ControlComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-control',\n                    template: '<div class=\"mapboxgl-ctrl\" #content><ng-content></ng-content></div>',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { position: [{\n                type: Input\n            }], content: [{\n                type: ViewChild,\n                args: ['content', { static: true }]\n            }] } });\n\nclass AttributionControlDirective {\n    constructor(mapService, controlComponent) {\n        this.mapService = mapService;\n        this.controlComponent = controlComponent;\n    }\n    ngAfterContentInit() {\n        this.mapService.mapCreated$.subscribe(() => {\n            if (this.controlComponent.control) {\n                throw new Error('Another control is already set for this control');\n            }\n            const options = {};\n            if (this.compact !== undefined) {\n                options.compact = this.compact;\n            }\n            if (this.customAttribution !== undefined) {\n                options.customAttribution = this.customAttribution;\n            }\n            this.controlComponent.control = new AttributionControl(options);\n            this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n        });\n    }\n}\nAttributionControlDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: AttributionControlDirective, deps: [{ token: MapService }, { token: ControlComponent, host: true }], target: i0.ɵɵFactoryTarget.Directive });\nAttributionControlDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: AttributionControlDirective, selector: \"[mglAttribution]\", inputs: { compact: \"compact\", customAttribution: \"customAttribution\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: AttributionControlDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mglAttribution]',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: ControlComponent, decorators: [{\n                    type: Host\n                }] }]; }, propDecorators: { compact: [{\n                type: Input\n            }], customAttribution: [{\n                type: Input\n            }] } });\n\nclass FullscreenControlDirective {\n    constructor(mapService, controlComponent) {\n        this.mapService = mapService;\n        this.controlComponent = controlComponent;\n    }\n    onFullscreen() {\n        this.mapService.mapInstance.resize();\n    }\n    ngAfterContentInit() {\n        this.mapService.mapCreated$.subscribe(() => {\n            if (this.controlComponent.control) {\n                throw new Error('Another control is already set for this control');\n            }\n            this.controlComponent.control = new FullscreenControl({\n                container: this.container,\n            });\n            this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n        });\n    }\n}\nFullscreenControlDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: FullscreenControlDirective, deps: [{ token: MapService }, { token: ControlComponent, host: true }], target: i0.ɵɵFactoryTarget.Directive });\nFullscreenControlDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: FullscreenControlDirective, selector: \"[mglFullscreen]\", inputs: { container: \"container\" }, host: { listeners: { \"window:webkitfullscreenchange\": \"onFullscreen($event.target)\" } }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: FullscreenControlDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mglFullscreen]',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: ControlComponent, decorators: [{\n                    type: Host\n                }] }]; }, propDecorators: { container: [{\n                type: Input\n            }], onFullscreen: [{\n                type: HostListener,\n                args: ['window:webkitfullscreenchange', ['$event.target']]\n            }] } });\n\nclass GeolocateControlDirective {\n    constructor(mapService, controlComponent) {\n        this.mapService = mapService;\n        this.controlComponent = controlComponent;\n        this.geolocate = new EventEmitter();\n    }\n    ngAfterContentInit() {\n        this.mapService.mapCreated$.subscribe(() => {\n            if (this.controlComponent.control) {\n                throw new Error('Another control is already set for this control');\n            }\n            const options = {\n                positionOptions: this.positionOptions,\n                fitBoundsOptions: this.fitBoundsOptions,\n                trackUserLocation: this.trackUserLocation,\n                showUserLocation: this.showUserLocation,\n                showUserHeading: this.showUserHeading,\n            };\n            Object.keys(options).forEach((key) => {\n                const tkey = key;\n                if (options[tkey] === undefined) {\n                    delete options[tkey];\n                }\n            });\n            this.controlComponent.control = new GeolocateControl(options);\n            this.controlComponent.control.on('geolocate', (data) => {\n                this.geolocate.emit(data);\n            });\n            this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n        });\n    }\n}\nGeolocateControlDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: GeolocateControlDirective, deps: [{ token: MapService }, { token: ControlComponent, host: true }], target: i0.ɵɵFactoryTarget.Directive });\nGeolocateControlDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: GeolocateControlDirective, selector: \"[mglGeolocate]\", inputs: { positionOptions: \"positionOptions\", fitBoundsOptions: \"fitBoundsOptions\", trackUserLocation: \"trackUserLocation\", showUserLocation: \"showUserLocation\", showUserHeading: \"showUserHeading\" }, outputs: { geolocate: \"geolocate\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: GeolocateControlDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mglGeolocate]',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: ControlComponent, decorators: [{\n                    type: Host\n                }] }]; }, propDecorators: { positionOptions: [{\n                type: Input\n            }], fitBoundsOptions: [{\n                type: Input\n            }], trackUserLocation: [{\n                type: Input\n            }], showUserLocation: [{\n                type: Input\n            }], showUserHeading: [{\n                type: Input\n            }], geolocate: [{\n                type: Output\n            }] } });\n\nclass NavigationControlDirective {\n    constructor(mapService, controlComponent) {\n        this.mapService = mapService;\n        this.controlComponent = controlComponent;\n    }\n    ngAfterContentInit() {\n        this.mapService.mapCreated$.subscribe(() => {\n            if (this.controlComponent.control) {\n                throw new Error('Another control is already set for this control');\n            }\n            const options = {};\n            if (this.showCompass !== undefined) {\n                options.showCompass = this.showCompass;\n            }\n            if (this.showZoom !== undefined) {\n                options.showZoom = this.showZoom;\n            }\n            this.controlComponent.control = new NavigationControl(options);\n            this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n        });\n    }\n}\nNavigationControlDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: NavigationControlDirective, deps: [{ token: MapService }, { token: ControlComponent, host: true }], target: i0.ɵɵFactoryTarget.Directive });\nNavigationControlDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: NavigationControlDirective, selector: \"[mglNavigation]\", inputs: { showCompass: \"showCompass\", showZoom: \"showZoom\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: NavigationControlDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mglNavigation]',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: ControlComponent, decorators: [{\n                    type: Host\n                }] }]; }, propDecorators: { showCompass: [{\n                type: Input\n            }], showZoom: [{\n                type: Input\n            }] } });\n\nclass ScaleControlDirective {\n    constructor(mapService, controlComponent) {\n        this.mapService = mapService;\n        this.controlComponent = controlComponent;\n    }\n    ngOnChanges(changes) {\n        if (changes['unit'] && !changes['unit'].isFirstChange()) {\n            this.controlComponent.control.setUnit(changes['unit'].currentValue);\n        }\n    }\n    ngAfterContentInit() {\n        this.mapService.mapCreated$.subscribe(() => {\n            if (this.controlComponent.control) {\n                throw new Error('Another control is already set for this control');\n            }\n            const options = {};\n            if (this.maxWidth !== undefined) {\n                options.maxWidth = this.maxWidth;\n            }\n            if (this.unit !== undefined) {\n                options.unit = this.unit;\n            }\n            this.controlComponent.control = new ScaleControl(options);\n            this.mapService.addControl(this.controlComponent.control, this.controlComponent.position);\n        });\n    }\n}\nScaleControlDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ScaleControlDirective, deps: [{ token: MapService }, { token: ControlComponent, host: true }], target: i0.ɵɵFactoryTarget.Directive });\nScaleControlDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: ScaleControlDirective, selector: \"[mglScale]\", inputs: { maxWidth: \"maxWidth\", unit: \"unit\" }, usesOnChanges: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ScaleControlDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mglScale]',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: ControlComponent, decorators: [{\n                    type: Host\n                }] }]; }, propDecorators: { maxWidth: [{\n                type: Input\n            }], unit: [{\n                type: Input\n            }] } });\n\nconst deprecationWarning = (context, oldApi, newApi) => {\n    console.warn(`[ngx-mapbox-gl]: ${context}: ${oldApi} is deprecated, please use ${newApi} instead.`);\n};\n\nclass LayerComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.layerClick = new EventEmitter();\n        this.layerDblClick = new EventEmitter();\n        this.layerMouseDown = new EventEmitter();\n        this.layerMouseUp = new EventEmitter();\n        this.layerMouseEnter = new EventEmitter();\n        this.layerMouseLeave = new EventEmitter();\n        this.layerMouseMove = new EventEmitter();\n        this.layerMouseOver = new EventEmitter();\n        this.layerMouseOut = new EventEmitter();\n        this.layerContextMenu = new EventEmitter();\n        this.layerTouchStart = new EventEmitter();\n        this.layerTouchEnd = new EventEmitter();\n        this.layerTouchCancel = new EventEmitter();\n        /**\n         * @deprecated Use layerClick instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.click = new EventEmitter();\n        /**\n         * @deprecated Use layerDblClick instead\n         */\n        this.dblClick = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseDown instead\n         */\n        this.mouseDown = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseUp instead\n         */\n        this.mouseUp = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseEnter instead\n         */\n        this.mouseEnter = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseLeave instead\n         */\n        this.mouseLeave = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseMove instead\n         */\n        this.mouseMove = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseOver instead\n         */\n        this.mouseOver = new EventEmitter();\n        /**\n         * @deprecated Use layerMouseOut instead\n         */\n        this.mouseOut = new EventEmitter();\n        /**\n         * @deprecated Use layerContextMenu instead\n         */\n        this.contextMenu = new EventEmitter();\n        /**\n         * @deprecated Use layerTouchStart instead\n         */\n        this.touchStart = new EventEmitter();\n        /**\n         * @deprecated Use layerTouchEnd instead\n         */\n        this.touchEnd = new EventEmitter();\n        /**\n         * @deprecated Use layerTouchCancel instead\n         */\n        this.touchCancel = new EventEmitter();\n        this.layerAdded = false;\n    }\n    ngOnInit() {\n        this.warnDeprecatedOutputs();\n        this.sub = this.mapService.mapLoaded$\n            .pipe(switchMap(() => fromEvent(this.mapService.mapInstance, 'styledata').pipe(mapTo(false), filter(() => !this.mapService.mapInstance.getLayer(this.id)), startWith(true))))\n            .subscribe((bindEvents) => this.init(bindEvents));\n    }\n    ngOnChanges(changes) {\n        if (!this.layerAdded) {\n            return;\n        }\n        if (changes['paint'] && !changes['paint'].isFirstChange()) {\n            this.mapService.setAllLayerPaintProperty(this.id, changes['paint'].currentValue);\n        }\n        if (changes['layout'] && !changes['layout'].isFirstChange()) {\n            this.mapService.setAllLayerLayoutProperty(this.id, changes['layout'].currentValue);\n        }\n        if (changes['filter'] && !changes['filter'].isFirstChange()) {\n            this.mapService.setLayerFilter(this.id, changes['filter'].currentValue);\n        }\n        if (changes['before'] && !changes['before'].isFirstChange()) {\n            this.mapService.setLayerBefore(this.id, changes['before'].currentValue);\n        }\n        if ((changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n            (changes['maxzoom'] && !changes['maxzoom'].isFirstChange())) {\n            this.mapService.setLayerZoomRange(this.id, this.minzoom, this.maxzoom);\n        }\n    }\n    ngOnDestroy() {\n        if (this.layerAdded) {\n            this.mapService.removeLayer(this.id);\n        }\n        if (this.sub) {\n            this.sub.unsubscribe();\n        }\n    }\n    init(bindEvents) {\n        const layer = {\n            layerOptions: {\n                id: this.id,\n                type: this.type,\n                source: this.source,\n                metadata: this.metadata,\n                'source-layer': this.sourceLayer,\n                minzoom: this.minzoom,\n                maxzoom: this.maxzoom,\n                filter: this.filter,\n                layout: this.layout,\n                paint: this.paint,\n            },\n            layerEvents: {\n                layerClick: this.layerClick,\n                layerDblClick: this.layerDblClick,\n                layerMouseDown: this.layerMouseDown,\n                layerMouseUp: this.layerMouseUp,\n                layerMouseEnter: this.layerMouseEnter,\n                layerMouseLeave: this.layerMouseLeave,\n                layerMouseMove: this.layerMouseMove,\n                layerMouseOver: this.layerMouseOver,\n                layerMouseOut: this.layerMouseOut,\n                layerContextMenu: this.layerContextMenu,\n                layerTouchStart: this.layerTouchStart,\n                layerTouchEnd: this.layerTouchEnd,\n                layerTouchCancel: this.layerTouchCancel,\n                click: this.click,\n                dblClick: this.dblClick,\n                mouseDown: this.mouseDown,\n                mouseUp: this.mouseUp,\n                mouseEnter: this.mouseEnter,\n                mouseLeave: this.mouseLeave,\n                mouseMove: this.mouseMove,\n                mouseOver: this.mouseOver,\n                mouseOut: this.mouseOut,\n                contextMenu: this.contextMenu,\n                touchStart: this.touchStart,\n                touchEnd: this.touchEnd,\n                touchCancel: this.touchCancel,\n            },\n        };\n        this.mapService.addLayer(layer, bindEvents, this.before);\n        this.layerAdded = true;\n    }\n    warnDeprecatedOutputs() {\n        const dw = deprecationWarning.bind(undefined, LayerComponent.name);\n        if (this.click.observed) {\n            dw('click', 'layerClick');\n        }\n        if (this.dblClick.observed) {\n            dw('dblClick', 'layerDblClick');\n        }\n        if (this.mouseDown.observed) {\n            dw('mouseDown', 'layerMouseDown');\n        }\n        if (this.mouseUp.observed) {\n            dw('mouseUp', 'layerMouseUp');\n        }\n        if (this.mouseEnter.observed) {\n            dw('mouseEnter', 'layerMouseEnter');\n        }\n        if (this.mouseLeave.observed) {\n            dw('mouseLeave', 'layerMouseLeave');\n        }\n        if (this.mouseMove.observed) {\n            dw('mouseMove', 'layerMouseMove');\n        }\n        if (this.mouseOver.observed) {\n            dw('mouseOver', 'layerMouseOver');\n        }\n        if (this.mouseOut.observed) {\n            dw('mouseOut', 'layerMouseOut');\n        }\n        if (this.contextMenu.observed) {\n            dw('contextMenu', 'layerContextMenu');\n        }\n        if (this.touchStart.observed) {\n            dw('touchStart', 'layerTouchStart');\n        }\n        if (this.touchEnd.observed) {\n            dw('touchEnd', 'layerTouchEnd');\n        }\n        if (this.touchCancel.observed) {\n            dw('touchCancel', 'layerTouchCancel');\n        }\n    }\n}\nLayerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: LayerComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nLayerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: LayerComponent, selector: \"mgl-layer\", inputs: { id: \"id\", source: \"source\", type: \"type\", metadata: \"metadata\", sourceLayer: \"sourceLayer\", filter: \"filter\", layout: \"layout\", paint: \"paint\", before: \"before\", minzoom: \"minzoom\", maxzoom: \"maxzoom\" }, outputs: { layerClick: \"layerClick\", layerDblClick: \"layerDblClick\", layerMouseDown: \"layerMouseDown\", layerMouseUp: \"layerMouseUp\", layerMouseEnter: \"layerMouseEnter\", layerMouseLeave: \"layerMouseLeave\", layerMouseMove: \"layerMouseMove\", layerMouseOver: \"layerMouseOver\", layerMouseOut: \"layerMouseOut\", layerContextMenu: \"layerContextMenu\", layerTouchStart: \"layerTouchStart\", layerTouchEnd: \"layerTouchEnd\", layerTouchCancel: \"layerTouchCancel\", click: \"click\", dblClick: \"dblClick\", mouseDown: \"mouseDown\", mouseUp: \"mouseUp\", mouseEnter: \"mouseEnter\", mouseLeave: \"mouseLeave\", mouseMove: \"mouseMove\", mouseOver: \"mouseOver\", mouseOut: \"mouseOut\", contextMenu: \"contextMenu\", touchStart: \"touchStart\", touchEnd: \"touchEnd\", touchCancel: \"touchCancel\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: LayerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-layer',\n                    template: '',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], source: [{\n                type: Input\n            }], type: [{\n                type: Input\n            }], metadata: [{\n                type: Input\n            }], sourceLayer: [{\n                type: Input\n            }], filter: [{\n                type: Input\n            }], layout: [{\n                type: Input\n            }], paint: [{\n                type: Input\n            }], before: [{\n                type: Input\n            }], minzoom: [{\n                type: Input\n            }], maxzoom: [{\n                type: Input\n            }], layerClick: [{\n                type: Output\n            }], layerDblClick: [{\n                type: Output\n            }], layerMouseDown: [{\n                type: Output\n            }], layerMouseUp: [{\n                type: Output\n            }], layerMouseEnter: [{\n                type: Output\n            }], layerMouseLeave: [{\n                type: Output\n            }], layerMouseMove: [{\n                type: Output\n            }], layerMouseOver: [{\n                type: Output\n            }], layerMouseOut: [{\n                type: Output\n            }], layerContextMenu: [{\n                type: Output\n            }], layerTouchStart: [{\n                type: Output\n            }], layerTouchEnd: [{\n                type: Output\n            }], layerTouchCancel: [{\n                type: Output\n            }], click: [{\n                type: Output\n            }], dblClick: [{\n                type: Output\n            }], mouseDown: [{\n                type: Output\n            }], mouseUp: [{\n                type: Output\n            }], mouseEnter: [{\n                type: Output\n            }], mouseLeave: [{\n                type: Output\n            }], mouseMove: [{\n                type: Output\n            }], mouseOver: [{\n                type: Output\n            }], mouseOut: [{\n                type: Output\n            }], contextMenu: [{\n                type: Output\n            }], touchStart: [{\n                type: Output\n            }], touchEnd: [{\n                type: Output\n            }], touchCancel: [{\n                type: Output\n            }] } });\n\nclass GeoJSONSourceComponent {\n    constructor(mapService, zone) {\n        this.mapService = mapService;\n        this.zone = zone;\n        this.updateFeatureData = new Subject();\n        this.sub = new Subscription();\n        this.sourceAdded = false;\n        this.featureIdCounter = 0;\n    }\n    ngOnInit() {\n        if (!this.data) {\n            this.data = {\n                type: 'FeatureCollection',\n                features: [],\n            };\n        }\n        const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n            this.init();\n            const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n                .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n                .subscribe(() => {\n                this.init();\n            });\n            this.sub.add(sub);\n        });\n        this.sub.add(sub1);\n    }\n    ngOnChanges(changes) {\n        if (!this.sourceAdded) {\n            return;\n        }\n        if ((changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n            (changes['attribution'] && !changes['attribution'].isFirstChange()) ||\n            (changes['buffer'] && !changes['buffer'].isFirstChange()) ||\n            (changes['tolerance'] && !changes['tolerance'].isFirstChange()) ||\n            (changes['cluster'] && !changes['cluster'].isFirstChange()) ||\n            (changes['clusterRadius'] && !changes['clusterRadius'].isFirstChange()) ||\n            (changes['clusterMaxZoom'] &&\n                !changes['clusterMaxZoom'].isFirstChange()) ||\n            (changes['clusterMinPoints'] &&\n                !changes['clusterMinPoints'].isFirstChange()) ||\n            (changes['clusterProperties'] &&\n                !changes['clusterProperties'].isFirstChange()) ||\n            (changes['lineMetrics'] && !changes['lineMetrics'].isFirstChange()) ||\n            (changes['generateId'] && !changes['generateId'].isFirstChange()) ||\n            (changes['promoteId'] && !changes['promoteId'].isFirstChange()) ||\n            (changes['filter'] && !changes['filter'].isFirstChange())) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n        if (changes['data'] && !changes['data'].isFirstChange()) {\n            const source = this.mapService.getSource(this.id);\n            if (source === undefined) {\n                return;\n            }\n            source.setData(this.data);\n        }\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n        if (this.sourceAdded) {\n            this.mapService.removeSource(this.id);\n            this.sourceAdded = false;\n        }\n    }\n    /**\n     * For clustered sources, fetches the zoom at which the given cluster expands.\n     *\n     * @param clusterId The value of the cluster's cluster_id property.\n     */\n    async getClusterExpansionZoom(clusterId) {\n        const source = this.mapService.getSource(this.id);\n        return this.zone.run(async () => new Promise((resolve, reject) => {\n            source.getClusterExpansionZoom(clusterId, (error, zoom) => {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(zoom);\n                }\n            });\n        }));\n    }\n    /**\n     * For clustered sources, fetches the children of the given cluster on the next zoom level (as an array of GeoJSON features).\n     *\n     * @param clusterId The value of the cluster's cluster_id property.\n     */\n    async getClusterChildren(clusterId) {\n        const source = this.mapService.getSource(this.id);\n        return this.zone.run(async () => new Promise((resolve, reject) => {\n            source.getClusterChildren(clusterId, (error, features) => {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(features);\n                }\n            });\n        }));\n    }\n    /**\n     * For clustered sources, fetches the original points that belong to the cluster (as an array of GeoJSON features).\n     *\n     * @param clusterId The value of the cluster's cluster_id property.\n     * @param limit The maximum number of features to return.\n     * @param offset The number of features to skip (e.g. for pagination).\n     */\n    async getClusterLeaves(clusterId, limit, offset) {\n        const source = this.mapService.getSource(this.id);\n        return this.zone.run(async () => new Promise((resolve, reject) => {\n            source.getClusterLeaves(clusterId, limit, offset, (error, features) => {\n                if (error) {\n                    reject(error);\n                }\n                else {\n                    resolve(features);\n                }\n            });\n        }));\n    }\n    _addFeature(feature) {\n        const collection = this\n            .data;\n        collection.features.push(feature);\n        this.updateFeatureData.next(null);\n    }\n    _removeFeature(feature) {\n        const collection = this\n            .data;\n        const index = collection.features.indexOf(feature);\n        if (index > -1) {\n            collection.features.splice(index, 1);\n        }\n        this.updateFeatureData.next(null);\n    }\n    _getNewFeatureId() {\n        return ++this.featureIdCounter;\n    }\n    init() {\n        const source = {\n            type: 'geojson',\n            data: this.data,\n            maxzoom: this.maxzoom,\n            attribution: this.attribution,\n            buffer: this.buffer,\n            tolerance: this.tolerance,\n            cluster: this.cluster,\n            clusterRadius: this.clusterRadius,\n            clusterMaxZoom: this.clusterMaxZoom,\n            clusterMinPoints: this.clusterMinPoints,\n            clusterProperties: this.clusterProperties,\n            lineMetrics: this.lineMetrics,\n            generateId: this.generateId,\n            promoteId: this.promoteId,\n            filter: this.filter,\n        };\n        this.mapService.addSource(this.id, source);\n        const sub = this.updateFeatureData.pipe(debounceTime(0)).subscribe(() => {\n            const source = this.mapService.getSource(this.id);\n            if (source === undefined) {\n                return;\n            }\n            source.setData(this.data);\n        });\n        this.sub.add(sub);\n        this.sourceAdded = true;\n    }\n}\nGeoJSONSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: GeoJSONSourceComponent, deps: [{ token: MapService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nGeoJSONSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: GeoJSONSourceComponent, selector: \"mgl-geojson-source\", inputs: { id: \"id\", data: \"data\", maxzoom: \"maxzoom\", attribution: \"attribution\", buffer: \"buffer\", tolerance: \"tolerance\", cluster: \"cluster\", clusterRadius: \"clusterRadius\", clusterMaxZoom: \"clusterMaxZoom\", clusterMinPoints: \"clusterMinPoints\", clusterProperties: \"clusterProperties\", lineMetrics: \"lineMetrics\", generateId: \"generateId\", promoteId: \"promoteId\", filter: \"filter\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: GeoJSONSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-geojson-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: i0.NgZone }]; }, propDecorators: { id: [{\n                type: Input\n            }], data: [{\n                type: Input\n            }], maxzoom: [{\n                type: Input\n            }], attribution: [{\n                type: Input\n            }], buffer: [{\n                type: Input\n            }], tolerance: [{\n                type: Input\n            }], cluster: [{\n                type: Input\n            }], clusterRadius: [{\n                type: Input\n            }], clusterMaxZoom: [{\n                type: Input\n            }], clusterMinPoints: [{\n                type: Input\n            }], clusterProperties: [{\n                type: Input\n            }], lineMetrics: [{\n                type: Input\n            }], generateId: [{\n                type: Input\n            }], promoteId: [{\n                type: Input\n            }], filter: [{\n                type: Input\n            }] } });\n\nclass FeatureComponent {\n    constructor(GeoJSONSourceComponent) {\n        this.GeoJSONSourceComponent = GeoJSONSourceComponent;\n        this.type = 'Feature';\n    }\n    ngOnInit() {\n        if (!this.id) {\n            this.id = this.GeoJSONSourceComponent._getNewFeatureId();\n        }\n        this.feature = {\n            type: this.type,\n            geometry: this.geometry,\n            properties: this.properties ? this.properties : {},\n        };\n        this.feature.id = this.id;\n        this.GeoJSONSourceComponent._addFeature(this.feature);\n    }\n    ngOnDestroy() {\n        this.GeoJSONSourceComponent._removeFeature(this.feature);\n    }\n    updateCoordinates(coordinates) {\n        this.feature.geometry.coordinates = coordinates;\n        this.GeoJSONSourceComponent.updateFeatureData.next(null);\n    }\n}\nFeatureComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: FeatureComponent, deps: [{ token: forwardRef(() => GeoJSONSourceComponent) }], target: i0.ɵɵFactoryTarget.Component });\nFeatureComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: FeatureComponent, selector: \"mgl-feature\", inputs: { id: \"id\", geometry: \"geometry\", properties: \"properties\" }, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: FeatureComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-feature',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: GeoJSONSourceComponent, decorators: [{\n                    type: Inject,\n                    args: [forwardRef(() => GeoJSONSourceComponent)]\n                }] }]; }, propDecorators: { id: [{\n                type: Input\n            }], geometry: [{\n                type: Input\n            }], properties: [{\n                type: Input\n            }] } });\n\nclass DraggableDirective {\n    constructor(mapService, ngZone, featureComponent) {\n        this.mapService = mapService;\n        this.ngZone = ngZone;\n        this.featureComponent = featureComponent;\n        this.featureDragStart = new EventEmitter();\n        this.featureDragEnd = new EventEmitter();\n        this.featureDrag = new EventEmitter();\n        /**\n         * @deprecated Use featureDragStart instead\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * @deprecated Use featureDragEnd instead\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * @deprecated Use featureDrag instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.drag = new EventEmitter();\n        this.sub = new Subscription();\n    }\n    ngOnInit() {\n        this.warnDeprecatedOutputs();\n        let enter$;\n        let leave$;\n        let updateCoords;\n        if (this.featureComponent && this.layer) {\n            enter$ = this.layer.layerMouseEnter;\n            leave$ = this.layer.layerMouseLeave;\n            updateCoords = this.featureComponent.updateCoordinates.bind(this.featureComponent);\n            if (this.featureComponent.geometry.type !== 'Point') {\n                throw new Error('mglDraggable only support point feature');\n            }\n        }\n        else {\n            throw new Error('mglDraggable can only be used on Feature (with a layer as input) or Marker');\n        }\n        this.handleDraggable(enter$, leave$, updateCoords);\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n    }\n    handleDraggable(enter$, leave$, updateCoords) {\n        let moving = false;\n        let inside = false;\n        this.mapService.mapCreated$.subscribe(() => {\n            const mouseUp$ = fromEvent(this.mapService.mapInstance, 'mouseup');\n            const dragStart$ = enter$.pipe(filter(() => !moving), filter((evt) => this.filterFeature(evt)), tap(() => {\n                inside = true;\n                this.mapService.changeCanvasCursor('move');\n                this.mapService.updateDragPan(false);\n            }), switchMap(() => fromEvent(this.mapService.mapInstance, 'mousedown').pipe(takeUntil(leave$))));\n            const dragging$ = dragStart$.pipe(switchMap(() => fromEvent(this.mapService.mapInstance, 'mousemove').pipe(takeUntil(mouseUp$))));\n            const dragEnd$ = dragStart$.pipe(switchMap(() => mouseUp$.pipe(take(1))));\n            this.sub.add(dragStart$.subscribe((evt) => {\n                moving = true;\n                if (this.featureDragStart.observed || this.dragStart.observed) {\n                    this.ngZone.run(() => {\n                        this.featureDragStart.emit(evt);\n                        this.dragStart.emit(evt);\n                    });\n                }\n            }));\n            this.sub.add(dragging$.subscribe((evt) => {\n                updateCoords([evt.lngLat.lng, evt.lngLat.lat]);\n                if (this.featureDrag.observed || this.drag.observed) {\n                    this.ngZone.run(() => {\n                        this.featureDrag.emit(evt);\n                        this.drag.emit(evt);\n                    });\n                }\n            }));\n            this.sub.add(dragEnd$.subscribe((evt) => {\n                moving = false;\n                if (this.featureDragEnd.observed || this.dragEnd.observed) {\n                    this.ngZone.run(() => {\n                        this.featureDragEnd.emit(evt);\n                        this.dragEnd.emit(evt);\n                    });\n                }\n                if (!inside) {\n                    // It's possible to dragEnd outside the target (small input lag)\n                    this.mapService.changeCanvasCursor('');\n                    this.mapService.updateDragPan(true);\n                }\n            }));\n            this.sub.add(leave$\n                .pipe(tap(() => (inside = false)), filter(() => !moving))\n                .subscribe(() => {\n                this.mapService.changeCanvasCursor('');\n                this.mapService.updateDragPan(true);\n            }));\n        });\n    }\n    filterFeature(evt) {\n        if (this.featureComponent && this.layer) {\n            const feature = this.mapService.queryRenderedFeatures(evt.point, {\n                layers: [this.layer.id],\n                filter: [\n                    'all',\n                    ['==', '$type', 'Point'],\n                    ['==', '$id', this.featureComponent.id],\n                ],\n            })[0];\n            if (!feature) {\n                return false;\n            }\n        }\n        return true;\n    }\n    warnDeprecatedOutputs() {\n        const dw = deprecationWarning.bind(undefined, DraggableDirective.name);\n        if (this.dragStart.observed) {\n            dw('dragStart', 'featureDragStart');\n        }\n        if (this.dragEnd.observed) {\n            dw('dragEnd', 'featureDragEnd');\n        }\n        if (this.drag.observed) {\n            dw('drag', 'featureDrag');\n        }\n    }\n}\nDraggableDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: DraggableDirective, deps: [{ token: MapService }, { token: i0.NgZone }, { token: FeatureComponent, host: true, optional: true }], target: i0.ɵɵFactoryTarget.Directive });\nDraggableDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: DraggableDirective, selector: \"[mglDraggable]\", inputs: { layer: [\"mglDraggable\", \"layer\"] }, outputs: { featureDragStart: \"featureDragStart\", featureDragEnd: \"featureDragEnd\", featureDrag: \"featureDrag\", dragStart: \"dragStart\", dragEnd: \"dragEnd\", drag: \"drag\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: DraggableDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mglDraggable]',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: i0.NgZone }, { type: FeatureComponent, decorators: [{\n                    type: Optional\n                }, {\n                    type: Host\n                }] }]; }, propDecorators: { layer: [{\n                type: Input,\n                args: ['mglDraggable']\n            }], featureDragStart: [{\n                type: Output\n            }], featureDragEnd: [{\n                type: Output\n            }], featureDrag: [{\n                type: Output\n            }], dragStart: [{\n                type: Output\n            }], dragEnd: [{\n                type: Output\n            }], drag: [{\n                type: Output\n            }] } });\n\nclass ImageComponent {\n    constructor(mapService, zone) {\n        this.mapService = mapService;\n        this.zone = zone;\n        this.imageError = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        /**\n         * @deprecated Use imageError instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.error = new EventEmitter();\n        /**\n         * @deprecated Use imageLoaded instead\n         */\n        this.loaded = new EventEmitter();\n        this.isAdded = false;\n        this.isAdding = false;\n    }\n    ngOnInit() {\n        this.warnDeprecatedOutputs();\n        this.sub = this.mapService.mapLoaded$\n            .pipe(switchMap(() => fromEvent(this.mapService.mapInstance, 'styledata').pipe(startWith(undefined), filter(() => !this.isAdding && !this.mapService.mapInstance.hasImage(this.id)))))\n            .subscribe(() => this.init());\n    }\n    ngOnChanges(changes) {\n        if ((changes['data'] && !changes['data'].isFirstChange()) ||\n            (changes['options'] && !changes['options'].isFirstChange()) ||\n            (changes['url'] && !changes['url'].isFirstChange())) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n    }\n    ngOnDestroy() {\n        if (this.isAdded) {\n            this.mapService.removeImage(this.id);\n        }\n        if (this.sub) {\n            this.sub.unsubscribe();\n        }\n    }\n    async init() {\n        this.isAdding = true;\n        if (this.data) {\n            this.mapService.addImage(this.id, this.data, this.options);\n            this.isAdded = true;\n            this.isAdding = false;\n        }\n        else if (this.url) {\n            try {\n                await this.mapService.loadAndAddImage(this.id, this.url, this.options);\n                this.isAdded = true;\n                this.isAdding = false;\n                this.zone.run(() => {\n                    this.imageLoaded.emit();\n                    this.loaded.emit();\n                });\n            }\n            catch (error) {\n                this.zone.run(() => {\n                    this.imageError.emit(error);\n                    this.error.emit(error);\n                });\n            }\n        }\n    }\n    warnDeprecatedOutputs() {\n        const dw = deprecationWarning.bind(undefined, ImageComponent.name);\n        if (this.error.observed) {\n            dw('error', 'imageError');\n        }\n        if (this.loaded.observed) {\n            dw('loaded', 'imageLoaded');\n        }\n    }\n}\nImageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ImageComponent, deps: [{ token: MapService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nImageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: ImageComponent, selector: \"mgl-image\", inputs: { id: \"id\", data: \"data\", options: \"options\", url: \"url\" }, outputs: { imageError: \"imageError\", imageLoaded: \"imageLoaded\", error: \"error\", loaded: \"loaded\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ImageComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-image',\n                    template: '',\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: i0.NgZone }]; }, propDecorators: { id: [{\n                type: Input\n            }], data: [{\n                type: Input\n            }], options: [{\n                type: Input\n            }], url: [{\n                type: Input\n            }], imageError: [{\n                type: Output\n            }], imageLoaded: [{\n                type: Output\n            }], error: [{\n                type: Output\n            }], loaded: [{\n                type: Output\n            }] } });\n\nclass MapComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        /* Added by ngx-mapbox-gl */\n        this.movingMethod = 'flyTo';\n        this.mapResize = new EventEmitter();\n        this.mapRemove = new EventEmitter();\n        this.mapMouseDown = new EventEmitter();\n        this.mapMouseUp = new EventEmitter();\n        this.mapMouseMove = new EventEmitter();\n        this.mapClick = new EventEmitter();\n        this.mapDblClick = new EventEmitter();\n        this.mapMouseOver = new EventEmitter();\n        this.mapMouseOut = new EventEmitter();\n        this.mapContextMenu = new EventEmitter();\n        this.mapTouchStart = new EventEmitter();\n        this.mapTouchEnd = new EventEmitter();\n        this.mapTouchMove = new EventEmitter();\n        this.mapTouchCancel = new EventEmitter();\n        this.mapWheel = new EventEmitter();\n        this.moveStart = new EventEmitter();\n        this.move = new EventEmitter();\n        this.moveEnd = new EventEmitter();\n        this.mapDragStart = new EventEmitter();\n        this.mapDrag = new EventEmitter();\n        this.mapDragEnd = new EventEmitter();\n        this.zoomStart = new EventEmitter();\n        this.zoomEvt = new EventEmitter();\n        this.zoomEnd = new EventEmitter();\n        this.rotateStart = new EventEmitter();\n        this.rotate = new EventEmitter();\n        this.rotateEnd = new EventEmitter();\n        this.pitchStart = new EventEmitter();\n        this.pitchEvt = new EventEmitter();\n        this.pitchEnd = new EventEmitter();\n        this.boxZoomStart = new EventEmitter();\n        this.boxZoomEnd = new EventEmitter();\n        this.boxZoomCancel = new EventEmitter();\n        this.webGlContextLost = new EventEmitter();\n        this.webGlContextRestored = new EventEmitter();\n        this.mapLoad = new EventEmitter();\n        this.idle = new EventEmitter();\n        this.render = new EventEmitter();\n        this.mapError = new EventEmitter();\n        this.data = new EventEmitter();\n        this.styleData = new EventEmitter();\n        this.sourceData = new EventEmitter();\n        this.dataLoading = new EventEmitter();\n        this.styleDataLoading = new EventEmitter();\n        this.sourceDataLoading = new EventEmitter();\n        this.styleImageMissing = new EventEmitter();\n        /**\n         * @deprecated Use mapResize instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.resize = new EventEmitter();\n        /**\n         * @deprecated Use mapRemove instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.remove = new EventEmitter();\n        /**\n         * @deprecated Use mapMouseDown instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.mouseDown = new EventEmitter();\n        /**\n         * @deprecated Use mapMouseUp instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.mouseUp = new EventEmitter();\n        /**\n         * @deprecated Use mapMouseMove instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.mouseMove = new EventEmitter();\n        /**\n         * @deprecated Use mapClick instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.click = new EventEmitter();\n        /**\n         * @deprecated Use mapDblClick instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.dblClick = new EventEmitter();\n        /**\n         * @deprecated Use mapMouseOver instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.mouseOver = new EventEmitter();\n        /**\n         * @deprecated Use mapMouseOut instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.mouseOut = new EventEmitter();\n        /**\n         * @deprecated Use mapContextMenu instead\n         */\n        this.contextMenu = new EventEmitter();\n        /**\n         * @deprecated Use mapTouchStart instead\n         */\n        this.touchStart = new EventEmitter();\n        /**\n         * @deprecated Use mapTouchEnd instead\n         */\n        this.touchEnd = new EventEmitter();\n        /**\n         * @deprecated Use mapTouchMove instead\n         */\n        this.touchMove = new EventEmitter();\n        /**\n         * @deprecated Use mapTouchCancel instead\n         */\n        this.touchCancel = new EventEmitter();\n        /**\n         * @deprecated Use mapWheel instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.wheel = new EventEmitter();\n        /**\n         * @deprecated Use mapDragStart instead\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * @deprecated Use mapDrag instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.drag = new EventEmitter();\n        /**\n         * @deprecated Use mapDragEnd instead\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * @deprecated Use mapLoad instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.load = new EventEmitter();\n        /**\n         * @deprecated Use mapError instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.error = new EventEmitter();\n    }\n    get mapInstance() {\n        return this.mapService.mapInstance;\n    }\n    ngAfterViewInit() {\n        this.warnDeprecatedOutputs();\n        this.mapService.setup({\n            accessToken: this.accessToken,\n            customMapboxApiUrl: this.customMapboxApiUrl,\n            mapOptions: {\n                collectResourceTiming: this.collectResourceTiming,\n                container: this.mapContainer.nativeElement,\n                crossSourceCollisions: this.crossSourceCollisions,\n                fadeDuration: this.fadeDuration,\n                minZoom: this.minZoom,\n                maxZoom: this.maxZoom,\n                minPitch: this.minPitch,\n                maxPitch: this.maxPitch,\n                style: this.style,\n                hash: this.hash,\n                interactive: this.interactive,\n                bearingSnap: this.bearingSnap,\n                pitchWithRotate: this.pitchWithRotate,\n                clickTolerance: this.clickTolerance,\n                attributionControl: this.attributionControl,\n                logoPosition: this.logoPosition,\n                failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat,\n                preserveDrawingBuffer: this.preserveDrawingBuffer,\n                refreshExpiredTiles: this.refreshExpiredTiles,\n                maxBounds: this.maxBounds,\n                scrollZoom: this.scrollZoom,\n                boxZoom: this.boxZoom,\n                dragRotate: this.dragRotate,\n                dragPan: this.dragPan,\n                keyboard: this.keyboard,\n                doubleClickZoom: this.doubleClickZoom,\n                touchPitch: this.touchPitch,\n                touchZoomRotate: this.touchZoomRotate,\n                trackResize: this.trackResize,\n                center: this.center,\n                zoom: this.zoom,\n                bearing: this.bearing,\n                pitch: this.pitch,\n                renderWorldCopies: this.renderWorldCopies,\n                maxTileCacheSize: this.maxTileCacheSize,\n                localIdeographFontFamily: this.localIdeographFontFamily,\n                transformRequest: this.transformRequest,\n                bounds: this.bounds ? this.bounds : this.fitBounds,\n                fitBoundsOptions: this.fitBoundsOptions,\n                antialias: this.antialias,\n                locale: this.locale,\n                projection: this.projection,\n            },\n            mapEvents: this,\n        });\n        if (this.cursorStyle) {\n            this.mapService.changeCanvasCursor(this.cursorStyle);\n        }\n    }\n    ngOnDestroy() {\n        this.mapService.destroyMap();\n    }\n    async ngOnChanges(changes) {\n        await lastValueFrom(this.mapService.mapCreated$);\n        if (changes['cursorStyle'] && !changes['cursorStyle'].isFirstChange()) {\n            this.mapService.changeCanvasCursor(changes['cursorStyle'].currentValue);\n        }\n        if (changes['projection'] && !changes['projection'].isFirstChange()) {\n            this.mapService.updateProjection(changes['projection'].currentValue);\n        }\n        if (changes['minZoom'] && !changes['minZoom'].isFirstChange()) {\n            this.mapService.updateMinZoom(changes['minZoom'].currentValue);\n        }\n        if (changes['maxZoom'] && !changes['maxZoom'].isFirstChange()) {\n            this.mapService.updateMaxZoom(changes['maxZoom'].currentValue);\n        }\n        if (changes['minPitch'] && !changes['minPitch'].isFirstChange()) {\n            this.mapService.updateMinPitch(changes['minPitch'].currentValue);\n        }\n        if (changes['maxPitch'] && !changes['maxPitch'].isFirstChange()) {\n            this.mapService.updateMaxPitch(changes['maxPitch'].currentValue);\n        }\n        if (changes['renderWorldCopies'] &&\n            !changes['renderWorldCopies'].isFirstChange()) {\n            this.mapService.updateRenderWorldCopies(changes['renderWorldCopies'].currentValue);\n        }\n        if (changes['scrollZoom'] && !changes['scrollZoom'].isFirstChange()) {\n            this.mapService.updateScrollZoom(changes['scrollZoom'].currentValue);\n        }\n        if (changes['dragRotate'] && !changes['dragRotate'].isFirstChange()) {\n            this.mapService.updateDragRotate(changes['dragRotate'].currentValue);\n        }\n        if (changes['touchPitch'] && !changes['touchPitch'].isFirstChange()) {\n            this.mapService.updateTouchPitch(changes['touchPitch'].currentValue);\n        }\n        if (changes['touchZoomRotate'] &&\n            !changes['touchZoomRotate'].isFirstChange()) {\n            this.mapService.updateTouchZoomRotate(changes['touchZoomRotate'].currentValue);\n        }\n        if (changes['doubleClickZoom'] &&\n            !changes['doubleClickZoom'].isFirstChange()) {\n            this.mapService.updateDoubleClickZoom(changes['doubleClickZoom'].currentValue);\n        }\n        if (changes['keyboard'] && !changes['keyboard'].isFirstChange()) {\n            this.mapService.updateKeyboard(changes['keyboard'].currentValue);\n        }\n        if (changes['dragPan'] && !changes['dragPan'].isFirstChange()) {\n            this.mapService.updateDragPan(changes['dragPan'].currentValue);\n        }\n        if (changes['boxZoom'] && !changes['boxZoom'].isFirstChange()) {\n            this.mapService.updateBoxZoom(changes['boxZoom'].currentValue);\n        }\n        if (changes['style'] && !changes['style'].isFirstChange()) {\n            this.mapService.updateStyle(changes['style'].currentValue);\n        }\n        if (changes['maxBounds'] && !changes['maxBounds'].isFirstChange()) {\n            this.mapService.updateMaxBounds(changes['maxBounds'].currentValue);\n        }\n        if (changes['fitBounds'] &&\n            changes['fitBounds'].currentValue &&\n            !changes['fitBounds'].isFirstChange()) {\n            this.mapService.fitBounds(changes['fitBounds'].currentValue, this.fitBoundsOptions);\n        }\n        if (changes['fitScreenCoordinates'] &&\n            changes['fitScreenCoordinates'].currentValue) {\n            if ((this.center || this.zoom || this.pitch || this.fitBounds) &&\n                changes['fitScreenCoordinates'].isFirstChange()) {\n                console.warn('[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input');\n            }\n            this.mapService.fitScreenCoordinates(changes['fitScreenCoordinates'].currentValue, this.bearing ? this.bearing[0] : 0, this.movingOptions);\n        }\n        if (this.centerWithPanTo &&\n            changes['center'] &&\n            !changes['center'].isFirstChange() &&\n            !changes['zoom'] &&\n            !changes['bearing'] &&\n            !changes['pitch']) {\n            this.mapService.panTo(this.center, this.panToOptions);\n        }\n        else if ((changes['center'] && !changes['center'].isFirstChange()) ||\n            (changes['zoom'] && !changes['zoom'].isFirstChange()) ||\n            (changes['bearing'] &&\n                !changes['bearing'].isFirstChange() &&\n                !changes['fitScreenCoordinates']) ||\n            (changes['pitch'] && !changes['pitch'].isFirstChange())) {\n            this.mapService.move(this.movingMethod, this.movingOptions, changes['zoom'] && this.zoom ? this.zoom[0] : undefined, changes['center'] ? this.center : undefined, changes['bearing'] && this.bearing ? this.bearing[0] : undefined, changes['pitch'] && this.pitch ? this.pitch[0] : undefined);\n        }\n    }\n    warnDeprecatedOutputs() {\n        const dw = deprecationWarning.bind(undefined, MapComponent.name);\n        if (this.resize.observed) {\n            dw('resize', 'mapResize');\n        }\n        if (this.remove.observed) {\n            dw('remove', 'mapRemove');\n        }\n        if (this.mouseDown.observed) {\n            dw('mouseDown', 'mapMouseDown');\n        }\n        if (this.mouseUp.observed) {\n            dw('mouseUp', 'mapMouseUp');\n        }\n        if (this.mouseMove.observed) {\n            dw('mouseMove', 'mapMouseMove');\n        }\n        if (this.click.observed) {\n            dw('click', 'mapClick');\n        }\n        if (this.dblClick.observed) {\n            dw('dblClick', 'mapDblClick');\n        }\n        if (this.mouseOver.observed) {\n            dw('mouseOver', 'mapMouseOver');\n        }\n        if (this.mouseOut.observed) {\n            dw('mouseOut', 'mapMouseOut');\n        }\n        if (this.contextMenu.observed) {\n            dw('contextMenu', 'mapContextMenu');\n        }\n        if (this.touchStart.observed) {\n            dw('touchStart', 'mapTouchStart');\n        }\n        if (this.touchEnd.observed) {\n            dw('touchEnd', 'mapTouchEnd');\n        }\n        if (this.touchMove.observed) {\n            dw('touchMove', 'mapTouchMove');\n        }\n        if (this.touchCancel.observed) {\n            dw('touchCancel', 'mapTouchCancel');\n        }\n        if (this.wheel.observed) {\n            dw('wheel', 'mapWheel');\n        }\n        if (this.dragStart.observed) {\n            dw('dragStart', 'mapDragStart');\n        }\n        if (this.drag.observed) {\n            dw('drag', 'mapDrag');\n        }\n        if (this.dragEnd.observed) {\n            dw('dragEnd', 'mapDragEnd');\n        }\n        if (this.load.observed) {\n            dw('load', 'mapLoad');\n        }\n        if (this.error.observed) {\n            dw('error', 'mapError');\n        }\n    }\n}\nMapComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MapComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nMapComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: MapComponent, selector: \"mgl-map\", inputs: { accessToken: \"accessToken\", collectResourceTiming: \"collectResourceTiming\", crossSourceCollisions: \"crossSourceCollisions\", customMapboxApiUrl: \"customMapboxApiUrl\", fadeDuration: \"fadeDuration\", hash: \"hash\", refreshExpiredTiles: \"refreshExpiredTiles\", failIfMajorPerformanceCaveat: \"failIfMajorPerformanceCaveat\", bearingSnap: \"bearingSnap\", interactive: \"interactive\", pitchWithRotate: \"pitchWithRotate\", clickTolerance: \"clickTolerance\", attributionControl: \"attributionControl\", logoPosition: \"logoPosition\", maxTileCacheSize: \"maxTileCacheSize\", localIdeographFontFamily: \"localIdeographFontFamily\", preserveDrawingBuffer: \"preserveDrawingBuffer\", trackResize: \"trackResize\", transformRequest: \"transformRequest\", bounds: \"bounds\", antialias: \"antialias\", locale: \"locale\", minZoom: \"minZoom\", maxZoom: \"maxZoom\", minPitch: \"minPitch\", maxPitch: \"maxPitch\", scrollZoom: \"scrollZoom\", dragRotate: \"dragRotate\", touchPitch: \"touchPitch\", touchZoomRotate: \"touchZoomRotate\", doubleClickZoom: \"doubleClickZoom\", keyboard: \"keyboard\", dragPan: \"dragPan\", boxZoom: \"boxZoom\", style: \"style\", center: \"center\", maxBounds: \"maxBounds\", zoom: \"zoom\", bearing: \"bearing\", pitch: \"pitch\", fitBoundsOptions: \"fitBoundsOptions\", renderWorldCopies: \"renderWorldCopies\", projection: \"projection\", movingMethod: \"movingMethod\", movingOptions: \"movingOptions\", fitBounds: \"fitBounds\", fitScreenCoordinates: \"fitScreenCoordinates\", centerWithPanTo: \"centerWithPanTo\", panToOptions: \"panToOptions\", cursorStyle: \"cursorStyle\" }, outputs: { mapResize: \"mapResize\", mapRemove: \"mapRemove\", mapMouseDown: \"mapMouseDown\", mapMouseUp: \"mapMouseUp\", mapMouseMove: \"mapMouseMove\", mapClick: \"mapClick\", mapDblClick: \"mapDblClick\", mapMouseOver: \"mapMouseOver\", mapMouseOut: \"mapMouseOut\", mapContextMenu: \"mapContextMenu\", mapTouchStart: \"mapTouchStart\", mapTouchEnd: \"mapTouchEnd\", mapTouchMove: \"mapTouchMove\", mapTouchCancel: \"mapTouchCancel\", mapWheel: \"mapWheel\", moveStart: \"moveStart\", move: \"move\", moveEnd: \"moveEnd\", mapDragStart: \"mapDragStart\", mapDrag: \"mapDrag\", mapDragEnd: \"mapDragEnd\", zoomStart: \"zoomStart\", zoomEvt: \"zoomEvt\", zoomEnd: \"zoomEnd\", rotateStart: \"rotateStart\", rotate: \"rotate\", rotateEnd: \"rotateEnd\", pitchStart: \"pitchStart\", pitchEvt: \"pitchEvt\", pitchEnd: \"pitchEnd\", boxZoomStart: \"boxZoomStart\", boxZoomEnd: \"boxZoomEnd\", boxZoomCancel: \"boxZoomCancel\", webGlContextLost: \"webGlContextLost\", webGlContextRestored: \"webGlContextRestored\", mapLoad: \"mapLoad\", idle: \"idle\", render: \"render\", mapError: \"mapError\", data: \"data\", styleData: \"styleData\", sourceData: \"sourceData\", dataLoading: \"dataLoading\", styleDataLoading: \"styleDataLoading\", sourceDataLoading: \"sourceDataLoading\", styleImageMissing: \"styleImageMissing\", resize: \"resize\", remove: \"remove\", mouseDown: \"mouseDown\", mouseUp: \"mouseUp\", mouseMove: \"mouseMove\", click: \"click\", dblClick: \"dblClick\", mouseOver: \"mouseOver\", mouseOut: \"mouseOut\", contextMenu: \"contextMenu\", touchStart: \"touchStart\", touchEnd: \"touchEnd\", touchMove: \"touchMove\", touchCancel: \"touchCancel\", wheel: \"wheel\", dragStart: \"dragStart\", drag: \"drag\", dragEnd: \"dragEnd\", load: \"load\", error: \"error\" }, providers: [MapService], viewQueries: [{ propertyName: \"mapContainer\", first: true, predicate: [\"container\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: '<div #container></div>', isInline: true, styles: [\":host{display:block}div{height:100%;width:100%}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MapComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mgl-map', template: '<div #container></div>', providers: [MapService], changeDetection: ChangeDetectionStrategy.OnPush, styles: [\":host{display:block}div{height:100%;width:100%}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { accessToken: [{\n                type: Input\n            }], collectResourceTiming: [{\n                type: Input\n            }], crossSourceCollisions: [{\n                type: Input\n            }], customMapboxApiUrl: [{\n                type: Input\n            }], fadeDuration: [{\n                type: Input\n            }], hash: [{\n                type: Input\n            }], refreshExpiredTiles: [{\n                type: Input\n            }], failIfMajorPerformanceCaveat: [{\n                type: Input\n            }], bearingSnap: [{\n                type: Input\n            }], interactive: [{\n                type: Input\n            }], pitchWithRotate: [{\n                type: Input\n            }], clickTolerance: [{\n                type: Input\n            }], attributionControl: [{\n                type: Input\n            }], logoPosition: [{\n                type: Input\n            }], maxTileCacheSize: [{\n                type: Input\n            }], localIdeographFontFamily: [{\n                type: Input\n            }], preserveDrawingBuffer: [{\n                type: Input\n            }], trackResize: [{\n                type: Input\n            }], transformRequest: [{\n                type: Input\n            }], bounds: [{\n                type: Input\n            }], antialias: [{\n                type: Input\n            }], locale: [{\n                type: Input\n            }], minZoom: [{\n                type: Input\n            }], maxZoom: [{\n                type: Input\n            }], minPitch: [{\n                type: Input\n            }], maxPitch: [{\n                type: Input\n            }], scrollZoom: [{\n                type: Input\n            }], dragRotate: [{\n                type: Input\n            }], touchPitch: [{\n                type: Input\n            }], touchZoomRotate: [{\n                type: Input\n            }], doubleClickZoom: [{\n                type: Input\n            }], keyboard: [{\n                type: Input\n            }], dragPan: [{\n                type: Input\n            }], boxZoom: [{\n                type: Input\n            }], style: [{\n                type: Input\n            }], center: [{\n                type: Input\n            }], maxBounds: [{\n                type: Input\n            }], zoom: [{\n                type: Input\n            }], bearing: [{\n                type: Input\n            }], pitch: [{\n                type: Input\n            }], fitBoundsOptions: [{\n                type: Input\n            }], renderWorldCopies: [{\n                type: Input\n            }], projection: [{\n                type: Input\n            }], movingMethod: [{\n                type: Input\n            }], movingOptions: [{\n                type: Input\n            }], fitBounds: [{\n                type: Input\n            }], fitScreenCoordinates: [{\n                type: Input\n            }], centerWithPanTo: [{\n                type: Input\n            }], panToOptions: [{\n                type: Input\n            }], cursorStyle: [{\n                type: Input\n            }], mapResize: [{\n                type: Output\n            }], mapRemove: [{\n                type: Output\n            }], mapMouseDown: [{\n                type: Output\n            }], mapMouseUp: [{\n                type: Output\n            }], mapMouseMove: [{\n                type: Output\n            }], mapClick: [{\n                type: Output\n            }], mapDblClick: [{\n                type: Output\n            }], mapMouseOver: [{\n                type: Output\n            }], mapMouseOut: [{\n                type: Output\n            }], mapContextMenu: [{\n                type: Output\n            }], mapTouchStart: [{\n                type: Output\n            }], mapTouchEnd: [{\n                type: Output\n            }], mapTouchMove: [{\n                type: Output\n            }], mapTouchCancel: [{\n                type: Output\n            }], mapWheel: [{\n                type: Output\n            }], moveStart: [{\n                type: Output\n            }], move: [{\n                type: Output\n            }], moveEnd: [{\n                type: Output\n            }], mapDragStart: [{\n                type: Output\n            }], mapDrag: [{\n                type: Output\n            }], mapDragEnd: [{\n                type: Output\n            }], zoomStart: [{\n                type: Output\n            }], zoomEvt: [{\n                type: Output\n            }], zoomEnd: [{\n                type: Output\n            }], rotateStart: [{\n                type: Output\n            }], rotate: [{\n                type: Output\n            }], rotateEnd: [{\n                type: Output\n            }], pitchStart: [{\n                type: Output\n            }], pitchEvt: [{\n                type: Output\n            }], pitchEnd: [{\n                type: Output\n            }], boxZoomStart: [{\n                type: Output\n            }], boxZoomEnd: [{\n                type: Output\n            }], boxZoomCancel: [{\n                type: Output\n            }], webGlContextLost: [{\n                type: Output\n            }], webGlContextRestored: [{\n                type: Output\n            }], mapLoad: [{\n                type: Output\n            }], idle: [{\n                type: Output\n            }], render: [{\n                type: Output\n            }], mapError: [{\n                type: Output\n            }], data: [{\n                type: Output\n            }], styleData: [{\n                type: Output\n            }], sourceData: [{\n                type: Output\n            }], dataLoading: [{\n                type: Output\n            }], styleDataLoading: [{\n                type: Output\n            }], sourceDataLoading: [{\n                type: Output\n            }], styleImageMissing: [{\n                type: Output\n            }], resize: [{\n                type: Output\n            }], remove: [{\n                type: Output\n            }], mouseDown: [{\n                type: Output\n            }], mouseUp: [{\n                type: Output\n            }], mouseMove: [{\n                type: Output\n            }], click: [{\n                type: Output\n            }], dblClick: [{\n                type: Output\n            }], mouseOver: [{\n                type: Output\n            }], mouseOut: [{\n                type: Output\n            }], contextMenu: [{\n                type: Output\n            }], touchStart: [{\n                type: Output\n            }], touchEnd: [{\n                type: Output\n            }], touchMove: [{\n                type: Output\n            }], touchCancel: [{\n                type: Output\n            }], wheel: [{\n                type: Output\n            }], dragStart: [{\n                type: Output\n            }], drag: [{\n                type: Output\n            }], dragEnd: [{\n                type: Output\n            }], load: [{\n                type: Output\n            }], error: [{\n                type: Output\n            }], mapContainer: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }] } });\n\nclass MarkerComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.markerDragStart = new EventEmitter();\n        this.markerDragEnd = new EventEmitter();\n        this.markerDrag = new EventEmitter();\n        /**\n         * @deprecated Use markerDragStart instead\n         */\n        this.dragStart = new EventEmitter();\n        /**\n         * @deprecated Use markerDragEnd instead\n         */\n        this.dragEnd = new EventEmitter();\n        /**\n         * @deprecated Use markerDrag instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.drag = new EventEmitter();\n    }\n    ngOnInit() {\n        this.warnDeprecatedOutputs();\n        if (this.feature && this.lngLat) {\n            throw new Error('feature and lngLat input are mutually exclusive');\n        }\n    }\n    ngOnChanges(changes) {\n        if (changes['lngLat'] && !changes['lngLat'].isFirstChange()) {\n            this.markerInstance.setLngLat(this.lngLat);\n        }\n        if (changes['feature'] && !changes['feature'].isFirstChange()) {\n            this.markerInstance.setLngLat(this.feature.geometry.coordinates);\n        }\n        if (changes['draggable'] && !changes['draggable'].isFirstChange()) {\n            this.markerInstance.setDraggable(!!this.draggable);\n        }\n        if (changes['popupShown'] && !changes['popupShown'].isFirstChange()) {\n            changes['popupShown'].currentValue\n                ? this.markerInstance.getPopup().addTo(this.mapService.mapInstance)\n                : this.markerInstance.getPopup().remove();\n        }\n        if (changes['pitchAlignment'] &&\n            !changes['pitchAlignment'].isFirstChange()) {\n            this.markerInstance.setPitchAlignment(changes['pitchAlignment'].currentValue);\n        }\n        if (changes['rotationAlignment'] &&\n            !changes['rotationAlignment'].isFirstChange()) {\n            this.markerInstance.setRotationAlignment(changes['rotationAlignment'].currentValue);\n        }\n    }\n    ngAfterViewInit() {\n        this.mapService.mapCreated$.subscribe(() => {\n            this.markerInstance = this.mapService.addMarker({\n                markersOptions: {\n                    offset: this.offset,\n                    anchor: this.anchor,\n                    pitchAlignment: this.pitchAlignment,\n                    rotationAlignment: this.rotationAlignment,\n                    draggable: !!this.draggable,\n                    element: this.content.nativeElement,\n                    feature: this.feature,\n                    lngLat: this.lngLat,\n                    clickTolerance: this.clickTolerance,\n                },\n                markersEvents: {\n                    markerDragStart: this.markerDragStart,\n                    markerDrag: this.markerDrag,\n                    markerDragEnd: this.markerDragEnd,\n                    dragStart: this.markerDragStart,\n                    drag: this.markerDrag,\n                    dragEnd: this.markerDragEnd,\n                },\n            });\n        });\n    }\n    ngOnDestroy() {\n        this.mapService.removeMarker(this.markerInstance);\n        this.markerInstance = undefined;\n    }\n    togglePopup() {\n        this.markerInstance.togglePopup();\n    }\n    updateCoordinates(coordinates) {\n        this.markerInstance.setLngLat(coordinates);\n    }\n    warnDeprecatedOutputs() {\n        const dw = deprecationWarning.bind(undefined, MarkerComponent.name);\n        if (this.markerDragStart.observed) {\n            dw('dragStart', 'markerDragStart');\n        }\n        if (this.markerDragEnd.observed) {\n            dw('dragEnd', 'markerDragEnd');\n        }\n        if (this.markerDrag.observed) {\n            dw('drag', 'markerDrag');\n        }\n    }\n}\nMarkerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MarkerComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nMarkerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: MarkerComponent, selector: \"mgl-marker\", inputs: { offset: \"offset\", anchor: \"anchor\", clickTolerance: \"clickTolerance\", feature: \"feature\", lngLat: \"lngLat\", draggable: \"draggable\", popupShown: \"popupShown\", className: \"className\", pitchAlignment: \"pitchAlignment\", rotationAlignment: \"rotationAlignment\" }, outputs: { markerDragStart: \"markerDragStart\", markerDragEnd: \"markerDragEnd\", markerDrag: \"markerDrag\", dragStart: \"dragStart\", dragEnd: \"dragEnd\", drag: \"drag\" }, viewQueries: [{ propertyName: \"content\", first: true, predicate: [\"content\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: '<div [class]=\"className\" #content><ng-content></ng-content></div>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MarkerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-marker',\n                    template: '<div [class]=\"className\" #content><ng-content></ng-content></div>',\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { offset: [{\n                type: Input\n            }], anchor: [{\n                type: Input\n            }], clickTolerance: [{\n                type: Input\n            }], feature: [{\n                type: Input\n            }], lngLat: [{\n                type: Input\n            }], draggable: [{\n                type: Input\n            }], popupShown: [{\n                type: Input\n            }], className: [{\n                type: Input\n            }], pitchAlignment: [{\n                type: Input\n            }], rotationAlignment: [{\n                type: Input\n            }], markerDragStart: [{\n                type: Output\n            }], markerDragEnd: [{\n                type: Output\n            }], markerDrag: [{\n                type: Output\n            }], dragStart: [{\n                type: Output\n            }], dragEnd: [{\n                type: Output\n            }], drag: [{\n                type: Output\n            }], content: [{\n                type: ViewChild,\n                args: ['content', { static: true }]\n            }] } });\n\nclass PointDirective {\n}\nPointDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: PointDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nPointDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: PointDirective, selector: \"ng-template[mglPoint]\", ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: PointDirective, decorators: [{\n            type: Directive,\n            args: [{ selector: 'ng-template[mglPoint]' }]\n        }] });\nclass ClusterPointDirective {\n}\nClusterPointDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ClusterPointDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nClusterPointDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.1.1\", type: ClusterPointDirective, selector: \"ng-template[mglClusterPoint]\", ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ClusterPointDirective, decorators: [{\n            type: Directive,\n            args: [{ selector: 'ng-template[mglClusterPoint]' }]\n        }] });\nlet uniqId = 0;\nclass MarkersForClustersComponent {\n    constructor(mapService, ChangeDetectorRef, zone) {\n        this.mapService = mapService;\n        this.ChangeDetectorRef = ChangeDetectorRef;\n        this.zone = zone;\n        this.layerId = `mgl-markers-for-clusters-${uniqId++}`;\n        this.sub = new Subscription();\n    }\n    ngAfterContentInit() {\n        const clusterDataUpdate = () => fromEvent(this.mapService.mapInstance, 'data').pipe(filter((e) => e.sourceId === this.source &&\n            e.sourceDataType !== 'metadata' &&\n            this.mapService.mapInstance.isSourceLoaded(this.source)));\n        const sub = this.mapService.mapCreated$\n            .pipe(switchMap(clusterDataUpdate), switchMap(() => merge(fromEvent(this.mapService.mapInstance, 'move'), fromEvent(this.mapService.mapInstance, 'moveend')).pipe(startWith(undefined))))\n            .subscribe(() => {\n            this.zone.run(() => {\n                this.updateCluster();\n            });\n        });\n        this.sub.add(sub);\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n    }\n    trackByClusterPoint(_index, clusterPoint) {\n        return clusterPoint.id;\n    }\n    updateCluster() {\n        // Invalid queryRenderedFeatures typing\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const params = { layers: [this.layerId] };\n        if (!this.pointTpl) {\n            params.filter = ['==', 'cluster', true];\n        }\n        this.clusterPoints =\n            this.mapService.mapInstance.queryRenderedFeatures(params);\n        this.ChangeDetectorRef.markForCheck();\n    }\n}\nMarkersForClustersComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MarkersForClustersComponent, deps: [{ token: MapService }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nMarkersForClustersComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: MarkersForClustersComponent, selector: \"mgl-markers-for-clusters\", inputs: { source: \"source\" }, queries: [{ propertyName: \"pointTpl\", first: true, predicate: PointDirective, descendants: true, read: TemplateRef }, { propertyName: \"clusterPointTpl\", first: true, predicate: ClusterPointDirective, descendants: true, read: TemplateRef }], ngImport: i0, template: `\n    <mgl-layer\n      [id]=\"layerId\"\n      [source]=\"source\"\n      type=\"circle\"\n      [paint]=\"{ 'circle-radius': 0 }\"\n    ></mgl-layer>\n    <ng-container\n      *ngFor=\"let feature of clusterPoints; trackBy: trackByClusterPoint\"\n    >\n      <ng-container *ngIf=\"feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"clusterPointTpl; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n      <ng-container *ngIf=\"!feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"pointTpl!; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n    </ng-container>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"component\", type: LayerComponent, selector: \"mgl-layer\", inputs: [\"id\", \"source\", \"type\", \"metadata\", \"sourceLayer\", \"filter\", \"layout\", \"paint\", \"before\", \"minzoom\", \"maxzoom\"], outputs: [\"layerClick\", \"layerDblClick\", \"layerMouseDown\", \"layerMouseUp\", \"layerMouseEnter\", \"layerMouseLeave\", \"layerMouseMove\", \"layerMouseOver\", \"layerMouseOut\", \"layerContextMenu\", \"layerTouchStart\", \"layerTouchEnd\", \"layerTouchCancel\", \"click\", \"dblClick\", \"mouseDown\", \"mouseUp\", \"mouseEnter\", \"mouseLeave\", \"mouseMove\", \"mouseOver\", \"mouseOut\", \"contextMenu\", \"touchStart\", \"touchEnd\", \"touchCancel\"] }, { kind: \"component\", type: MarkerComponent, selector: \"mgl-marker\", inputs: [\"offset\", \"anchor\", \"clickTolerance\", \"feature\", \"lngLat\", \"draggable\", \"popupShown\", \"className\", \"pitchAlignment\", \"rotationAlignment\"], outputs: [\"markerDragStart\", \"markerDragEnd\", \"markerDrag\", \"dragStart\", \"dragEnd\", \"drag\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: MarkersForClustersComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-markers-for-clusters',\n                    template: `\n    <mgl-layer\n      [id]=\"layerId\"\n      [source]=\"source\"\n      type=\"circle\"\n      [paint]=\"{ 'circle-radius': 0 }\"\n    ></mgl-layer>\n    <ng-container\n      *ngFor=\"let feature of clusterPoints; trackBy: trackByClusterPoint\"\n    >\n      <ng-container *ngIf=\"feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"clusterPointTpl; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n      <ng-container *ngIf=\"!feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"pointTpl!; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n    </ng-container>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    preserveWhitespaces: false,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }]; }, propDecorators: { source: [{\n                type: Input\n            }], pointTpl: [{\n                type: ContentChild,\n                args: [PointDirective, { read: TemplateRef, static: false }]\n            }], clusterPointTpl: [{\n                type: ContentChild,\n                args: [ClusterPointDirective, { read: TemplateRef, static: false }]\n            }] } });\n\nclass PopupComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.popupClose = new EventEmitter();\n        this.popupOpen = new EventEmitter();\n        /**\n         * @deprecated Use popupClose instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.close = new EventEmitter();\n        /**\n         * @deprecated Use popupOpen instead\n         */\n        // eslint-disable-next-line @angular-eslint/no-output-native\n        this.open = new EventEmitter();\n    }\n    ngOnInit() {\n        this.warnDeprecatedOutputs();\n        if ((this.lngLat && this.marker) ||\n            (this.feature && this.lngLat) ||\n            (this.feature && this.marker)) {\n            throw new Error('marker, lngLat, feature input are mutually exclusive');\n        }\n    }\n    ngOnChanges(changes) {\n        if ((changes['lngLat'] && !changes['lngLat'].isFirstChange()) ||\n            (changes['feature'] && !changes['feature'].isFirstChange())) {\n            const newlngLat = changes['lngLat']\n                ? this.lngLat\n                : this.feature.geometry.coordinates;\n            this.mapService.removePopupFromMap(this.popupInstance, true);\n            const popupInstanceTmp = this.createPopup();\n            this.mapService.addPopupToMap(popupInstanceTmp, newlngLat, this.popupInstance.isOpen());\n            this.popupInstance = popupInstanceTmp;\n        }\n        if (changes['marker'] && !changes['marker'].isFirstChange()) {\n            const previousMarker = changes['marker'].previousValue;\n            if (previousMarker.markerInstance) {\n                this.mapService.removePopupFromMarker(previousMarker.markerInstance);\n            }\n            if (this.marker && this.marker.markerInstance && this.popupInstance) {\n                this.mapService.addPopupToMarker(this.marker.markerInstance, this.popupInstance);\n            }\n        }\n        if (changes['offset'] &&\n            !changes['offset'].isFirstChange() &&\n            this.popupInstance) {\n            this.popupInstance.setOffset(this.offset);\n        }\n    }\n    ngAfterViewInit() {\n        this.popupInstance = this.createPopup();\n        this.addPopup(this.popupInstance);\n    }\n    ngOnDestroy() {\n        if (this.popupInstance) {\n            if (this.lngLat || this.feature) {\n                this.mapService.removePopupFromMap(this.popupInstance);\n            }\n            else if (this.marker && this.marker.markerInstance) {\n                this.mapService.removePopupFromMarker(this.marker.markerInstance);\n            }\n        }\n        this.popupInstance = undefined;\n    }\n    createPopup() {\n        return this.mapService.createPopup({\n            popupOptions: {\n                closeButton: this.closeButton,\n                closeOnClick: this.closeOnClick,\n                closeOnMove: this.closeOnMove,\n                focusAfterOpen: this.focusAfterOpen,\n                anchor: this.anchor,\n                offset: this.offset,\n                className: this.className,\n                maxWidth: this.maxWidth,\n            },\n            popupEvents: {\n                open: this.open,\n                close: this.close,\n                popupOpen: this.popupOpen,\n                popupClose: this.popupClose,\n            },\n        }, this.content.nativeElement);\n    }\n    addPopup(popup) {\n        this.mapService.mapCreated$.subscribe(() => {\n            if (this.lngLat || this.feature) {\n                this.mapService.addPopupToMap(popup, this.lngLat\n                    ? this.lngLat\n                    : this.feature.geometry.coordinates);\n            }\n            else if (this.marker && this.marker.markerInstance) {\n                this.mapService.addPopupToMarker(this.marker.markerInstance, popup);\n            }\n            else {\n                throw new Error('mgl-popup need either lngLat/marker/feature to be set');\n            }\n        });\n    }\n    warnDeprecatedOutputs() {\n        const dw = deprecationWarning.bind(undefined, PopupComponent.name);\n        if (this.close.observed) {\n            dw('close', 'popupClose');\n        }\n        if (this.open.observed) {\n            dw('open', 'popupOpen');\n        }\n    }\n}\nPopupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: PopupComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nPopupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: PopupComponent, selector: \"mgl-popup\", inputs: { closeButton: \"closeButton\", closeOnClick: \"closeOnClick\", closeOnMove: \"closeOnMove\", focusAfterOpen: \"focusAfterOpen\", anchor: \"anchor\", className: \"className\", maxWidth: \"maxWidth\", feature: \"feature\", lngLat: \"lngLat\", marker: \"marker\", offset: \"offset\" }, outputs: { popupClose: \"popupClose\", popupOpen: \"popupOpen\", close: \"close\", open: \"open\" }, viewQueries: [{ propertyName: \"content\", first: true, predicate: [\"content\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: '<div #content><ng-content></ng-content></div>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: PopupComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-popup',\n                    template: '<div #content><ng-content></ng-content></div>',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { closeButton: [{\n                type: Input\n            }], closeOnClick: [{\n                type: Input\n            }], closeOnMove: [{\n                type: Input\n            }], focusAfterOpen: [{\n                type: Input\n            }], anchor: [{\n                type: Input\n            }], className: [{\n                type: Input\n            }], maxWidth: [{\n                type: Input\n            }], feature: [{\n                type: Input\n            }], lngLat: [{\n                type: Input\n            }], marker: [{\n                type: Input\n            }], offset: [{\n                type: Input\n            }], popupClose: [{\n                type: Output\n            }], popupOpen: [{\n                type: Output\n            }], close: [{\n                type: Output\n            }], open: [{\n                type: Output\n            }], content: [{\n                type: ViewChild,\n                args: ['content', { static: true }]\n            }] } });\n\nclass CanvasSourceComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.sourceAdded = false;\n        this.sub = new Subscription();\n    }\n    ngOnInit() {\n        const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n            this.init();\n            const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n                .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n                .subscribe(() => {\n                this.init();\n            });\n            this.sub.add(sub);\n        });\n        this.sub.add(sub1);\n    }\n    ngOnChanges(changes) {\n        if (!this.sourceAdded) {\n            return;\n        }\n        if ((changes['canvas'] && !changes['canvas'].isFirstChange()) ||\n            (changes['animate'] && !changes['animate'].isFirstChange())) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n        else if (changes['coordinates'] &&\n            !changes['coordinates'].isFirstChange()) {\n            const source = this.mapService.getSource(this.id);\n            if (source === undefined) {\n                return;\n            }\n            source.setCoordinates(this.coordinates);\n        }\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n        if (this.sourceAdded) {\n            this.mapService.removeSource(this.id);\n            this.sourceAdded = false;\n        }\n    }\n    init() {\n        const source = {\n            type: 'canvas',\n            coordinates: this.coordinates,\n            canvas: this.canvas,\n            animate: this.animate,\n        };\n        this.mapService.addSource(this.id, source);\n        this.sourceAdded = true;\n    }\n}\nCanvasSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: CanvasSourceComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nCanvasSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: CanvasSourceComponent, selector: \"mgl-canvas-source\", inputs: { id: \"id\", coordinates: \"coordinates\", canvas: \"canvas\", animate: \"animate\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: CanvasSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-canvas-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], coordinates: [{\n                type: Input\n            }], canvas: [{\n                type: Input\n            }], animate: [{\n                type: Input\n            }] } });\n\nclass ImageSourceComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n    }\n    ngOnInit() {\n        this.sub = this.mapService.mapLoaded$.subscribe(() => this.init());\n    }\n    ngOnChanges(changes) {\n        if (this.sourceId === undefined) {\n            return;\n        }\n        const source = this.mapService.getSource(this.sourceId);\n        if (source === undefined) {\n            return;\n        }\n        source.updateImage({\n            url: changes['url'] === undefined ? undefined : this.url,\n            coordinates: changes['coordinates'] === undefined ? undefined : this.coordinates,\n        });\n    }\n    ngOnDestroy() {\n        if (this.sub !== undefined) {\n            this.sub.unsubscribe();\n        }\n        if (this.sourceId !== undefined) {\n            this.mapService.removeSource(this.sourceId);\n            this.sourceId = undefined;\n        }\n    }\n    init() {\n        const imageSource = {\n            type: 'image',\n            url: this.url,\n            coordinates: this.coordinates,\n        };\n        this.mapService.addSource(this.id, imageSource);\n        this.sourceId = this.id;\n    }\n}\nImageSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ImageSourceComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nImageSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: ImageSourceComponent, selector: \"mgl-image-source\", inputs: { id: \"id\", url: \"url\", coordinates: \"coordinates\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: ImageSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-image-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], url: [{\n                type: Input\n            }], coordinates: [{\n                type: Input\n            }] } });\n\nclass RasterDemSourceComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.type = 'raster-dem';\n        this.sourceAdded = false;\n        this.sub = new Subscription();\n    }\n    ngOnInit() {\n        const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n            this.init();\n            const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n                .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n                .subscribe(() => {\n                this.init();\n            });\n            this.sub.add(sub);\n        });\n        this.sub.add(sub1);\n    }\n    ngOnChanges(changes) {\n        if (!this.sourceAdded) {\n            return;\n        }\n        if ((changes['url'] && !changes['url'].isFirstChange()) ||\n            (changes['tiles'] && !changes['tiles'].isFirstChange()) ||\n            (changes['bounds'] && !changes['bounds'].isFirstChange()) ||\n            (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n            (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n            (changes['tileSize'] && !changes['tileSize'].isFirstChange()) ||\n            (changes['attribution'] && !changes['attribution'].isFirstChange()) ||\n            (changes['encoding'] && !changes['encoding'].isFirstChange())) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n        if (this.sourceAdded) {\n            this.mapService.removeSource(this.id);\n            this.sourceAdded = false;\n        }\n    }\n    init() {\n        const source = {\n            type: this.type,\n            url: this.url,\n            tiles: this.tiles,\n            bounds: this.bounds,\n            minzoom: this.minzoom,\n            maxzoom: this.maxzoom,\n            tileSize: this.tileSize,\n            attribution: this.attribution,\n            encoding: this.encoding,\n        };\n        this.mapService.addSource(this.id, source);\n        this.sourceAdded = true;\n    }\n}\nRasterDemSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: RasterDemSourceComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nRasterDemSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: RasterDemSourceComponent, selector: \"mgl-raster-dem-source\", inputs: { id: \"id\", url: \"url\", tiles: \"tiles\", bounds: \"bounds\", minzoom: \"minzoom\", maxzoom: \"maxzoom\", tileSize: \"tileSize\", attribution: \"attribution\", encoding: \"encoding\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: RasterDemSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-raster-dem-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], url: [{\n                type: Input\n            }], tiles: [{\n                type: Input\n            }], bounds: [{\n                type: Input\n            }], minzoom: [{\n                type: Input\n            }], maxzoom: [{\n                type: Input\n            }], tileSize: [{\n                type: Input\n            }], attribution: [{\n                type: Input\n            }], encoding: [{\n                type: Input\n            }] } });\n\nclass RasterSourceComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.type = 'raster';\n        this.sourceAdded = false;\n        this.sub = new Subscription();\n    }\n    ngOnInit() {\n        const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n            this.init();\n            const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n                .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n                .subscribe(() => {\n                this.init();\n            });\n            this.sub.add(sub);\n        });\n        this.sub.add(sub1);\n    }\n    ngOnChanges(changes) {\n        if (!this.sourceAdded) {\n            return;\n        }\n        if ((changes['url'] && !changes['url'].isFirstChange()) ||\n            (changes['tiles'] && !changes['tiles'].isFirstChange()) ||\n            (changes['bounds'] && !changes['bounds'].isFirstChange()) ||\n            (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n            (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n            (changes['tileSize'] && !changes['tileSize'].isFirstChange()) ||\n            (changes['scheme'] && !changes['scheme'].isFirstChange()) ||\n            (changes['attribution'] && !changes['attribution'].isFirstChange())) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n        if (this.sourceAdded) {\n            this.mapService.removeSource(this.id);\n            this.sourceAdded = false;\n        }\n    }\n    init() {\n        const source = {\n            type: this.type,\n            url: this.url,\n            tiles: this.tiles,\n            bounds: this.bounds,\n            minzoom: this.minzoom,\n            maxzoom: this.maxzoom,\n            tileSize: this.tileSize,\n            scheme: this.scheme,\n            attribution: this.attribution,\n        };\n        this.mapService.addSource(this.id, source);\n        this.sourceAdded = true;\n    }\n}\nRasterSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: RasterSourceComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nRasterSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: RasterSourceComponent, selector: \"mgl-raster-source\", inputs: { id: \"id\", url: \"url\", tiles: \"tiles\", bounds: \"bounds\", minzoom: \"minzoom\", maxzoom: \"maxzoom\", tileSize: \"tileSize\", scheme: \"scheme\", attribution: \"attribution\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: RasterSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-raster-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], url: [{\n                type: Input\n            }], tiles: [{\n                type: Input\n            }], bounds: [{\n                type: Input\n            }], minzoom: [{\n                type: Input\n            }], maxzoom: [{\n                type: Input\n            }], tileSize: [{\n                type: Input\n            }], scheme: [{\n                type: Input\n            }], attribution: [{\n                type: Input\n            }] } });\n\nclass VectorSourceComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.type = 'vector';\n        this.sourceAdded = false;\n        this.sub = new Subscription();\n    }\n    ngOnInit() {\n        const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n            this.init();\n            const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n                .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n                .subscribe(() => {\n                this.init();\n            });\n            this.sub.add(sub);\n        });\n        this.sub.add(sub1);\n    }\n    ngOnChanges(changes) {\n        if (!this.sourceAdded) {\n            return;\n        }\n        if ((changes['bounds'] && !changes['bounds'].isFirstChange()) ||\n            (changes['scheme'] && !changes['scheme'].isFirstChange()) ||\n            (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n            (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n            (changes['attribution'] && !changes['attribution'].isFirstChange()) ||\n            (changes['promoteId'] && !changes['promoteId'].isFirstChange())) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n        else if ((changes['url'] && !changes['url'].isFirstChange()) ||\n            (changes['tiles'] && !changes['tiles'].isFirstChange())) {\n            const source = this.mapService.getSource(this.id);\n            if (source === undefined) {\n                return;\n            }\n            if (changes['url'] && this.url) {\n                source.setUrl(this.url);\n            }\n            if (changes['tiles'] && this.tiles) {\n                source.setTiles(this.tiles);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n        if (this.sourceAdded) {\n            this.mapService.removeSource(this.id);\n            this.sourceAdded = false;\n        }\n    }\n    init() {\n        const source = {\n            type: this.type,\n            url: this.url,\n            tiles: this.tiles,\n            bounds: this.bounds,\n            scheme: this.scheme,\n            minzoom: this.minzoom,\n            maxzoom: this.maxzoom,\n            attribution: this.attribution,\n            promoteId: this.promoteId,\n        };\n        this.mapService.addSource(this.id, source);\n        this.sourceAdded = true;\n    }\n}\nVectorSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: VectorSourceComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nVectorSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: VectorSourceComponent, selector: \"mgl-vector-source\", inputs: { id: \"id\", url: \"url\", tiles: \"tiles\", bounds: \"bounds\", scheme: \"scheme\", minzoom: \"minzoom\", maxzoom: \"maxzoom\", attribution: \"attribution\", promoteId: \"promoteId\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: VectorSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-vector-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], url: [{\n                type: Input\n            }], tiles: [{\n                type: Input\n            }], bounds: [{\n                type: Input\n            }], scheme: [{\n                type: Input\n            }], minzoom: [{\n                type: Input\n            }], maxzoom: [{\n                type: Input\n            }], attribution: [{\n                type: Input\n            }], promoteId: [{\n                type: Input\n            }] } });\n\nclass VideoSourceComponent {\n    constructor(mapService) {\n        this.mapService = mapService;\n        this.sourceAdded = false;\n        this.sub = new Subscription();\n    }\n    ngOnInit() {\n        const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n            this.init();\n            const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n                .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n                .subscribe(() => {\n                this.init();\n            });\n            this.sub.add(sub);\n        });\n        this.sub.add(sub1);\n    }\n    ngOnChanges(changes) {\n        if (!this.sourceAdded) {\n            return;\n        }\n        if (changes['urls'] && !changes['urls'].isFirstChange()) {\n            this.ngOnDestroy();\n            this.ngOnInit();\n        }\n        else if (changes['coordinates'] &&\n            !changes['coordinates'].isFirstChange()) {\n            const source = this.mapService.getSource(this.id);\n            if (source === undefined) {\n                return;\n            }\n            source.setCoordinates(this.coordinates);\n        }\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n        if (this.sourceAdded) {\n            this.mapService.removeSource(this.id);\n            this.sourceAdded = false;\n        }\n    }\n    init() {\n        const source = {\n            type: 'video',\n            urls: this.urls,\n            coordinates: this.coordinates,\n        };\n        this.mapService.addSource(this.id, source);\n        this.sourceAdded = true;\n    }\n}\nVideoSourceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: VideoSourceComponent, deps: [{ token: MapService }], target: i0.ɵɵFactoryTarget.Component });\nVideoSourceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.1.1\", type: VideoSourceComponent, selector: \"mgl-video-source\", inputs: { id: \"id\", urls: \"urls\", coordinates: \"coordinates\" }, usesOnChanges: true, ngImport: i0, template: '', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: VideoSourceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mgl-video-source',\n                    template: '',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: MapService }]; }, propDecorators: { id: [{\n                type: Input\n            }], urls: [{\n                type: Input\n            }], coordinates: [{\n                type: Input\n            }] } });\n\nclass NgxMapboxGLModule {\n    static withConfig(config) {\n        return {\n            ngModule: NgxMapboxGLModule,\n            providers: [\n                {\n                    provide: MAPBOX_API_KEY,\n                    useValue: config.accessToken,\n                },\n            ],\n        };\n    }\n}\nNgxMapboxGLModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: NgxMapboxGLModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNgxMapboxGLModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.1.1\", ngImport: i0, type: NgxMapboxGLModule, declarations: [MapComponent,\n        LayerComponent,\n        DraggableDirective,\n        ImageComponent,\n        VectorSourceComponent,\n        GeoJSONSourceComponent,\n        RasterDemSourceComponent,\n        RasterSourceComponent,\n        ImageSourceComponent,\n        VideoSourceComponent,\n        CanvasSourceComponent,\n        FeatureComponent,\n        MarkerComponent,\n        PopupComponent,\n        ControlComponent,\n        FullscreenControlDirective,\n        NavigationControlDirective,\n        GeolocateControlDirective,\n        AttributionControlDirective,\n        ScaleControlDirective,\n        PointDirective,\n        ClusterPointDirective,\n        MarkersForClustersComponent], imports: [CommonModule], exports: [MapComponent,\n        LayerComponent,\n        DraggableDirective,\n        ImageComponent,\n        VectorSourceComponent,\n        GeoJSONSourceComponent,\n        RasterDemSourceComponent,\n        RasterSourceComponent,\n        ImageSourceComponent,\n        VideoSourceComponent,\n        CanvasSourceComponent,\n        FeatureComponent,\n        MarkerComponent,\n        PopupComponent,\n        ControlComponent,\n        FullscreenControlDirective,\n        NavigationControlDirective,\n        GeolocateControlDirective,\n        AttributionControlDirective,\n        ScaleControlDirective,\n        PointDirective,\n        ClusterPointDirective,\n        MarkersForClustersComponent] });\nNgxMapboxGLModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: NgxMapboxGLModule, imports: [CommonModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.1.1\", ngImport: i0, type: NgxMapboxGLModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    declarations: [\n                        MapComponent,\n                        LayerComponent,\n                        DraggableDirective,\n                        ImageComponent,\n                        VectorSourceComponent,\n                        GeoJSONSourceComponent,\n                        RasterDemSourceComponent,\n                        RasterSourceComponent,\n                        ImageSourceComponent,\n                        VideoSourceComponent,\n                        CanvasSourceComponent,\n                        FeatureComponent,\n                        MarkerComponent,\n                        PopupComponent,\n                        ControlComponent,\n                        FullscreenControlDirective,\n                        NavigationControlDirective,\n                        GeolocateControlDirective,\n                        AttributionControlDirective,\n                        ScaleControlDirective,\n                        PointDirective,\n                        ClusterPointDirective,\n                        MarkersForClustersComponent,\n                    ],\n                    exports: [\n                        MapComponent,\n                        LayerComponent,\n                        DraggableDirective,\n                        ImageComponent,\n                        VectorSourceComponent,\n                        GeoJSONSourceComponent,\n                        RasterDemSourceComponent,\n                        RasterSourceComponent,\n                        ImageSourceComponent,\n                        VideoSourceComponent,\n                        CanvasSourceComponent,\n                        FeatureComponent,\n                        MarkerComponent,\n                        PopupComponent,\n                        ControlComponent,\n                        FullscreenControlDirective,\n                        NavigationControlDirective,\n                        GeolocateControlDirective,\n                        AttributionControlDirective,\n                        ScaleControlDirective,\n                        PointDirective,\n                        ClusterPointDirective,\n                        MarkersForClustersComponent,\n                    ],\n                }]\n        }] });\n\n/*\n * Public API Surface of ngx-mapbox-gl\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AttributionControlDirective, CanvasSourceComponent, ClusterPointDirective, ControlComponent, CustomControl, DraggableDirective, FeatureComponent, FullscreenControlDirective, GeoJSONSourceComponent, GeolocateControlDirective, ImageComponent, ImageSourceComponent, LayerComponent, MAPBOX_API_KEY, MapComponent, MapService, MarkerComponent, MarkersForClustersComponent, NavigationControlDirective, NgxMapboxGLModule, PointDirective, PopupComponent, RasterDemSourceComponent, RasterSourceComponent, ScaleControlDirective, VectorSourceComponent, VideoSourceComponent, deprecationWarning };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}