{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./settings.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./settings.page.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { App } from '@capacitor/app';\nimport { Share } from '@capacitor/share';\nimport { RateApp } from 'capacitor-rate-app';\n//import packageJson from 'package.json';\nimport { environment } from 'src/environments/environment';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AppService } from 'src/app/services/app.service';\nlet SettingsPage = class SettingsPage {\n  constructor(platform, app, alert) {\n    this.platform = platform;\n    this.app = app;\n    this.alert = alert;\n    this.notifications = true;\n    this.version = '1.0.0';\n    if (!environment.production) {\n      //this.version = packageJson.version;\n    }\n  }\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (this.platform.is('hybrid')) {\n        const info = yield App.getInfo();\n        this.version = info.version;\n      }\n      this.settings = yield this.app.getSettings();\n      this.notifications = this.settings.notifications;\n    });\n  }\n  onNotificationsChange(state) {\n    this.settings.notifications = state;\n    this.app.setSettings(this.settings);\n  }\n  toggleNotifications(event) {\n    if (event.target.localName && event.target.localName !== 'ion-toggle') {\n      this.notifications = !this.notifications;\n      this.onNotificationsChange(this.notifications);\n    }\n  }\n  review() {\n    RateApp.requestReview();\n  }\n  share() {\n    Share.share({\n      title: 'Besoin d\\'aide pour les services de dépannage. https://www.soutramoi.com',\n      url: 'https://www.soutramoi.com/',\n      dialogTitle: 'SoutraMoi'\n    });\n  }\n  link(url) {\n    window.open(url, '_blank').focus();\n  }\n  about() {\n    this.alert.present({\n      background: '#FFFFFF',\n      showCancelButton: false,\n      showConfirmButton: true,\n      customClass: {\n        container: 'about-dialog-content',\n        confirmButton: 'about-dialog-button'\n      },\n      html: `\n        <div class=\"about-dialog-body\">\n          <img src=\"assets/img/logo-name-dark.png\" alt=\"SoutraMoi\" class=\"logo\">\n          <p>\n            SoutraMoi est la plateforme de référence qui vous met en relation avec des professionnels à proximité de chez vous, pour tous type de service.\n          </p>\n          <h5>Pour en savoir plus, visitez :</h5>\n          <h4><a href=\"https://www.soutramoi.com/\" target=\"blank\">www.soutramoi.com</a></h4>\n          <div class=\"version\">Version ${this.version}</div>\n          <div class=\"author\">Conçu par Soutramoi</div>\n        </div>\n      `\n    });\n  }\n};\nSettingsPage.ctorParameters = () => [{\n  type: Platform\n}, {\n  type: AppService\n}, {\n  type: AlertService\n}];\nSettingsPage = __decorate([Component({\n  selector: 'app-settings',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], SettingsPage);\nexport { SettingsPage };","map":{"version":3,"mappings":";;;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,QAAQ,QAAQ,gBAAgB;AAEzC,SAASC,GAAG,QAAQ,gBAAgB;AACpC,SAASC,KAAK,QAAQ,kBAAkB;AACxC,SAASC,OAAO,QAAQ,oBAAoB;AAE5C;AACA,SAASC,WAAW,QAAQ,8BAA8B;AAE1D,SAASC,YAAY,QAAQ,gCAAgC;AAC7D,SAASC,UAAU,QAAQ,8BAA8B;AAOlD,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAKvBC,YACUC,QAAkB,EAClBC,GAAe,EACfC,KAAmB;IAFnB,aAAQ,GAARF,QAAQ;IACR,QAAG,GAAHC,GAAG;IACH,UAAK,GAALC,KAAK;IANf,kBAAa,GAAG,IAAI;IACpB,YAAO,GAAG,OAAO;IAOf,IAAI,CAACP,WAAW,CAACQ,UAAU,EAAE;MAC3B;IAAA;EAEJ;EAEMC,QAAQ;;MACZ,IAAI,IAAI,CAACJ,QAAQ,CAACK,EAAE,CAAC,QAAQ,CAAC,EAAE;QAC9B,MAAMC,IAAI,GAAG,MAAMd,GAAG,CAACe,OAAO,EAAE;QAChC,IAAI,CAACC,OAAO,GAAGF,IAAI,CAACE,OAAO;;MAG7B,IAAI,CAACC,QAAQ,GAAG,MAAM,IAAI,CAACR,GAAG,CAACS,WAAW,EAAE;MAC5C,IAAI,CAACC,aAAa,GAAG,IAAI,CAACF,QAAQ,CAACE,aAAa;IAClD,CAAC;;EAEDC,qBAAqB,CAACC,KAAc;IAClC,IAAI,CAACJ,QAAQ,CAACE,aAAa,GAAGE,KAAK;IACnC,IAAI,CAACZ,GAAG,CAACa,WAAW,CAAC,IAAI,CAACL,QAAQ,CAAC;EACrC;EAEAM,mBAAmB,CAACC,KAAK;IACvB,IAAIA,KAAK,CAACC,MAAM,CAACC,SAAS,IAAIF,KAAK,CAACC,MAAM,CAACC,SAAS,KAAK,YAAY,EAAE;MACrE,IAAI,CAACP,aAAa,GAAG,CAAC,IAAI,CAACA,aAAa;MACxC,IAAI,CAACC,qBAAqB,CAAC,IAAI,CAACD,aAAa,CAAC;;EAElD;EAEAQ,MAAM;IACJzB,OAAO,CAAC0B,aAAa,EAAE;EACzB;EAEAC,KAAK;IACH5B,KAAK,CAAC4B,KAAK,CAAC;MACVC,KAAK,EAAE,0EAA0E;MACjFC,GAAG,EAAE,4BAA4B;MACjCC,WAAW,EAAE;KACd,CAAC;EACJ;EAEAC,IAAI,CAACF,GAAW;IACdG,MAAM,CAACC,IAAI,CAACJ,GAAG,EAAE,QAAQ,CAAC,CAACK,KAAK,EAAE;EACpC;EAEAC,KAAK;IACH,IAAI,CAAC3B,KAAK,CAAC4B,OAAO,CAAC;MACjBC,UAAU,EAAE,SAAS;MACrBC,gBAAgB,EAAE,KAAK;MACvBC,iBAAiB,EAAE,IAAI;MACvBC,WAAW,EAAE;QACXC,SAAS,EAAE,sBAAsB;QACjCC,aAAa,EAAE;OAChB;MACDC,IAAI,EAAE;;;;;;;;yCAQ6B,IAAI,CAAC7B,OAAO;;;;KAIhD,CAAC;EACJ;;;;;;;;;AA3EWV,YAAY,eALxBR,SAAS,CAAC;EACTgD,QAAQ,EAAE,cAAc;EACxBC,8BAAmC;;CAEpC,CAAC,GACWzC,YAAY,CA4ExB;SA5EYA,YAAY","names":["Component","Platform","App","Share","RateApp","environment","AlertService","AppService","SettingsPage","constructor","platform","app","alert","production","ngOnInit","is","info","getInfo","version","settings","getSettings","notifications","onNotificationsChange","state","setSettings","toggleNotifications","event","target","localName","review","requestReview","share","title","url","dialogTitle","link","window","open","focus","about","present","background","showCancelButton","showConfirmButton","customClass","container","confirmButton","html","selector","template"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/pages/settings/settings.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Platform } from '@ionic/angular';\n\nimport { App } from '@capacitor/app';\nimport { Share } from '@capacitor/share';\nimport { RateApp } from 'capacitor-rate-app';\n\n//import packageJson from 'package.json';\nimport { environment } from 'src/environments/environment';\n\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AppService } from 'src/app/services/app.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n  settings: Settings;\n  notifications = true;\n  version = '1.0.0';\n\n  constructor(\n    private platform: Platform,\n    private app: AppService,\n    private alert: AlertService,\n  ) {\n    if (!environment.production) {\n      //this.version = packageJson.version;\n    }\n  }\n\n  async ngOnInit() {\n    if (this.platform.is('hybrid')) {\n      const info = await App.getInfo();\n      this.version = info.version;\n    }\n\n    this.settings = await this.app.getSettings();\n    this.notifications = this.settings.notifications;\n  }\n\n  onNotificationsChange(state: boolean) {\n    this.settings.notifications = state;\n    this.app.setSettings(this.settings);\n  }\n\n  toggleNotifications(event) {\n    if (event.target.localName && event.target.localName !== 'ion-toggle') {\n      this.notifications = !this.notifications;\n      this.onNotificationsChange(this.notifications);\n    }\n  }\n\n  review() {\n    RateApp.requestReview();\n  }\n\n  share() {\n    Share.share({\n      title: 'Besoin d\\'aide pour les services de dépannage. https://www.soutramoi.com',\n      url: 'https://www.soutramoi.com/',\n      dialogTitle: 'SoutraMoi',\n    });\n  }\n\n  link(url: string) {\n    window.open(url, '_blank').focus();\n  }\n\n  about() {\n    this.alert.present({\n      background: '#FFFFFF',\n      showCancelButton: false,\n      showConfirmButton: true,\n      customClass: {\n        container: 'about-dialog-content',\n        confirmButton: 'about-dialog-button',\n      },\n      html: `\n        <div class=\"about-dialog-body\">\n          <img src=\"assets/img/logo-name-dark.png\" alt=\"SoutraMoi\" class=\"logo\">\n          <p>\n            SoutraMoi est la plateforme de référence qui vous met en relation avec des professionnels à proximité de chez vous, pour tous type de service.\n          </p>\n          <h5>Pour en savoir plus, visitez :</h5>\n          <h4><a href=\"https://www.soutramoi.com/\" target=\"blank\">www.soutramoi.com</a></h4>\n          <div class=\"version\">Version ${this.version}</div>\n          <div class=\"author\">Conçu par Soutramoi</div>\n        </div>\n      `,\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}