{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StorageService } from 'src/app/services/storage.service';\nlet RegisterNextGuard = class RegisterNextGuard {\n  constructor(router, storage) {\n    this.router = router;\n    this.storage = storage;\n  }\n  canActivate(route, state) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const tmp = yield this.storage.get('soutramoi_tmp_register');\n      const keys = Object.keys(tmp);\n      if (keys.includes('name') && keys.includes('phone') && keys.includes('email') && keys.includes('password')) {\n        return true;\n      }\n      this.router.navigate(['/auth/register']);\n      return false;\n    });\n  }\n};\nRegisterNextGuard.ctorParameters = () => [{\n  type: Router\n}, {\n  type: StorageService\n}];\nRegisterNextGuard = __decorate([Injectable({\n  providedIn: 'root'\n})], RegisterNextGuard);\nexport { RegisterNextGuard };","map":{"version":3,"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAA8CC,MAAM,QAA6B,iBAAiB;AAElG,SAASC,cAAc,QAAQ,kCAAkC;AAG1D,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAC5BC,YACUC,MAAc,EACdC,OAAuB;IADvB,WAAM,GAAND,MAAM;IACN,YAAO,GAAPC,OAAO;EACb;EAEEC,WAAW,CAACC,KAA6B,EAAEC,KAA0B;;MACzE,MAAMC,GAAG,GAAG,MAAM,IAAI,CAACJ,OAAO,CAACK,GAAG,CAAC,wBAAwB,CAAC;MAC5D,MAAMC,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACF,GAAG,CAAC;MAE7B,IAAIE,IAAI,CAACE,QAAQ,CAAC,MAAM,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,OAAO,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,OAAO,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,UAAU,CAAC,EAAE;QAC1G,OAAO,IAAI;;MAGb,IAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;MAExC,OAAO,KAAK;IACd,CAAC;;;;;;;;AAjBUZ,iBAAiB,eAD7BH,UAAU,CAAC;EAAEgB,UAAU,EAAE;AAAM,CAAE,CAAC,GACtBb,iBAAiB,CAkB7B;SAlBYA,iBAAiB","names":["Injectable","Router","StorageService","RegisterNextGuard","constructor","router","storage","canActivate","route","state","tmp","get","keys","Object","includes","navigate","providedIn"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/pages/auth/register-next/register-next.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\n\nimport { StorageService } from 'src/app/services/storage.service';\n\n@Injectable({ providedIn: 'root' })\nexport class RegisterNextGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private storage: StorageService,\n  ) { }\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    const tmp = await this.storage.get('soutramoi_tmp_register');\n    const keys = Object.keys(tmp);\n\n    if (keys.includes('name') && keys.includes('phone') && keys.includes('email') && keys.includes('password')) {\n      return true;\n    }\n\n    this.router.navigate(['/auth/register']);\n\n    return false;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}