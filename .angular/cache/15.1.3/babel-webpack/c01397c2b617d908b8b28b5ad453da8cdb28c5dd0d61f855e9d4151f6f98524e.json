{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./pro-reviews-list.component.scss?ngResource\";\nimport { Component, Input, ViewChild } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { StatusBar, Style } from '@capacitor/status-bar';\nlet ProReviewsListComponent = class ProReviewsListComponent {\n  constructor(platform) {\n    this.platform = platform;\n    this.limit = 3;\n    this.perpage = 10;\n    this.loading = false;\n    this.filterRule = '*';\n    this.filters = [];\n    this.modalItems = [];\n    this.items = [{\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2022-01-13 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 4\n    }, {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-09-25 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 5\n    }, {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1\n    }, {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1\n    }, {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1\n    }, {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1\n    }, {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1\n    }];\n    this.subscriptions = [];\n    this.filters = [{\n      rule: '*',\n      label: 'Tous'\n    }, {\n      rule: '>',\n      label: 'Positifs'\n    }, {\n      rule: '<',\n      label: 'Négatifs'\n    }, {\n      rule: '=5',\n      label: '5 étoiles'\n    }, {\n      rule: '=4',\n      label: '4 étoiles'\n    }, {\n      rule: '=3',\n      label: '3 étoiles'\n    }, {\n      rule: '=2',\n      label: '2 étoiles'\n    }, {\n      rule: '=1',\n      label: '1 étoile'\n    }];\n  }\n  ngOnInit() {}\n  onDidEnter() {\n    this.loading = true;\n    if (this.platform.is('hybrid')) {\n      StatusBar.setStyle({\n        style: Style.Light\n      });\n    }\n    setTimeout(() => {\n      this.modalItems = this.items;\n      this.loading = false;\n    }, 1500);\n    const sub = this.platform.backButton.subscribeWithPriority(11, () => {\n      if (this.modal.isOpen) {\n        this.dismiss();\n      }\n    });\n    this.subscriptions.push(sub);\n  }\n  onDidLeave() {\n    if (this.platform.is('hybrid')) {\n      StatusBar.setStyle({\n        style: Style.Dark\n      });\n    }\n    this.modalItems = [];\n    this.loading = false;\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n  present() {\n    return __awaiter(this, void 0, void 0, function* () {\n      yield this.modal.present();\n      return this.onDidEnter();\n    });\n  }\n  dismiss() {\n    return __awaiter(this, void 0, void 0, function* () {\n      yield this.modal.dismiss();\n      return this.onDidLeave();\n    });\n  }\n  filter(rule) {\n    this.filterRule = rule;\n  }\n};\nProReviewsListComponent.ctorParameters = () => [{\n  type: Platform\n}];\nProReviewsListComponent.propDecorators = {\n  modal: [{\n    type: ViewChild,\n    args: ['modalComments']\n  }],\n  profile: [{\n    type: Input\n  }]\n};\nProReviewsListComponent = __decorate([Component({\n  selector: 'pro-reviews-list',\n  template: `\n    <ng-container *ngIf=\"items.length\">\n      <div class=\"profile-heading\">\n        Notes et avis\n        <button type=\"button\" class=\"after\" (click)=\"present()\">\n          <ion-icon src=\"assets/icons/arrow-back.svg\"></ion-icon>\n        </button>\n      </div>\n      <reviews-counter></reviews-counter>\n      <hr class=\"divider\">\n      <div class=\"reviews-comments\">\n        <reviews-comment *ngFor=\"let item of items.slice(0, limit);\" [item]=\"item\"></reviews-comment>\n      </div>\n      <div class=\"reviews-more\" *ngIf=\"items.length > limit\">\n        <button type=\"button\" (click)=\"present()\">Afficher plus d'avis</button>\n      </div>\n    </ng-container>\n\n    <ion-modal #modalComments [isOpen]=\"false\">\n      <ng-template>\n        <app-page [backgroundColor]=\"'#FFFFFF'\">\n          <app-navbar [end]=\"false\" [darkContent]=\"true\" [shadow]=\"true\" [titleCentered]=\"false\">\n            <button type=\"button\" slot=\"start\" (click)=\"dismiss()\">\n              <ion-icon src=\"assets/icons/back.svg\"></ion-icon>\n            </button>\n            <div class=\"profile-user\" slot=\"center\">\n              <app-avatar [url]=\"profile.photoUrl\" [size]=\"35\" [radius]=\"7\"></app-avatar>\n              <div class=\"info\">\n                <h4 slot=\"center\">{{ profile.name }}</h4>\n                <h5 slot=\"center\">{{ profile.job }}</h5>\n              </div>\n            </div>\n          </app-navbar>\n          <app-content [shadowScrolling]=\"false\">\n            <div class=\"content-filter\">\n              <ng-container *ngFor=\"let item of filters\">\n                <button\n                  type=\"button\"\n                  [ngClass]=\"{active: item.rule === filterRule}\"\n                  [disabled]=\"loading\"\n                  (click)=\"filter(item.rule)\"\n                >{{ item.label }}</button>\n              </ng-container>\n            </div>\n            <div class=\"content-body\">\n              <div class=\"reviews-comments\" *ngIf=\"!loading && modalItems.length > 0\">\n                <reviews-comment *ngFor=\"let item of modalItems\" [item]=\"item\"></reviews-comment>\n              </div>\n              <div class=\"reviews-loader\" *ngIf=\"loading\">\n                <app-spinner [color]=\"'rgba(var(--ion-color-primary-rgb), 0.8)'\" [width]=\"100\"></app-spinner>\n              </div>\n            </div>\n          </app-content>\n        </app-page>\n      </ng-template>\n    </ion-modal>\n  `,\n  styles: [__NG_CLI_RESOURCE__0]\n})], ProReviewsListComponent);\nexport { ProReviewsListComponent };","map":{"version":3,"mappings":"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","names":["Component","Input","ViewChild","Platform","StatusBar","Style","ProReviewsListComponent","constructor","platform","name","photoUrl","created","message","rate","filters","rule","label","ngOnInit","onDidEnter","loading","is","setStyle","style","Light","setTimeout","modalItems","items","sub","backButton","subscribeWithPriority","modal","isOpen","dismiss","subscriptions","push","onDidLeave","Dark","forEach","unsubscribe","present","filter","filterRule","args","selector","template"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/pages/pro/components/pro-reviews-list.component.ts"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { IonModal, Platform } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { StatusBar, Style } from '@capacitor/status-bar';\n\ntype FilterRule = '*' | '>' | '<' | '=5' | '=4' | '=3' | '=2' | '=1';\n\n@Component({\n  selector: 'pro-reviews-list',\n  styleUrls: ['./pro-reviews-list.component.scss'],\n  template: `\n    <ng-container *ngIf=\"items.length\">\n      <div class=\"profile-heading\">\n        Notes et avis\n        <button type=\"button\" class=\"after\" (click)=\"present()\">\n          <ion-icon src=\"assets/icons/arrow-back.svg\"></ion-icon>\n        </button>\n      </div>\n      <reviews-counter></reviews-counter>\n      <hr class=\"divider\">\n      <div class=\"reviews-comments\">\n        <reviews-comment *ngFor=\"let item of items.slice(0, limit);\" [item]=\"item\"></reviews-comment>\n      </div>\n      <div class=\"reviews-more\" *ngIf=\"items.length > limit\">\n        <button type=\"button\" (click)=\"present()\">Afficher plus d'avis</button>\n      </div>\n    </ng-container>\n\n    <ion-modal #modalComments [isOpen]=\"false\">\n      <ng-template>\n        <app-page [backgroundColor]=\"'#FFFFFF'\">\n          <app-navbar [end]=\"false\" [darkContent]=\"true\" [shadow]=\"true\" [titleCentered]=\"false\">\n            <button type=\"button\" slot=\"start\" (click)=\"dismiss()\">\n              <ion-icon src=\"assets/icons/back.svg\"></ion-icon>\n            </button>\n            <div class=\"profile-user\" slot=\"center\">\n              <app-avatar [url]=\"profile.photoUrl\" [size]=\"35\" [radius]=\"7\"></app-avatar>\n              <div class=\"info\">\n                <h4 slot=\"center\">{{ profile.name }}</h4>\n                <h5 slot=\"center\">{{ profile.job }}</h5>\n              </div>\n            </div>\n          </app-navbar>\n          <app-content [shadowScrolling]=\"false\">\n            <div class=\"content-filter\">\n              <ng-container *ngFor=\"let item of filters\">\n                <button\n                  type=\"button\"\n                  [ngClass]=\"{active: item.rule === filterRule}\"\n                  [disabled]=\"loading\"\n                  (click)=\"filter(item.rule)\"\n                >{{ item.label }}</button>\n              </ng-container>\n            </div>\n            <div class=\"content-body\">\n              <div class=\"reviews-comments\" *ngIf=\"!loading && modalItems.length > 0\">\n                <reviews-comment *ngFor=\"let item of modalItems\" [item]=\"item\"></reviews-comment>\n              </div>\n              <div class=\"reviews-loader\" *ngIf=\"loading\">\n                <app-spinner [color]=\"'rgba(var(--ion-color-primary-rgb), 0.8)'\" [width]=\"100\"></app-spinner>\n              </div>\n            </div>\n          </app-content>\n        </app-page>\n      </ng-template>\n    </ion-modal>\n  `\n})\nexport class ProReviewsListComponent implements OnInit {\n  @ViewChild('modalComments') modal: IonModal;\n  @Input() profile: Professional;\n\n  readonly limit = 3;\n  readonly perpage = 10;\n\n  loading = false;\n  filterRule: FilterRule = '*';\n  filters: { rule: FilterRule; label: string }[] = [];\n\n  modalItems: ReviewItem[] = [];\n  items: ReviewItem[] = [\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2022-01-13 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 4,\n    },\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-09-25 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 5,\n    },\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1,\n    },\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1,\n    },\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1,\n    },\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1,\n    },\n    {\n      name: 'Flora Kouassi',\n      photoUrl: 'assets/img/profile.jpg',\n      created: '2021-08-18 12:36:20',\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis obcaecati itaque ad iste…',\n      rate: 1,\n    }\n  ];\n\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private platform: Platform,\n  ) {\n    this.filters = [\n      { rule: '*', label: 'Tous' },\n      { rule: '>', label: 'Positifs' },\n      { rule: '<', label: 'Négatifs' },\n      { rule: '=5', label: '5 étoiles' },\n      { rule: '=4', label: '4 étoiles' },\n      { rule: '=3', label: '3 étoiles' },\n      { rule: '=2', label: '2 étoiles' },\n      { rule: '=1', label: '1 étoile' },\n    ];\n  }\n\n  ngOnInit() { }\n\n  onDidEnter() {\n    this.loading = true;\n\n    if (this.platform.is('hybrid')) {\n      StatusBar.setStyle({ style: Style.Light });\n    }\n\n    setTimeout(() => {\n      this.modalItems = this.items;\n      this.loading = false;\n    }, 1500);\n\n    const sub = this.platform.backButton.subscribeWithPriority(11, () => {\n      if (this.modal.isOpen) {\n        this.dismiss();\n      }\n    });\n\n    this.subscriptions.push(sub);\n  }\n\n  onDidLeave() {\n    if (this.platform.is('hybrid')) {\n      StatusBar.setStyle({ style: Style.Dark });\n    }\n\n    this.modalItems = [];\n    this.loading = false;\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  async present() {\n    await this.modal.present();\n    return this.onDidEnter();\n  }\n\n  async dismiss() {\n    await this.modal.dismiss();\n    return this.onDidLeave();\n  }\n\n  filter(rule: FilterRule) {\n    this.filterRule = rule;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}