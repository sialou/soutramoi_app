{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./professional-card.component.scss?ngResource\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nlet ProfessionalCardComponent = class ProfessionalCardComponent {\n  constructor(router) {\n    this.router = router;\n    this.columned = false;\n    this.external = new EventEmitter();\n    this.stars = [];\n  }\n  ngOnInit() {\n    this.stars = this.getStars(this.item.rate);\n  }\n  open(event) {\n    if (event.target.classList.contains('like')) {\n      return;\n    }\n    if (this.external.observers.length) {\n      this.external.emit(this.item);\n    } else {\n      this.router.navigate(['/pro', this.item.id]);\n    }\n  }\n  like() {\n    this.item.liked = !this.item.liked;\n    this.item.likes += this.item.liked ? 1 : -1;\n  }\n  getStars(rate) {\n    const stars = [];\n    for (let i = 0; i < rate; i++) {\n      stars.push('assets/icons/star.svg');\n    }\n    for (let i = rate; i < 5; i++) {\n      stars.push('assets/icons/star-outline.svg');\n    }\n    return stars;\n  }\n};\nProfessionalCardComponent.ctorParameters = () => [{\n  type: Router\n}];\nProfessionalCardComponent.propDecorators = {\n  item: [{\n    type: Input\n  }],\n  columned: [{\n    type: Input\n  }],\n  external: [{\n    type: Output\n  }]\n};\nProfessionalCardComponent = __decorate([Component({\n  selector: 'app-professional-card',\n  template: `\n    <div class=\"inner\" [ngClass]=\"{columned: columned}\" (click)=\"open($event)\">\n      <div class=\"media\">\n        <app-avatar [url]=\"item.photoUrl\" [size]=\"columned ? 35 : 80\" [radius]=\"columned ? '50%' : 7\"></app-avatar>\n        <div class=\"cover\" *ngIf=\"columned && !item.coverUrl\"></div>\n        <div class=\"cover\" *ngIf=\"columned && item.coverUrl\" [style.background-image]=\"'url(' + item.coverUrl + ')'\"></div>\n      </div>\n      <div class=\"info\">\n        <div class=\"job\">{{ item.job }}</div>\n        <div class=\"doc\">\n          <div class=\"name\">{{ item.name }}</div>\n          <div class=\"location\">{{ item.location }}</div>\n        </div>\n        <div class=\"stats\">\n          <div class=\"stars\">\n            <ion-icon *ngFor=\"let star of stars\" [src]=\"star\"></ion-icon>\n          </div>\n          <div class=\"like\" [class.liked]=\"item.liked\" (click)=\"like()\">\n            <div class=\"like-counter\">{{ item.likes }}</div>\n            <button type=\"button\" class=\"like-button\">\n              <ion-icon [src]=\"item.liked ? 'assets/icons/heart.svg' : 'assets/icons/heart-outline.svg'\"></ion-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [__NG_CLI_RESOURCE__0]\n})], ProfessionalCardComponent);\nexport { ProfessionalCardComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,EAAEC,YAAY,EAAEC,KAAK,EAAUC,MAAM,QAAQ,eAAe;AAC9E,SAASC,MAAM,QAAQ,iBAAiB;AAiCjC,IAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAQpCC,YAAoBC,MAAc;IAAd,WAAM,GAANA,MAAM;IANjB,aAAQ,GAAG,KAAK;IAEf,aAAQ,GAAG,IAAIN,YAAY,EAAgB;IAErD,UAAK,GAAa,EAAE;EAEkB;EAEtCO,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,IAAI,CAACC,IAAI,CAAC;EAC5C;EAEAC,IAAI,CAACC,KAAU;IACb,IAAKA,KAAK,CAACC,MAAkB,CAACC,SAAS,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;MACxD;;IAGF,IAAI,IAAI,CAACC,QAAQ,CAACC,SAAS,CAACC,MAAM,EAAE;MAClC,IAAI,CAACF,QAAQ,CAACG,IAAI,CAAC,IAAI,CAACV,IAAI,CAAC;KAC9B,MAAM;MACL,IAAI,CAACJ,MAAM,CAACe,QAAQ,CAAC,CAAC,MAAM,EAAE,IAAI,CAACX,IAAI,CAACY,EAAE,CAAC,CAAC;;EAEhD;EAEAC,IAAI;IACF,IAAI,CAACb,IAAI,CAACc,KAAK,GAAG,CAAC,IAAI,CAACd,IAAI,CAACc,KAAK;IAClC,IAAI,CAACd,IAAI,CAACe,KAAK,IAAI,IAAI,CAACf,IAAI,CAACc,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;EAC7C;EAEQf,QAAQ,CAACE,IAAY;IAC3B,MAAMH,KAAK,GAAa,EAAE;IAE1B,KAAK,IAAIkB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,IAAI,EAAEe,CAAC,EAAE,EAAE;MAC7BlB,KAAK,CAACmB,IAAI,CAAC,uBAAuB,CAAC;;IAGrC,KAAK,IAAID,CAAC,GAAGf,IAAI,EAAEe,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC7BlB,KAAK,CAACmB,IAAI,CAAC,+BAA+B,CAAC;;IAG7C,OAAOnB,KAAK;EACd;;;;;;;UA1CCP;EAAK;;UACLA;EAAK;;UAELC;EAAM;;AAJIE,yBAAyB,eA/BrCL,SAAS,CAAC;EACT6B,QAAQ,EAAE,uBAAuB;EAEjCC,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;GA0BT;;CACF,CAAC,GACWzB,yBAAyB,CA4CrC;SA5CYA,yBAAyB","names":["Component","EventEmitter","Input","Output","Router","ProfessionalCardComponent","constructor","router","ngOnInit","stars","getStars","item","rate","open","event","target","classList","contains","external","observers","length","emit","navigate","id","like","liked","likes","i","push","selector","template"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/shared/professional-card/professional-card.component.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-professional-card',\n  styleUrls: ['./professional-card.component.scss'],\n  template: `\n    <div class=\"inner\" [ngClass]=\"{columned: columned}\" (click)=\"open($event)\">\n      <div class=\"media\">\n        <app-avatar [url]=\"item.photoUrl\" [size]=\"columned ? 35 : 80\" [radius]=\"columned ? '50%' : 7\"></app-avatar>\n        <div class=\"cover\" *ngIf=\"columned && !item.coverUrl\"></div>\n        <div class=\"cover\" *ngIf=\"columned && item.coverUrl\" [style.background-image]=\"'url(' + item.coverUrl + ')'\"></div>\n      </div>\n      <div class=\"info\">\n        <div class=\"job\">{{ item.job }}</div>\n        <div class=\"doc\">\n          <div class=\"name\">{{ item.name }}</div>\n          <div class=\"location\">{{ item.location }}</div>\n        </div>\n        <div class=\"stats\">\n          <div class=\"stars\">\n            <ion-icon *ngFor=\"let star of stars\" [src]=\"star\"></ion-icon>\n          </div>\n          <div class=\"like\" [class.liked]=\"item.liked\" (click)=\"like()\">\n            <div class=\"like-counter\">{{ item.likes }}</div>\n            <button type=\"button\" class=\"like-button\">\n              <ion-icon [src]=\"item.liked ? 'assets/icons/heart.svg' : 'assets/icons/heart-outline.svg'\"></ion-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n})\nexport class ProfessionalCardComponent implements OnInit {\n  @Input() item: Professional;\n  @Input() columned?= false;\n\n  @Output() external = new EventEmitter<Professional>();\n\n  stars: string[] = [];\n\n  constructor(private router: Router) { }\n\n  ngOnInit() {\n    this.stars = this.getStars(this.item.rate);\n  }\n\n  open(event: any) {\n    if ((event.target as Element).classList.contains('like')) {\n      return;\n    }\n\n    if (this.external.observers.length) {\n      this.external.emit(this.item);\n    } else {\n      this.router.navigate(['/pro', this.item.id]);\n    }\n  }\n\n  like() {\n    this.item.liked = !this.item.liked;\n    this.item.likes += this.item.liked ? 1 : -1;\n  }\n\n  private getStars(rate: number) {\n    const stars: string[] = [];\n\n    for (let i = 0; i < rate; i++) {\n      stars.push('assets/icons/star.svg');\n    }\n\n    for (let i = rate; i < 5; i++) {\n      stars.push('assets/icons/star-outline.svg');\n    }\n\n    return stars;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}