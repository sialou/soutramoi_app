{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./pro-map.component.scss?ngResource\";\nimport { Component, Input } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { StartNavigation } from '@proteansoftware/capacitor-start-navigation';\nimport { environment } from 'src/environments/environment';\nlet ProMapComponent = class ProMapComponent {\n  constructor(platform) {\n    this.platform = platform;\n  }\n  ngOnInit() {\n    const accessToken = environment.mapboxToken;\n    const lngLat = `${this.profile.coords.lat},${this.profile.coords.lng}`;\n    this.map = `https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/${lngLat},12.5,0.00,0.00/512x512@2x?access_token=${accessToken}`;\n  }\n  navigate() {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!this.platform.is('hybrid')) {\n        console.warn('Navigation only works on hybrid platforms');\n        return;\n      }\n      const {\n        coords,\n        name\n      } = this.profile;\n      yield StartNavigation.launchMapsApp({\n        name,\n        latitude: coords.lat,\n        longitude: coords.lng\n      });\n    });\n  }\n};\nProMapComponent.ctorParameters = () => [{\n  type: Platform\n}];\nProMapComponent.propDecorators = {\n  profile: [{\n    type: Input\n  }]\n};\nProMapComponent = __decorate([Component({\n  selector: 'pro-map',\n  template: `\n    <div class=\"profile-heading\">Localisation</div>\n    <div class=\"map-tiles\" [style.backgroundImage]=\"'url(' + map + ')'\">\n      <img src=\"assets/img/map-pin.svg\" alt=\"Marker\">\n    </div>\n    <button type=\"button\" (click)=\"navigate()\">\n      Afficher l’itinéraire\n    </button>\n  `,\n  styles: [__NG_CLI_RESOURCE__0]\n})], ProMapComponent);\nexport { ProMapComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,EAAEC,KAAK,QAAgB,eAAe;AACxD,SAASC,QAAQ,QAAQ,gBAAgB;AAEzC,SAASC,eAAe,QAAQ,6CAA6C;AAE7E,SAASC,WAAW,QAAQ,8BAA8B;AAenD,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAK1BC,YACUC,QAAkB;IAAlB,aAAQ,GAARA,QAAQ;EACd;EAEJC,QAAQ;IACN,MAAMC,WAAW,GAAGL,WAAW,CAACM,WAAW;IAC3C,MAAMC,MAAM,GAAG,GAAG,IAAI,CAACC,OAAO,CAACC,MAAM,CAACC,GAAG,IAAI,IAAI,CAACF,OAAO,CAACC,MAAM,CAACE,GAAG,EAAE;IACtE,IAAI,CAACC,GAAG,GAAG,8DAA8DL,MAAM,2CAA2CF,WAAW,EAAE;EACzI;EAEMQ,QAAQ;;MACZ,IAAI,CAAC,IAAI,CAACV,QAAQ,CAACW,EAAE,CAAC,QAAQ,CAAC,EAAE;QAC/BC,OAAO,CAACC,IAAI,CAAC,2CAA2C,CAAC;QACzD;;MAGF,MAAM;QAAEP,MAAM;QAAEQ;MAAI,CAAE,GAAG,IAAI,CAACT,OAAO;MAErC,MAAMT,eAAe,CAACmB,aAAa,CAAC;QAClCD,IAAI;QACJE,QAAQ,EAAEV,MAAM,CAACC,GAAG;QACpBU,SAAS,EAAEX,MAAM,CAACE;OACnB,CAAC;IACJ,CAAC;;;;;;;;UA3BAd;EAAK;;AADKI,eAAe,eAb3BL,SAAS,CAAC;EACTyB,QAAQ,EAAE,SAAS;EAEnBC,QAAQ,EAAE;;;;;;;;GAQT;;CACF,CAAC,GACWrB,eAAe,CA6B3B;SA7BYA,eAAe","names":["Component","Input","Platform","StartNavigation","environment","ProMapComponent","constructor","platform","ngOnInit","accessToken","mapboxToken","lngLat","profile","coords","lat","lng","map","navigate","is","console","warn","name","launchMapsApp","latitude","longitude","selector","template"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/pages/pro/components/pro-map.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Platform } from '@ionic/angular';\n\nimport { StartNavigation } from '@proteansoftware/capacitor-start-navigation';\n\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'pro-map',\n  styleUrls: ['./pro-map.component.scss'],\n  template: `\n    <div class=\"profile-heading\">Localisation</div>\n    <div class=\"map-tiles\" [style.backgroundImage]=\"'url(' + map + ')'\">\n      <img src=\"assets/img/map-pin.svg\" alt=\"Marker\">\n    </div>\n    <button type=\"button\" (click)=\"navigate()\">\n      Afficher l’itinéraire\n    </button>\n  `,\n})\nexport class ProMapComponent implements OnInit {\n  @Input() profile: Professional;\n\n  map: string;\n\n  constructor(\n    private platform: Platform,\n  ) { }\n\n  ngOnInit() {\n    const accessToken = environment.mapboxToken;\n    const lngLat = `${this.profile.coords.lat},${this.profile.coords.lng}`;\n    this.map = `https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/${lngLat},12.5,0.00,0.00/512x512@2x?access_token=${accessToken}`;\n  }\n\n  async navigate() {\n    if (!this.platform.is('hybrid')) {\n      console.warn('Navigation only works on hybrid platforms');\n      return;\n    }\n\n    const { coords, name } = this.profile;\n\n    await StartNavigation.launchMapsApp({\n      name,\n      latitude: coords.lat,\n      longitude: coords.lng,\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}