{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./profile-pro-products.component.scss?ngResource\";\nimport { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { AlertService } from 'src/app/services/alert.service';\nlet ProfileProProductsComponent = class ProfileProProductsComponent {\n  constructor(alert) {\n    this.alert = alert;\n    this.valueChange = new EventEmitter();\n    this.items = [];\n    this.maxItem = 10;\n  }\n  ngAfterViewInit() {\n    this.input.nativeElement.addEventListener('keyup', e => {\n      if (e.key === 'Enter') {\n        const value = this.input.nativeElement.value;\n        this.add(value.trim());\n      } else if (e.key === ',') {\n        const value = this.input.nativeElement.value;\n        this.add(value.trim().slice(0, -1));\n      }\n    }, false);\n  }\n  ngOnDestroy() {\n    this.input.nativeElement.removeEventListener('keyup', null, false);\n  }\n  add(item) {\n    if (this.items.length === this.maxItem) {\n      return;\n    }\n    if (this.items.indexOf(item) !== -1) {\n      this.alert.present('Ce produit est déjà ajouté');\n      return;\n    }\n    this.items.push(item);\n    this.valueChange.emit(this.items);\n    this.input.nativeElement.value = '';\n  }\n  remove(item) {\n    if (this.items.length === 0) {\n      return;\n    }\n    this.items = this.items.filter(i => i !== item);\n    this.valueChange.emit(this.items);\n  }\n};\nProfileProProductsComponent.ctorParameters = () => [{\n  type: AlertService\n}];\nProfileProProductsComponent.propDecorators = {\n  input: [{\n    type: ViewChild,\n    args: ['input']\n  }],\n  valueChange: [{\n    type: Output\n  }],\n  items: [{\n    type: Input\n  }],\n  maxItem: [{\n    type: Input\n  }]\n};\nProfileProProductsComponent = __decorate([Component({\n  selector: 'profile-pro-products',\n  template: `\n    <h4 class=\"products-title\">Vos produits <small>({{items.length}}/{{maxItem}})</small></h4>\n    <div class=\"products-list\" *ngIf=\"items.length > 0\">\n      <div class=\"product-item\" *ngFor=\"let item of items\">\n        <div class=\"title\">{{item}}</div>\n        <button type=\"button\" (click)=\"remove(item)\">\n          <ion-icon src=\"assets/icons/close.svg\"></ion-icon>\n        </button>\n      </div>\n    </div>\n    <div class=\"products-input\">\n      <textarea #input placeholder=\"Ajouter un produit\" [disabled]=\"items.length === 10\"></textarea>\n    </div>\n    <p class=\"products-text\">Séparer les produits avec des virgules.</p>\n  `,\n  styles: [__NG_CLI_RESOURCE__0]\n})], ProfileProProductsComponent);\nexport { ProfileProProductsComponent };","map":{"version":3,"mappings":";;AAAA,SAAwBA,SAAS,EAAcC,YAAY,EAAEC,KAAK,EAAaC,MAAM,EAAEC,SAAS,QAAQ,eAAe;AAEvH,SAASC,YAAY,QAAQ,gCAAgC;AAqBtD,IAAMC,2BAA2B,GAAjC,MAAMA,2BAA2B;EAMtCC,YACUC,KAAmB;IAAnB,UAAK,GAALA,KAAK;IALL,gBAAW,GAAG,IAAIP,YAAY,EAAY;IAC3C,UAAK,GAAa,EAAE;IACpB,YAAO,GAAG,EAAE;EAIjB;EAEJQ,eAAe;IACb,IAAI,CAACC,KAAK,CAACC,aAAa,CAACC,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAG;MACrD,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;QACrB,MAAMC,KAAK,GAAG,IAAI,CAACL,KAAK,CAACC,aAAa,CAACI,KAAK;QAC5C,IAAI,CAACC,GAAG,CAACD,KAAK,CAACE,IAAI,EAAE,CAAC;OACvB,MAAM,IAAIJ,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QACxB,MAAMC,KAAK,GAAG,IAAI,CAACL,KAAK,CAACC,aAAa,CAACI,KAAK;QAC5C,IAAI,CAACC,GAAG,CAACD,KAAK,CAACE,IAAI,EAAE,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;IAEvC,CAAC,EAAE,KAAK,CAAC;EACX;EAEAC,WAAW;IACT,IAAI,CAACT,KAAK,CAACC,aAAa,CAACS,mBAAmB,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC;EACpE;EAEAJ,GAAG,CAACK,IAAY;IACd,IAAI,IAAI,CAACC,KAAK,CAACC,MAAM,KAAK,IAAI,CAACC,OAAO,EAAE;MACtC;;IAGF,IAAI,IAAI,CAACF,KAAK,CAACG,OAAO,CAACJ,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACnC,IAAI,CAACb,KAAK,CAACkB,OAAO,CAAC,4BAA4B,CAAC;MAChD;;IAGF,IAAI,CAACJ,KAAK,CAACK,IAAI,CAACN,IAAI,CAAC;IACrB,IAAI,CAACO,WAAW,CAACC,IAAI,CAAC,IAAI,CAACP,KAAK,CAAC;IACjC,IAAI,CAACZ,KAAK,CAACC,aAAa,CAACI,KAAK,GAAG,EAAE;EACrC;EAEAe,MAAM,CAACT,IAAY;IACjB,IAAI,IAAI,CAACC,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;MAC3B;;IAGF,IAAI,CAACD,KAAK,GAAG,IAAI,CAACA,KAAK,CAACS,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKX,IAAI,CAAC;IAC/C,IAAI,CAACO,WAAW,CAACC,IAAI,CAAC,IAAI,CAACP,KAAK,CAAC;EACnC;;;;;;;UA/CClB,SAAS;IAAA6B,OAAC,OAAO;EAAA;;UACjB9B;EAAM;;UACND;EAAK;;UACLA;EAAK;;AAJKI,2BAA2B,eAnBvCN,SAAS,CAAC;EACTkC,QAAQ,EAAE,sBAAsB;EAEhCC,QAAQ,EAAE;;;;;;;;;;;;;;GAcT;;CACF,CAAC,GACW7B,2BAA2B,CAiDvC;SAjDYA,2BAA2B","names":["Component","EventEmitter","Input","Output","ViewChild","AlertService","ProfileProProductsComponent","constructor","alert","ngAfterViewInit","input","nativeElement","addEventListener","e","key","value","add","trim","slice","ngOnDestroy","removeEventListener","item","items","length","maxItem","indexOf","present","push","valueChange","emit","remove","filter","i","args","selector","template"],"sourceRoot":"","sources":["/home/digifemmes-22lab149/Bureau/soutramoi_app/src/app/pages/profile-pro/components/profile-pro-products.component.ts"],"sourcesContent":["import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnDestroy, Output, ViewChild } from '@angular/core';\n\nimport { AlertService } from 'src/app/services/alert.service';\n\n@Component({\n  selector: 'profile-pro-products',\n  styleUrls: ['./profile-pro-products.component.scss'],\n  template: `\n    <h4 class=\"products-title\">Vos produits <small>({{items.length}}/{{maxItem}})</small></h4>\n    <div class=\"products-list\" *ngIf=\"items.length > 0\">\n      <div class=\"product-item\" *ngFor=\"let item of items\">\n        <div class=\"title\">{{item}}</div>\n        <button type=\"button\" (click)=\"remove(item)\">\n          <ion-icon src=\"assets/icons/close.svg\"></ion-icon>\n        </button>\n      </div>\n    </div>\n    <div class=\"products-input\">\n      <textarea #input placeholder=\"Ajouter un produit\" [disabled]=\"items.length === 10\"></textarea>\n    </div>\n    <p class=\"products-text\">Séparer les produits avec des virgules.</p>\n  `,\n})\nexport class ProfileProProductsComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('input') input: ElementRef<HTMLTextAreaElement>;\n  @Output() valueChange = new EventEmitter<string[]>();\n  @Input() items: string[] = [];\n  @Input() maxItem = 10;\n\n  constructor(\n    private alert: AlertService,\n  ) { }\n\n  ngAfterViewInit() {\n    this.input.nativeElement.addEventListener('keyup', e => {\n      if (e.key === 'Enter') {\n        const value = this.input.nativeElement.value;\n        this.add(value.trim());\n      } else if (e.key === ',') {\n        const value = this.input.nativeElement.value;\n        this.add(value.trim().slice(0, -1));\n      }\n    }, false);\n  }\n\n  ngOnDestroy() {\n    this.input.nativeElement.removeEventListener('keyup', null, false);\n  }\n\n  add(item: string) {\n    if (this.items.length === this.maxItem) {\n      return;\n    }\n\n    if (this.items.indexOf(item) !== -1) {\n      this.alert.present('Ce produit est déjà ajouté');\n      return;\n    }\n\n    this.items.push(item);\n    this.valueChange.emit(this.items);\n    this.input.nativeElement.value = '';\n  }\n\n  remove(item: string) {\n    if (this.items.length === 0) {\n      return;\n    }\n\n    this.items = this.items.filter(i => i !== item);\n    this.valueChange.emit(this.items);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}